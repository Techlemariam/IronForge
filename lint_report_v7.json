
> ironforge-rpg@1.0.0 lint
> eslint . --format json --no-cache

[{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\capacitor.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\cypress.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\cypress\\e2e\\arena.cy.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\cypress\\e2e\\auth.cy.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\cypress\\e2e\\combat.cy.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\cypress\\e2e\\critical-path.cy.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\cypress\\e2e\\dashboard.cy.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\cypress\\e2e\\features.cy.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\cypress\\e2e\\iron_mines.cy.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\cypress\\e2e\\training_path.cy.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\cypress\\e2e\\workout-logging.cy.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\cypress\\support\\commands.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\cypress\\support\\e2e.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\migrate-actions.cjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\migrate.cjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\migrate.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\next-env.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\next.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\playwright.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\postcss.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\prisma.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\prisma\\clean.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\prisma\\prisma.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\prisma\\seed-battlepass.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\prisma\\seed-emotes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\prisma\\seed-monsters.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\prisma\\seed.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\prisma\\seeds\\territories.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\scripts\\apply-metadata-migration.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\scripts\\check-challenges.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\scripts\\check-env.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\scripts\\ci-classifier.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\scripts\\clean-logs.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\scripts\\debug-hevy-route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\scripts\\force-create-lifetime.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\scripts\\generate-docs.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\scripts\\generate-knowledge-graph.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\scripts\\grant-lifetime.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\scripts\\list-users.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\scripts\\manual_verification_sim.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\scripts\\migrate-intervals.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\scripts\\seed-expansion.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\scripts\\test-hevy-auth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\scripts\\test-intervals-auth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\scripts\\test-loot.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\scripts\\test-xp.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\scripts\\validate-intervals-api.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\scripts\\validate-mocks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\sentry.client.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\sentry.edge.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\sentry.server.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\admin\\seed-battle-pass.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\combat\\boss.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\combat\\core.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\combat\\emotes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\dashboard\\titans-choice.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\economy\\armory.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\economy\\crafting.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\economy\\crates.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\economy\\enchanting.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\economy\\forge.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\economy\\gold-multipliers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\economy\\inventory.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\economy\\resources.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\economy\\shop.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\economy\\upgrade.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\guild\\core.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\guild\\creation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\guild\\quests.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\guild\\raids.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_error' is defined but never used.","line":54,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":54,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use server\";\r\n\r\nimport prisma from \"@/lib/prisma\";\r\nimport { revalidatePath } from \"next/cache\";\r\nimport { z } from \"zod\";\r\nimport { createClient } from \"@/utils/supabase/server\";\r\n\r\n// --- Types & Schemas ---\r\nconst CreateGuildSchema = z.object({\r\n  name: z.string().min(3).max(20),\r\n  description: z.string().optional(),\r\n});\r\n\r\nasync function getAuthenticatedUser() {\r\n  const supabase = await createClient();\r\n  const {\r\n    data: { user },\r\n  } = await supabase.auth.getUser();\r\n  if (!user) throw new Error(\"Unauthorized\");\r\n  return user;\r\n}\r\n\r\n/**\r\n * Create a new guild and assign the creator as a member.\r\n */\r\nexport async function createGuildAction(data: { name: string; description?: string }) {\r\n  try {\r\n    const user = await getAuthenticatedUser();\r\n    const validated = CreateGuildSchema.parse(data);\r\n\r\n    const guild = await prisma.$transaction(async (tx) => {\r\n      const g = await tx.guild.create({\r\n        data: {\r\n          name: validated.name,\r\n          tag: validated.name.substring(0, 4).toUpperCase(), // Auto-generate tag to satisfy schema\r\n          description: validated.description,\r\n          leaderId: user.id,\r\n          isPublic: true,\r\n          minLevel: 1,\r\n          xp: 0,\r\n        },\r\n      });\r\n\r\n      await tx.user.update({\r\n        where: { id: user.id },\r\n        data: { guildId: g.id },\r\n      });\r\n\r\n      return g;\r\n    });\r\n\r\n    revalidatePath(\"/dashboard\");\r\n    return { success: true, guild };\r\n  } catch (_error) {\r\n    return { success: false, error: \"Failed to create guild\" };\r\n  }\r\n}\r\n\r\n/**\r\n * Join an existing guild.\r\n */\r\nexport async function joinGuildAction(guildId: string) {\r\n  try {\r\n    const user = await getAuthenticatedUser();\r\n\r\n    await prisma.user.update({\r\n      where: { id: user.id },\r\n      data: { guildId },\r\n    });\r\n\r\n    revalidatePath(\"/dashboard\");\r\n    return { success: true };\r\n  } catch (e) {\r\n    console.error(e);\r\n    return { success: false, error: \"Failed to join guild\" };\r\n  }\r\n}\r\n\r\n/**\r\n * Get Guild details including current Raid.\r\n */\r\nexport async function getGuildAction() {\r\n  // We handle auth gracefully here returning null if no user\r\n  const supabase = await createClient();\r\n  const {\r\n    data: { user },\r\n  } = await supabase.auth.getUser();\r\n  if (!user) return null;\r\n\r\n  const dbUser = await prisma.user.findUnique({\r\n    where: { id: user.id },\r\n    include: { guild: { include: { raids: true, members: { take: 10 } } } },\r\n  });\r\n\r\n  if (!dbUser?.guild) return null;\r\n\r\n  // Find active raid\r\n  // Simple logic: the one that ends in future\r\n  const activeRaid = dbUser.guild.raids.find(\r\n    (r) => new Date(r.endDate) > new Date(),\r\n  );\r\n\r\n  return {\r\n    ...dbUser.guild,\r\n    activeRaid,\r\n  };\r\n}\r\n\r\n/**\r\n * Start a new Raid (Admin/Leader function, or auto-generated).\r\n */\r\nexport async function startRaidAction(\r\n  guildId: string,\r\n  bossName: string,\r\n  hp: number,\r\n  durationDays: number = 7,\r\n) {\r\n  try {\r\n    const user = await getAuthenticatedUser();\r\n\r\n    // Verify user is leader of the guild\r\n    const guild = await prisma.guild.findUnique({\r\n      where: { id: guildId },\r\n      select: { leaderId: true },\r\n    });\r\n\r\n    if (!guild) {\r\n      return { success: false, error: \"Guild not found\" };\r\n    }\r\n\r\n    if (guild.leaderId !== user.id) {\r\n      return { success: false, error: \"Unauthorized: Only guild leader can start raids\" };\r\n    }\r\n\r\n    const endDate = new Date();\r\n    endDate.setDate(endDate.getDate() + durationDays);\r\n\r\n    const raid = await prisma.guildRaid.create({\r\n      data: {\r\n        guildId,\r\n        bossName,\r\n        totalHp: hp,\r\n        currentHp: hp,\r\n        endDate,\r\n      },\r\n    });\r\n\r\n    revalidatePath(\"/dashboard\");\r\n    return { success: true, raid };\r\n  } catch (_error) {\r\n    console.error(\"Failed to start raid:\", _error);\r\n    return { success: false, error: \"Failed to start raid\" };\r\n  }\r\n}\r\n\r\n/**\r\n * Contribute damage to the active raid.\r\n */\r\nexport async function contributeToRaidAction(raidId: string, damage: number) {\r\n  try {\r\n    const user = await getAuthenticatedUser();\r\n\r\n    const raid = await prisma.guildRaid.findUnique({ where: { id: raidId } });\r\n    if (!raid || Number(raid.currentHp) <= 0)\r\n      return { success: false, error: \"Raid ended or invalid\" };\r\n\r\n    // Assuming currentHp is BigInt in Prisma schema?\r\n    // In previous view it was accessed as raid.currentHp <= 0.\r\n    // If it is BigInt, we need BigInt literals or conversion.\r\n    // Let's assume it is Int or BigInt.\r\n    // If Int, Math.max works. If BigInt, need logic.\r\n    // Usually HP is Int unless huge.\r\n    // Let's safe cast.\r\n\r\n    // Check types from view_file:\r\n    // 97: totalHp: hp,\r\n    // 115: const newHp = Math.max(0, raid.currentHp - damage);\r\n    // This suggests it is number, not BigInt.\r\n    // If it was BigInt, Math.max would fail or need explicit handling.\r\n    // I will keep it as number to match previous code style unless I know schema.\r\n\r\n    const newHp = Math.max(0, Number(raid.currentHp) - damage);\r\n\r\n    await prisma.$transaction([\r\n      prisma.guildRaidContribution.create({\r\n        data: {\r\n          raidId,\r\n          userId: user.id,\r\n          damage,\r\n        },\r\n      }),\r\n      prisma.guildRaid.update({\r\n        where: { id: raidId },\r\n        data: { currentHp: newHp },\r\n      }),\r\n    ]);\r\n\r\n    if (newHp === 0) {\r\n      if (raid.currentHp > 0) {\r\n        // Boss killed logic\r\n        const { checkAchievementsAction } =\r\n          await import(\"@/actions/progression/achievements\");\r\n        await checkAchievementsAction(user.id);\r\n      }\r\n    }\r\n\r\n    revalidatePath(\"/dashboard\");\r\n    return { success: true, damageDealt: damage, bossDead: newHp === 0 };\r\n  } catch (e) {\r\n    console.error(e);\r\n    return { success: false, error: \"Attack failed\" };\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\guild\\rewards.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\integrations\\apple-watch.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\integrations\\core.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\integrations\\garmin.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\integrations\\hevy.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\integrations\\intervals.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_error' is defined but never used.","line":119,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":119,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use server\";\n\nimport {\n  getWellness,\n  getActivities,\n  getEvents,\n  getAthleteSettings,\n} from \"@/lib/intervals\";\nimport { createClient } from \"@/utils/supabase/server\";\nimport prisma from \"@/lib/prisma\";\nimport { IntervalsWellness, IntervalsActivity, IntervalsEvent } from \"@/types\";\n\nasync function getIntervalsCredentials() {\n  const supabase = await createClient();\n  const {\n    data: { user },\n  } = await supabase.auth.getUser();\n\n  if (!user) {\n    throw new Error(\"Unauthorized\");\n  }\n\n  const dbUser = await prisma.user.findUnique({\n    where: { id: user.id },\n    select: { intervalsApiKey: true, intervalsAthleteId: true },\n  });\n\n  if (!dbUser?.intervalsApiKey || !dbUser?.intervalsAthleteId) {\n    throw new Error(\"Intervals.icu not connected\");\n  }\n\n  return {\n    apiKey: dbUser.intervalsApiKey,\n    athleteId: dbUser.intervalsAthleteId,\n  };\n}\n\nexport async function getWellnessAction(\n  date: string,\n): Promise<IntervalsWellness> {\n  try {\n    const { apiKey, athleteId } = await getIntervalsCredentials();\n    const data = await getWellness(date, apiKey, athleteId);\n\n    if (!data || Array.isArray(data)) return {} as IntervalsWellness;\n\n    // Map Lib type (WellnessData) to App type (IntervalsWellness)\n    // lib/intervals.ts uses 'readiness' for bodyBattery, type uses 'bodyBattery'\n    return {\n      id: data?.id,\n      hrv: data?.hrv,\n      restingHR: data?.restingHR,\n      sleepScore: data?.sleepScore,\n      sleepSecs: data?.sleepSecs,\n      bodyBattery: data?.readiness,\n      vo2max: data?.vo2max,\n      ctl: data?.ctl,\n      atl: data?.atl,\n      tsb: data?.tsb,\n      ramp_rate: data?.rampRate,\n    } as IntervalsWellness;\n  } catch (error: any) {\n    console.warn(\"Server Action Intervals Wellness Error:\", error.message);\n    return {} as IntervalsWellness;\n  }\n}\n\nexport async function getWellnessRangeAction(\n  startDate: string,\n  endDate: string,\n): Promise<IntervalsWellness[]> {\n  try {\n    const { apiKey, athleteId } = await getIntervalsCredentials();\n    const data = await getWellness(startDate, apiKey, athleteId, endDate);\n\n    if (!Array.isArray(data)) return [];\n\n    return data.map(d => ({\n      id: d.id,\n      hrv: d.hrv,\n      restingHR: d.restingHR,\n      sleepScore: d.sleepScore,\n      sleepSecs: d.sleepSecs,\n      bodyBattery: d.readiness,\n      vo2max: d.vo2max,\n      ctl: d.ctl,\n      atl: d.atl,\n      tsb: d.tsb,\n      ramp_rate: d.rampRate,\n    } as IntervalsWellness));\n  } catch (error: any) {\n    console.error(\"Server Action Intervals Wellness Range Error:\", error.message);\n    return [];\n  }\n}\n\nexport async function getActivitiesAction(\n  startDate: string,\n  endDate: string,\n): Promise<IntervalsActivity[]> {\n  try {\n    const { apiKey, athleteId } = await getIntervalsCredentials();\n    const data = await getActivities(startDate, endDate, apiKey, athleteId);\n    return data as unknown as IntervalsActivity[];\n  } catch (error: any) {\n    console.error(\"Server Action Intervals Activities Error:\", error.message);\n    return [];\n  }\n}\n\nexport async function getEventsAction(\n  startDate: string,\n  endDate: string,\n): Promise<IntervalsEvent[]> {\n  try {\n    const { apiKey, athleteId } = await getIntervalsCredentials();\n    const data = await getEvents(startDate, endDate, apiKey, athleteId);\n    return data as unknown as IntervalsEvent[];\n  } catch (_error: any) {\n    return [];\n  }\n}\n\nexport async function getAthleteSettingsAction() {\n  try {\n    const { apiKey, athleteId } = await getIntervalsCredentials();\n    const data = await getAthleteSettings(apiKey, athleteId);\n    return data;\n  } catch (error: any) {\n    console.error(\"Server Action Intervals Settings Error:\", error.message);\n    return null;\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\integrations\\strava.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_e' is defined but never used.","line":130,"column":16,"nodeType":"Identifier","messageId":"unusedVar","endLine":130,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use server\";\r\n\r\n/**\r\n * Strava Integration Server Actions\r\n *\r\n * Handles the OAuth2 flow, token management (exchange & refresh),\r\n * and data synchronization between Strava and IronForge.\r\n *\r\n * @module actions/strava\r\n */\r\nimport { createClient } from \"@/utils/supabase/server\";\r\nimport prisma from \"@/lib/prisma\";\r\nimport axios from \"axios\";\r\nimport { revalidatePath } from \"next/cache\";\r\nimport {\r\n  StravaTokenResponse,\r\n  StravaActivity,\r\n  mapStravaActivityToCardioLog,\r\n} from \"@/lib/strava\";\r\nimport { processUserCardioActivity } from \"@/actions/pvp/duel\";\r\n\r\n// Constants removed for lazy evaluation\r\n// const STRAVA_CLIENT_ID = process.env.STRAVA_CLIENT_ID;\r\n// const STRAVA_CLIENT_SECRET = process.env.STRAVA_CLIENT_SECRET;\r\n\r\n/**\r\n * Generates the Strava OAuth2 authorization URL.\r\n *\r\n * dynamically determines the redirect URI based on the host header,\r\n * enabling support for both local development and production environments.\r\n *\r\n * @returns {Promise<string>} The full authorization URL.\r\n * @throws {Error} If STRAVA_CLIENT_ID is missing from environment variables.\r\n */\r\nexport async function getStravaAuthUrlAction() {\r\n  const STRAVA_CLIENT_ID = process.env.STRAVA_CLIENT_ID;\r\n  if (!STRAVA_CLIENT_ID) throw new Error(\"Missing STRAVA_CLIENT_ID\");\r\n\r\n  const scope = \"read,activity:read_all,activity:write\";\r\n  // Dynamically determining host might be unreliable in server actions without headers(),\r\n  // but we can try.\r\n  const { headers } = await import(\"next/headers\");\r\n  const headersList = await headers();\r\n  const host = headersList.get(\"host\") || \"localhost:3000\";\r\n  const protocol = host.includes(\"localhost\") ? \"http\" : \"https\";\r\n  const redirectUri = `${protocol}://${host}/settings`;\r\n\r\n  const url = `https://www.strava.com/oauth/authorize?client_id=${STRAVA_CLIENT_ID}&response_type=code&redirect_uri=${encodeURIComponent(redirectUri)}&approval_prompt=force&scope=${scope}`;\r\n  return url;\r\n}\r\n\r\n/**\r\n * Exchanges a Strava authorization code for an access token.\r\n *\r\n * Persists the access token, refresh token, and expiration time to the user's profile.\r\n *\r\n * @param {string} code - The authorization code returned from Strava.\r\n * @returns {Promise<{success: boolean, error?: string}>} Success status or error message.\r\n */\r\nexport async function exchangeStravaTokenAction(code: string) {\r\n  const STRAVA_CLIENT_ID = process.env.STRAVA_CLIENT_ID;\r\n  const STRAVA_CLIENT_SECRET = process.env.STRAVA_CLIENT_SECRET;\r\n\r\n  if (!STRAVA_CLIENT_ID || !STRAVA_CLIENT_SECRET) {\r\n    return {\r\n      success: false,\r\n      error: \"Strava credentials not configured on server\",\r\n    };\r\n  }\r\n\r\n  const supabase = await createClient();\r\n  const {\r\n    data: { user },\r\n  } = await supabase.auth.getUser();\r\n\r\n  if (!user) return { success: false, error: \"Unauthorized\" };\r\n\r\n  try {\r\n    const response = await axios.post<StravaTokenResponse>(\r\n      \"https://www.strava.com/oauth/token\",\r\n      {\r\n        client_id: STRAVA_CLIENT_ID,\r\n        client_secret: STRAVA_CLIENT_SECRET,\r\n        code,\r\n        grant_type: \"authorization_code\",\r\n      },\r\n    );\r\n\r\n    const { access_token, refresh_token, expires_at, athlete } = response.data;\r\n\r\n    await prisma.user.update({\r\n      where: { id: user.id },\r\n      data: {\r\n        stravaAccessToken: access_token,\r\n        stravaRefreshToken: refresh_token,\r\n        stravaExpiresAt: expires_at,\r\n        stravaAthleteId: athlete.id.toString(),\r\n      },\r\n    });\r\n\r\n    revalidatePath(\"/settings\");\r\n    return { success: true };\r\n  } catch (error: unknown) {\r\n    if (axios.isAxiosError(error)) {\r\n      console.error(\"Strava Token Exchange Error:\", error.response?.data || error.message);\r\n    } else {\r\n      console.error(\"Strava Token Exchange Error:\", error);\r\n    }\r\n    return { success: false, error: \"Failed to exchange token with Strava\" };\r\n  }\r\n}\r\n\r\nexport async function disconnectStravaAction() {\r\n  const supabase = await createClient();\r\n  const {\r\n    data: { user },\r\n  } = await supabase.auth.getUser();\r\n\r\n  if (!user) return { success: false, error: \"Unauthorized\" };\r\n\r\n  try {\r\n    const dbUser = await prisma.user.findUnique({ where: { id: user.id } });\r\n\r\n    if (dbUser?.stravaAccessToken) {\r\n      // Optional: Revoke token\r\n      try {\r\n        await axios.post(\"https://www.strava.com/oauth/deauthorize\", {\r\n          access_token: dbUser.stravaAccessToken,\r\n        });\r\n      } catch (_e) {\r\n        // Ignore deauth failure\r\n      }\r\n    }\r\n\r\n    await prisma.user.update({\r\n      where: { id: user.id },\r\n      data: {\r\n        stravaAccessToken: null,\r\n        stravaRefreshToken: null,\r\n        stravaExpiresAt: null,\r\n        stravaAthleteId: null,\r\n      },\r\n    });\r\n\r\n    revalidatePath(\"/settings\");\r\n    return { success: true };\r\n  } catch (error: any) {\r\n    return { success: false, error: error.message };\r\n  }\r\n}\r\n\r\nasync function getValidAccessToken(userId: string) {\r\n  const user = await prisma.user.findUnique({ where: { id: userId } });\r\n  if (!user || !user.stravaAccessToken) return null;\r\n\r\n  const now = Math.floor(Date.now() / 1000);\r\n\r\n  // If expired or expiring soon (within 5 mins), refresh\r\n  if (user.stravaExpiresAt && user.stravaExpiresAt < now + 300) {\r\n    if (!user.stravaRefreshToken) return null;\r\n\r\n    try {\r\n      const response = await axios.post<StravaTokenResponse>(\r\n        \"https://www.strava.com/oauth/token\",\r\n        {\r\n          client_id: process.env.STRAVA_CLIENT_ID,\r\n          client_secret: process.env.STRAVA_CLIENT_SECRET,\r\n          grant_type: \"refresh_token\",\r\n          refresh_token: user.stravaRefreshToken,\r\n        },\r\n      );\r\n\r\n      const { access_token, refresh_token, expires_at } = response.data;\r\n\r\n      await prisma.user.update({\r\n        where: { id: userId },\r\n        data: {\r\n          stravaAccessToken: access_token,\r\n          stravaRefreshToken: refresh_token,\r\n          stravaExpiresAt: expires_at,\r\n        },\r\n      });\r\n\r\n      return access_token;\r\n    } catch (error) {\r\n      console.error(\"RefreshToken Error:\", error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  return user.stravaAccessToken;\r\n}\r\n\r\n/**\r\n * Syncs recent activities from Strava to IronForge.\r\n *\r\n * Fetches the last 30 activities. Checks for duplicates using `intervalsId` (prefixed with 'strava_').\r\n * Creates new `CardioLog` entries for new activities and awards rewards (XP, Gold, Kinetic Energy).\r\n *\r\n * @returns {Promise<{success: boolean, count?: number, error?: string}>} Sync result and count of new activities.\r\n */\r\nexport async function syncStravaActivitiesAction() {\r\n  const supabase = await createClient();\r\n  const {\r\n    data: { user },\r\n  } = await supabase.auth.getUser();\r\n\r\n  if (!user) return { success: false, error: \"Unauthorized\" };\r\n\r\n  const token = await getValidAccessToken(user.id);\r\n  if (!token)\r\n    return { success: false, error: \"Strava not connected or token invalid\" };\r\n\r\n  try {\r\n    // Fetch last 30 activities\r\n    const response = await axios.get<StravaActivity[]>(\r\n      \"https://www.strava.com/api/v3/athlete/activities\",\r\n      {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n        params: { per_page: 30 },\r\n      },\r\n    );\r\n\r\n    const activities = response.data;\r\n    let syncedCount = 0;\r\n\r\n    for (const activity of activities) {\r\n      // Check if exists\r\n      const existing = await prisma.cardioLog.findUnique({\r\n        where: { intervalsId: `strava_${activity.id}` }, // Reusing this field for external ID\r\n      });\r\n\r\n      if (!existing) {\r\n        const logData = mapStravaActivityToCardioLog(activity, user.id);\r\n\r\n        // Create Log\r\n        await prisma.cardioLog.create({\r\n          data: logData,\r\n        });\r\n\r\n        // Trigger Duel Updates\r\n        // distance is in meters in logData? mapStravaActivityToCardioLog likely returns it.\r\n        // Assuming logData structure matches CardioLog which doesn't have distance? \r\n        // Wait, CardioLog schema doesn't have distance column (only type, duration, load).\r\n        // Let me check schema again. CardioLog has duration. Duel needs distance.\r\n        // I need to fetch distance from activity.\r\n        const distanceKm = activity.distance / 1000;\r\n        const durationMin = activity.moving_time / 60;\r\n        await processUserCardioActivity(user.id, activity.type, distanceKm, durationMin);\r\n\r\n        // Award Rewards (Simple: 1 XP per minute, 1 Gold per minute)\r\n        // This logic should ideally be centralized in a 'RewardService'\r\n        const minutes = Math.floor(logData.duration / 60);\r\n        if (minutes > 0) {\r\n          await prisma.user.update({\r\n            where: { id: user.id },\r\n            data: {\r\n              totalExperience: { increment: minutes },\r\n              gold: { increment: minutes },\r\n              kineticEnergy: { increment: Math.floor(minutes / 2) },\r\n            },\r\n          });\r\n        }\r\n\r\n        syncedCount++;\r\n      }\r\n    }\r\n\r\n    revalidatePath(\"/\");\r\n    return { success: true, count: syncedCount };\r\n  } catch (error: unknown) {\r\n    console.error(\"Sync Error:\", error);\r\n    const message = error instanceof Error ? error.message : \"Sync failed\";\r\n    return { success: false, error: message };\r\n  }\r\n}\r\n\r\nexport async function uploadToStravaAction(formData: FormData) {\r\n  const supabase = await createClient();\r\n  const {\r\n    data: { user },\r\n  } = await supabase.auth.getUser();\r\n\r\n  if (!user) return { success: false, error: \"Unauthorized\" };\r\n\r\n  const token = await getValidAccessToken(user.id);\r\n  if (!token)\r\n    return { success: false, error: \"Strava not connected or token invalid\" };\r\n\r\n  const file = formData.get(\"file\") as File;\r\n  if (!file) return { success: false, error: \"No file provided\" };\r\n\r\n  try {\r\n    // Convert File to Blob/Buffer for Axios\r\n    const arrayBuffer = await file.arrayBuffer();\r\n    const buffer = Buffer.from(arrayBuffer);\r\n\r\n    // Append raw data. Note: In Node environment with axios + form-data,\r\n    // passing a buffer often requires a filename.\r\n    // But since we are using native FormData in Next.js Server Actions (Node 18+),\r\n    // we might need to handle the axios post carefully.\r\n    // Actually, let's use standard fetch for the upload to handle FormData natively if possible,\r\n    // or construct properly for axios.\r\n\r\n    // Simpler approach with Axios:\r\n    const form = new FormData();\r\n    form.append(\"file\", new Blob([buffer]), file.name);\r\n    form.append(\"data_type\", file.name.endsWith(\".fit\") ? \"fit\" : \"gpx\");\r\n\r\n    // NOTE: Node's FormData (undici) might behave differently with axios.\r\n    // Let's use the native fetch which Next.js polyfills/supports well.\r\n\r\n    const stravaFormData = new FormData();\r\n    stravaFormData.append(\"file\", new Blob([buffer]), file.name);\r\n    stravaFormData.append(\r\n      \"data_type\",\r\n      file.name.endsWith(\".fit\") ? \"fit\" : \"gpx\",\r\n    );\r\n\r\n    const response = await fetch(\"https://www.strava.com/api/v3/uploads\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: stravaFormData,\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const err = await response.json();\r\n      throw new Error(err.message || \"Upload failed\");\r\n    }\r\n\r\n    const result = await response.json();\r\n    return { success: true, uploadId: result.id, status: result.status };\r\n  } catch (error: any) {\r\n    console.error(\"Upload Error:\", error);\r\n    return { success: false, error: error.message };\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\mobility\\logMobilityAction.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\notifications\\core.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\notifications\\pr.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\notifications\\push.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\oracle.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\oracle\\chat.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_error' is defined but never used.","line":84,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":84,"endColumn":20}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use server';\r\n\r\nimport prisma from '@/lib/prisma';\r\nimport { createClient } from '@/utils/supabase/server';\r\nimport { revalidatePath } from 'next/cache';\r\nimport { TrainingContextService } from '@/services/data/TrainingContextService';\r\nimport { GeminiService } from '@/services/gemini';\r\n\r\n/**\r\n * Sends a message to the Oracle (Gemini) and persists the interaction.\r\n */\r\nexport async function chatWithOracleAction(message: string) {\r\n    try {\r\n        const supabase = await createClient();\r\n        const { data: { user } } = await supabase.auth.getUser();\r\n        if (!user) throw new Error(\"Unauthorized\");\r\n\r\n        // 1. Persist User Message\r\n        await prisma.oracleMessage.create({\r\n            data: {\r\n                userId: user.id,\r\n                role: 'user',\r\n                content: message\r\n            }\r\n        });\r\n\r\n        // 2. Fetch Context\r\n        const context = await TrainingContextService.getTrainingContext(user.id);\r\n        const bioString = `\r\n            Readiness: ${context.readiness}\r\n            CNS Fatigue: ${context.cnsFatigue}\r\n            Cardio Stress: ${context.cardioStress}\r\n            Warnings: ${context.warnings.join(\", \") || \"None\"}\r\n        `;\r\n\r\n        // 3. Get History\r\n        const messages = await prisma.oracleMessage.findMany({\r\n            where: { userId: user.id },\r\n            orderBy: { timestamp: 'desc' },\r\n            take: 6\r\n        });\r\n        const history = messages.reverse().map(m => ({\r\n            role: m.role,\r\n            content: m.content\r\n        }));\r\n\r\n        // 4. Call Generative AI\r\n        const oracleResponse = await GeminiService.chat(message, history, bioString);\r\n\r\n        // 5. Persist Oracle Response\r\n        await prisma.oracleMessage.create({\r\n            data: {\r\n                userId: user.id,\r\n                role: 'oracle',\r\n                content: oracleResponse\r\n            }\r\n        });\r\n\r\n        revalidatePath('/oracle');\r\n        return { success: true, message: oracleResponse };\r\n\r\n    } catch (error) {\r\n        console.error(\"Oracle Chat Error:\", error);\r\n        return { success: false, message: \"The Oracle is silent.\" };\r\n    }\r\n}\r\n\r\n/**\r\n * Retrieves the recent chat history for the user.\r\n */\r\nexport async function getOracleHistoryAction(limit = 20) {\r\n    try {\r\n        const supabase = await createClient();\r\n        const { data: { user } } = await supabase.auth.getUser();\r\n        if (!user) return [];\r\n\r\n        const messages = await prisma.oracleMessage.findMany({\r\n            where: { userId: user.id },\r\n            orderBy: { timestamp: 'desc' },\r\n            take: limit\r\n        });\r\n\r\n        return messages.reverse();\r\n    } catch (_error) {\r\n        return [];\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\oracle\\core.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\oracle\\seed.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\progression\\achievements.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\progression\\core.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\progression\\mastery.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\progression\\milestones.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\progression\\prestige.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\pvp\\duel-leaderboard.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\pvp\\duel.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\pvp\\leaderboards.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\pvp\\leagues.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\pvp\\ranked.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\pvp\\ranking.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\pvp\\segment-leaderboard.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\pvp\\segment.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\pvp\\titan.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\pvp\\tournaments.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\social\\announcements.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\social\\core.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\social\\feed.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\social\\friend-challenges.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\social\\friends.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\social\\leaderboards.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\social\\live-feed.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\social\\rivals.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\systems\\battle-pass.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\systems\\bestiary.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\systems\\challenges.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\systems\\companion.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\systems\\daily-quests.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\systems\\gameplay.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\systems\\lore.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\systems\\seasonal-events.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\systems\\territories.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\systems\\territory.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\systems\\weekly-challenges.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\systems\\world.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\territory.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\titan\\body-metrics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\titan\\comparison.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\titan\\core.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_e' is defined but never used.","line":292,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":292,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_e' is defined but never used.","line":312,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":312,"endColumn":16}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use server\";\r\n\r\nimport { prisma } from \"@/lib/prisma\";\r\nimport { revalidatePath } from \"next/cache\";\r\nimport { z } from \"zod\";\r\nimport { IntervalsWellness } from \"@/types\";\r\nimport { ProgressionService } from \"@/services/progression\";\r\n\r\n// --- Types ---\r\nexport type TitanState = {\r\n  id: string;\r\n  level: number;\r\n  xp: number;\r\n  currentHp: number;\r\n  maxHp: number;\r\n  mood: string;\r\n  currentEnergy: number;\r\n  maxEnergy: number;\r\n  isInjured: boolean;\r\n  isResting: boolean;\r\n  name: string;\r\n  powerRating?: number;\r\n  hrvBaseline?: number | null;\r\n  streak: number;\r\n};\r\n\r\n// --- Legacy Schema (Deprecated) ---\r\nconst updateTitanSchema = z.object({\r\n  currentHp: z.number().optional(),\r\n  xp: z.number().optional(),\r\n  currentEnergy: z.number().optional(),\r\n  mood: z.string().optional(),\r\n  isInjured: z.boolean().optional(),\r\n});\r\n\r\n// --- Actions ---\r\n\r\nexport async function getTitanAction(userId: string) {\r\n  try {\r\n    const titan = await prisma.titan.findUnique({\r\n      where: { userId },\r\n      include: {\r\n        memories: true,\r\n        scars: true,\r\n      },\r\n    });\r\n    return { success: true, data: titan };\r\n  } catch (error) {\r\n    console.error(\"Error fetching titan:\", error);\r\n    return { success: false, error: \"Failed to fetch Titan\" };\r\n  }\r\n}\r\n\r\nexport async function ensureTitanAction(userId: string) {\r\n  try {\r\n    const existing = await prisma.titan.findUnique({ where: { userId } });\r\n    if (existing) return { success: true, data: existing };\r\n\r\n    const newTitan = await prisma.titan.create({\r\n      data: {\r\n        userId,\r\n        name: \"Iron Initiate\",\r\n        level: 1,\r\n        xp: 0,\r\n        currentHp: 100,\r\n        maxHp: 100,\r\n        currentEnergy: 100,\r\n        maxEnergy: 100,\r\n        mood: \"NEUTRAL\",\r\n      },\r\n    });\r\n\r\n    revalidatePath(\"/citadel\");\r\n    return { success: true, data: newTitan };\r\n  } catch (error) {\r\n    console.error(\"Error ensuring titan:\", error);\r\n    return { success: false, error: \"Failed to create Titan\" };\r\n  }\r\n}\r\n\r\n/**\r\n * @deprecated UNSAFE: Clients should not dictate state directly. Use specific actions below.\r\n */\r\nexport async function updateTitanAction(\r\n  userId: string,\r\n  data: z.infer<typeof updateTitanSchema>,\r\n) {\r\n  try {\r\n    const validated = updateTitanSchema.parse(data);\r\n    const titan = await prisma.titan.update({\r\n      where: { userId },\r\n      data: { ...validated, lastActive: new Date() },\r\n    });\r\n    revalidatePath(\"/citadel\");\r\n    return { success: true, data: titan };\r\n  } catch (error) {\r\n    console.error(\"Error updating titan:\", error);\r\n    return { success: false, error: \"Failed to update Titan\" };\r\n  }\r\n}\r\n\r\n// --- NEW AUTHORITATIVE ACTIONS ---\r\n\r\nexport async function modifyTitanHealthAction(\r\n  userId: string,\r\n  delta: number,\r\n  _reason: string,\r\n) {\r\n  try {\r\n    const titan = await prisma.titan.findUnique({ where: { userId } });\r\n    if (!titan) throw new Error(\"Titan not found\");\r\n\r\n    let newHp = titan.currentHp + delta;\r\n    // Clamp\r\n    if (newHp > titan.maxHp) newHp = titan.maxHp;\r\n    if (newHp < 0) newHp = 0;\r\n\r\n    const isInjured = newHp === 0;\r\n\r\n    // Optimistic update of mood if injured\r\n    let mood = titan.mood;\r\n    if (isInjured) mood = \"WEAKENED\";\r\n\r\n    const updated = await prisma.titan.update({\r\n      where: { userId },\r\n      data: {\r\n        currentHp: newHp,\r\n        isInjured: isInjured,\r\n        mood: mood,\r\n        lastActive: new Date(),\r\n      },\r\n    });\r\n\r\n    revalidatePath(\"/citadel\");\r\n    revalidatePath(\"/dashboard\");\r\n    return { success: true, data: updated };\r\n  } catch (error: any) {\r\n    console.error(\"Error modifying health:\", error);\r\n    return { success: false, error: error.message };\r\n  }\r\n}\r\n\r\nexport async function awardTitanXpAction(\r\n  userId: string,\r\n  amount: number,\r\n  _source: string,\r\n) {\r\n  try {\r\n    const titan = await prisma.titan.findUnique({ where: { userId } });\r\n    if (!titan) throw new Error(\"Titan not found\");\r\n\r\n    const user = await prisma.user.findUnique({ where: { id: userId } });\r\n\r\n    const decree = titan.dailyDecree as any;\r\n    const multiplier = ProgressionService.calculateMultiplier(\r\n      titan.streak,\r\n      titan.mood,\r\n      user?.subscriptionTier || \"FREE\",\r\n      decree?.type,\r\n      titan.level,\r\n    );\r\n\r\n    const adjustedAmount = Math.floor(amount * multiplier);\r\n\r\n    let newXp = titan.xp + adjustedAmount;\r\n    let newLevel = titan.level;\r\n    let leveledUp = false;\r\n\r\n    // Simple Level Curve: Level * 1000 XP\r\n    const xpToNext = newLevel * 1000;\r\n\r\n    while (newXp >= xpToNext) {\r\n      newXp -= xpToNext;\r\n      newLevel++;\r\n      leveledUp = true;\r\n    }\r\n\r\n    const data: any = {\r\n      xp: newXp,\r\n      level: newLevel,\r\n      lastActive: new Date(),\r\n    };\r\n\r\n    if (leveledUp) {\r\n      data.maxHp = 100 + newLevel * 10;\r\n      data.currentHp = data.maxHp; // Heal on level up\r\n      data.currentEnergy = 100; // Refill energy\r\n    }\r\n\r\n    const updated = await prisma.titan.update({\r\n      where: { userId },\r\n      data,\r\n    });\r\n\r\n    revalidatePath(\"/citadel\");\r\n    return { success: true, data: updated, leveledUp };\r\n  } catch (error: any) {\r\n    console.error(\"Error awarding XP:\", error);\r\n    return { success: false, error: error.message };\r\n  }\r\n}\r\n\r\nexport async function consumeTitanEnergyAction(userId: string, amount: number) {\r\n  try {\r\n    const titan = await prisma.titan.findUnique({ where: { userId } });\r\n    if (!titan) throw new Error(\"Titan not found\");\r\n\r\n    if (titan.currentEnergy < amount) {\r\n      return { success: false, error: \"Not enough energy\" };\r\n    }\r\n\r\n    const updated = await prisma.titan.update({\r\n      where: { userId },\r\n      data: {\r\n        currentEnergy: { decrement: amount },\r\n        lastActive: new Date(),\r\n      },\r\n    });\r\n\r\n    revalidatePath(\"/citadel\");\r\n    return { success: true, data: updated };\r\n  } catch (error: any) {\r\n    return { success: false, error: error.message };\r\n  }\r\n}\r\n\r\nexport async function syncTitanStateWithWellness(\r\n  userId: string,\r\n  wellness: IntervalsWellness,\r\n) {\r\n  try {\r\n    const titan = await prisma.titan.findUnique({ where: { userId } });\r\n    if (!titan) return { success: false, error: \"Titan not found\" };\r\n\r\n    const newEnergy = wellness.bodyBattery || titan.currentEnergy;\r\n    let newMood = \"NEUTRAL\";\r\n    const sleepScore = wellness.sleepScore || 0;\r\n    const hrv = wellness.hrv || 0;\r\n\r\n    if (\r\n      (wellness.bodyBattery && wellness.bodyBattery < 30) ||\r\n      (hrv > 0 && hrv < 30)\r\n    ) {\r\n      newMood = \"WEAKENED\";\r\n    } else if (\r\n      wellness.bodyBattery &&\r\n      wellness.bodyBattery > 80 &&\r\n      sleepScore > 80\r\n    ) {\r\n      newMood = \"FOCUSED\";\r\n    }\r\n\r\n    const isResting = (wellness.bodyBattery || 100) < 20;\r\n\r\n    await prisma.titan.update({\r\n      where: { userId },\r\n      data: {\r\n        currentEnergy: newEnergy,\r\n        mood: newMood,\r\n        isResting: isResting,\r\n        lastActive: new Date(),\r\n      },\r\n    });\r\n\r\n    return { success: true };\r\n  } catch (error) {\r\n    console.error(\"Sync Titan/Wellness failed:\", error);\r\n    return { success: false };\r\n  }\r\n}\r\n\r\nexport async function checkAndIncrementStreakAction(\r\n  userId: string,\r\n  timezone: string = \"UTC\",\r\n) {\r\n  try {\r\n    const titan = await prisma.titan.findUnique({ where: { userId } });\r\n    if (!titan) throw new Error(\"Titan not found\");\r\n\r\n    const now = new Date();\r\n    const lastActive = new Date(titan.lastActive);\r\n\r\n    // Use 'en-CA' for ISO-like YYYY-MM-DD format\r\n    const options: Intl.DateTimeFormatOptions = { timeZone: timezone };\r\n\r\n    // We catch strict timezone errors by defaulting if invalid\r\n    let todayStr: string;\r\n    let lastActiveStr: string;\r\n    try {\r\n      todayStr = now.toLocaleDateString(\"en-CA\", options);\r\n      lastActiveStr = lastActive.toLocaleDateString(\"en-CA\", options);\r\n    } catch (_e) {\r\n      console.warn(\r\n        \"Invalid timezone for streak check, defaulting to UTC:\",\r\n        timezone,\r\n      );\r\n      // Fallback to UTC if timezone is invalid\r\n      const utcOptions = { timeZone: \"UTC\" };\r\n      todayStr = now.toLocaleDateString(\"en-CA\", utcOptions);\r\n      lastActiveStr = lastActive.toLocaleDateString(\"en-CA\", utcOptions);\r\n    }\r\n\r\n    if (todayStr === lastActiveStr) {\r\n      return { success: true, streak: titan.streak, status: \"SAME_DAY\" };\r\n    }\r\n\r\n    // Determine \"Yesterday\" in the user's timezone\r\n    const yesterdayTs = new Date(now.getTime() - 24 * 60 * 60 * 1000);\r\n    let yesterdayStr: string;\r\n    try {\r\n      yesterdayStr = yesterdayTs.toLocaleDateString(\"en-CA\", options);\r\n    } catch (_e) {\r\n      yesterdayStr = yesterdayTs.toLocaleDateString(\"en-CA\", {\r\n        timeZone: \"UTC\",\r\n      });\r\n    }\r\n\r\n    let newStreak = 1;\r\n    if (lastActiveStr === yesterdayStr) {\r\n      newStreak = titan.streak + 1;\r\n    }\r\n\r\n    // Optimistic update\r\n    await prisma.titan.update({\r\n      where: { userId },\r\n      data: {\r\n        streak: newStreak,\r\n        lastActive: new Date(),\r\n      },\r\n    });\r\n\r\n    revalidatePath(\"/citadel\");\r\n    revalidatePath(\"/dashboard\");\r\n\r\n    return { success: true, streak: newStreak, status: \"UPDATED\" };\r\n  } catch (error: any) {\r\n    console.error(\"Streak update failed:\", error);\r\n    return { success: false, error: error.message };\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\titan\\customization.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\titan\\muscle-heatmap.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\titan\\photos.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\titan\\power-rating.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\titan\\skill-presets.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\titan\\stat-overrides.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\titan\\xp-multiplier.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\training\\anti-grind.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\training\\calendar.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\training\\cardio.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\training\\core.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\training\\dna.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\training\\dungeon-floors.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\training\\dungeon-gating.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\training\\export.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\training\\gauntlet.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\training\\getIronForgeStrengthLogs.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\training\\max-reps.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\training\\notes.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\training\\overtraining.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\training\\periodization.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\training\\plan.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\training\\program.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\training\\programs.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\training\\recovery.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\training\\strength.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_e' is defined but never used.","line":107,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":107,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_e' is defined but never used.","line":124,"column":16,"nodeType":"Identifier","messageId":"unusedVar","endLine":124,"endColumn":18},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_e' is defined but never used.","line":135,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":135,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_e' is defined but never used.","line":207,"column":16,"nodeType":"Identifier","messageId":"unusedVar","endLine":207,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use server\";\r\n\r\nimport { prisma } from \"@/lib/prisma\";\r\nimport { revalidatePath } from \"next/cache\";\r\nimport { z } from \"zod\";\r\n\r\n// --- Types & Schemas ---\r\n\r\nconst SetSchema = z.object({\r\n  id: z.string().optional(), // Frontend ID for optimistic updates\r\n  reps: z.number().int().min(1),\r\n  weight: z.number().min(0),\r\n  rpe: z.number().min(1).max(10).optional(),\r\n  restSec: z.number().optional(),\r\n  isWarmup: z.boolean().default(false),\r\n  completedAt: z.string().optional(), // ISO date\r\n  setType: z.enum([\"normal\", \"failure\", \"dropset\", \"warmup\", \"myoreps\"]).optional(),\r\n});\r\n\r\nexport type SetData = z.infer<typeof SetSchema>;\r\n\r\n\r\n\r\n// --- Actions ---\r\n\r\n/**\r\n * Logs a set for an exercise.\r\n * If a log exists for this exercise on this date, appends the set.\r\n * Otherwise creates a new log.\r\n */\r\nexport async function logSetAction(\r\n  userId: string,\r\n  exerciseId: string,\r\n  set: SetData,\r\n) {\r\n  try {\r\n    const validatedSet = SetSchema.parse(set);\r\n    const today = new Date();\r\n    const startOfDay = new Date(today.setHours(0, 0, 0, 0));\r\n    const endOfDay = new Date(today.setHours(23, 59, 59, 999));\r\n\r\n    // 1. Find existing log for today\r\n    const existingLog = await prisma.exerciseLog.findFirst({\r\n      where: {\r\n        userId,\r\n        exerciseId,\r\n        date: {\r\n          gte: startOfDay,\r\n          lte: endOfDay,\r\n        },\r\n      },\r\n    });\r\n\r\n    let logId = existingLog?.id;\r\n    let currentSets = (existingLog?.sets as SetData[]) || [];\r\n\r\n    // 2. Add or Update Set\r\n    // Check if set ID exists to update, otherwise append\r\n    const existingSetIndex = validatedSet.id\r\n      ? currentSets.findIndex((s) => s.id === validatedSet.id)\r\n      : -1;\r\n\r\n    if (existingSetIndex >= 0) {\r\n      currentSets[existingSetIndex] = validatedSet;\r\n    } else {\r\n      currentSets.push({\r\n        ...validatedSet,\r\n        completedAt: new Date().toISOString(),\r\n      });\r\n    }\r\n\r\n    // 3. Calculate E1RM for this set (Epley Formula: w * (1 + r/30))\r\n    const _e1rm = validatedSet.weight * (1 + validatedSet.reps / 30);\r\n\r\n    // 4. Save to DB\r\n    if (existingLog) {\r\n      await prisma.exerciseLog.update({\r\n        where: { id: existingLog.id },\r\n        data: {\r\n          sets: currentSets as any, // Prisma JSON type workaround\r\n        },\r\n      });\r\n    } else {\r\n      const newLog = await prisma.exerciseLog.create({\r\n        data: {\r\n          userId,\r\n          exerciseId,\r\n          date: new Date(),\r\n          sets: currentSets as any,\r\n          isPersonalRecord: false, // Calculated later\r\n        },\r\n      });\r\n      logId = newLog.id;\r\n    }\r\n\r\n    // 5. Check for PR (simple logic: max weight check for now)\r\n    // In a real app, we'd compare against history.\r\n\r\n    // 5. Check for Achievements\r\n    let newAchievements: any[] = [];\r\n    try {\r\n      const { checkAchievementsAction } = await import(\"@/actions/progression/achievements\");\r\n      const result = await checkAchievementsAction(userId);\r\n      if (result && \"newUnlocks\" in result) {\r\n        newAchievements = result.newUnlocks;\r\n      }\r\n    } catch (_e) {\r\n      console.error(\"Achievement check failed:\", e);\r\n    }\r\n\r\n    // 6. Guild Raid Integration (Boss Eraser)\r\n    let raidDamageDealt = 0;\r\n    if (validatedSet.rpe && validatedSet.rpe >= 9 && !validatedSet.isWarmup) {\r\n      try {\r\n        const { contributeGuildDamageAction } = await import(\"@/actions/guild/core\");\r\n        // Damage = Weight * Reps (Kinetic Force)\r\n        const damage = Math.floor(validatedSet.weight * validatedSet.reps);\r\n        if (damage > 0) {\r\n          const raidResult = await contributeGuildDamageAction(userId, damage);\r\n          if (raidResult.success && raidResult.damageDealt) {\r\n            raidDamageDealt = raidResult.damageDealt;\r\n          }\r\n        }\r\n      } catch (_e) {\r\n        console.error(\"Guild Raid contribution failed:\", e);\r\n      }\r\n    }\r\n\r\n    // 7. Challenge & Quest Updates\r\n    try {\r\n      const { processWorkoutLog } = await import(\"@/services/challengeService\");\r\n      // We log volume (Weight * Reps) and Reps.\r\n      // processWorkoutLog handles \"Volume\" and \"Workout\" quest counts via logic updates\r\n      await processWorkoutLog(userId, validatedSet.weight, validatedSet.reps);\r\n    } catch (_e) {\r\n      console.error(\"Challenge update failed:\", e);\r\n    }\r\n\r\n    return { success: true, logId, sets: currentSets, newAchievements, raidDamageDealt };\r\n  } catch (error) {\r\n    console.error(\"Error logging set:\", error);\r\n    return { success: false, error: \"Failed to log set\" };\r\n  }\r\n}\r\n\r\n/**\r\n * Finish a workout session, calculate total volume, and check for PRs.\r\n */\r\nexport async function finishWorkoutAction(userId: string, logIds: string[]) {\r\n  try {\r\n    // 1. Calculate Total Volume for recent logs (simple approach)\r\n    // Ideally we'd sum volume for the specific logIds passed\r\n    const logs = await prisma.exerciseLog.findMany({\r\n      where: {\r\n        userId,\r\n        id: { in: logIds }\r\n      }\r\n    });\r\n\r\n    // 2. Award XP Modified by Intensity (Resource Cost Proxy)\r\n    // 100kg Deadlift > 100kg Calf Raise.\r\n    // We fetch the exercises to determine the multiplier.\r\n    const exerciseIds = Array.from(new Set(logs.map(l => l.exerciseId)));\r\n    const exercises = await prisma.exercise.findMany({\r\n      where: { id: { in: exerciseIds } },\r\n      select: { id: true, muscleGroup: true }\r\n    });\r\n\r\n    const muscleMap = new Map(exercises.map(e => [e.id, e.muscleGroup]));\r\n\r\n    // Multipliers based on CNS demand\r\n    const TIER_1_MUSCLES = ['QUADS', 'BACK', 'CHEST', 'HAMSTRINGS', 'GLUTES']; // Large Compounds (1.2x)\r\n    const TIER_2_MUSCLES = ['SHOULDERS', 'TRICEPS', 'BICEPS']; // Medium (1.0x)\r\n    const TIER_3_MUSCLES = ['CALVES', 'ABS', 'FOREARMS']; // Small (0.8x)\r\n\r\n    let weightedVolume = 0;\r\n\r\n    logs.forEach(log => {\r\n      const sets = (log.sets as unknown as SetData[]) || [];\r\n      const muscle = muscleMap.get(log.exerciseId)?.toUpperCase() || 'OTHER';\r\n\r\n      let multiplier = 1.0;\r\n      if (TIER_1_MUSCLES.includes(muscle)) multiplier = 1.2;\r\n      else if (TIER_2_MUSCLES.includes(muscle)) multiplier = 1.0;\r\n      else if (TIER_3_MUSCLES.includes(muscle)) multiplier = 0.8;\r\n\r\n      sets.forEach(set => {\r\n        weightedVolume += (set.weight * set.reps) * multiplier;\r\n      });\r\n    });\r\n\r\n    const xpAward = Math.floor(weightedVolume * 0.01);\r\n\r\n    // 3. Execute Progression Updates\r\n    const { ProgressionService } = await import(\"@/services/progression\");\r\n\r\n    if (xpAward > 0) {\r\n      await ProgressionService.addExperience(userId, xpAward);\r\n\r\n      // 3b. Award Battle Pass XP (50% of Base XP)\r\n      try {\r\n        const { addBattlePassXpAction } = await import(\"@/actions/systems/battle-pass\");\r\n        const bpXp = Math.floor(xpAward * 0.5);\r\n        if (bpXp > 0) {\r\n          await addBattlePassXpAction(userId, bpXp);\r\n        }\r\n      } catch (_e) {\r\n        console.error(\"Battle Pass update failed:\", e);\r\n      }\r\n    }\r\n\r\n    // 4. Award Completion Gold (Fixed 100g)\r\n    await ProgressionService.awardGold(userId, 100);\r\n\r\n    // 5. Refill Kinetic Energy (Guild Battery) - Part of Phase 2 but convenient here\r\n    await prisma.user.update({\r\n      where: { id: userId },\r\n      data: { kineticEnergy: { increment: 10 } }\r\n    });\r\n\r\n    revalidatePath(\"/dashboard\");\r\n    return { success: true, xpEarned: xpAward, goldEarned: 100 };\r\n  } catch (error) {\r\n    console.error(\"Finish Workout Error:\", error);\r\n    return { success: false, error: \"Failed to finish workout\" };\r\n  }\r\n}\r\n\r\n/**\r\n * Get exercise history for charts\r\n */\r\nexport async function getExerciseHistoryAction(\r\n  userId: string,\r\n  exerciseId: string,\r\n) {\r\n  const history = await prisma.exerciseLog.findMany({\r\n    where: { userId, exerciseId },\r\n    orderBy: { date: \"asc\" },\r\n    take: 20,\r\n  });\r\n\r\n  return history.map((log) => {\r\n    const sets = log.sets as SetData[];\r\n    const maxWeight = Math.max(...sets.map((s) => s.weight));\r\n    const totalVolume = sets.reduce((acc, s) => acc + s.weight * s.reps, 0);\r\n    const bestE1RM = Math.max(...sets.map((s) => s.weight * (1 + s.reps / 30)));\r\n\r\n    return {\r\n      date: log.date,\r\n      maxWeight,\r\n      totalVolume,\r\n      bestE1RM,\r\n    };\r\n  });\r\n}\r\n\r\n/**\r\n * Create a new custom exercise\r\n */\r\nexport async function createExerciseAction(data: {\r\n  name: string;\r\n  muscleGroup: string;\r\n  equipment: string;\r\n}) {\r\n  // Basic validation could go here\r\n  const exercise = await prisma.exercise.create({\r\n    data,\r\n  });\r\n  return exercise;\r\n}\r\n\r\nexport async function searchExercisesAction(query: string) {\r\n  if (!query || query.length < 2) return [];\r\n\r\n  // In a real app with many exercises, use Full Text Search (Postgres tsvector)\r\n  // For now, simple contains is fine\r\n  const exercises = await prisma.exercise.findMany({\r\n    where: {\r\n      OR: [\r\n        { name: { contains: query, mode: \"insensitive\" } },\r\n        { muscleGroup: { contains: query, mode: \"insensitive\" } },\r\n      ],\r\n    },\r\n    take: 10,\r\n  });\r\n  return exercises;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\training\\templates.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'newName' is defined but never used. Allowed unused args must match /^_/u.","line":227,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":227,"endColumn":10}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use server\";\r\n\r\nimport { revalidatePath } from \"next/cache\";\r\nimport { z } from \"zod\";\r\n\r\nconst TemplateExerciseSchema = z.object({\r\n  exerciseId: z.string(),\r\n  exerciseName: z.string(),\r\n  sets: z.number().min(1).max(20),\r\n  repsRange: z.object({\r\n    min: z.number().min(1),\r\n    max: z.number().min(1),\r\n  }),\r\n  restSeconds: z.number().min(0).max(600).optional(),\r\n  notes: z.string().max(200).optional(),\r\n});\r\n\r\nconst WorkoutTemplateSchema = z.object({\r\n  name: z.string().min(1).max(100),\r\n  description: z.string().max(500).optional(),\r\n  category: z.enum([\r\n    \"PUSH\",\r\n    \"PULL\",\r\n    \"LEGS\",\r\n    \"UPPER\",\r\n    \"LOWER\",\r\n    \"FULL_BODY\",\r\n    \"CARDIO\",\r\n    \"CUSTOM\",\r\n  ]),\r\n  exercises: z.array(TemplateExerciseSchema).min(1).max(20),\r\n  estimatedMinutes: z.number().min(5).max(180).optional(),\r\n  tags: z.array(z.string()).max(5).optional(),\r\n});\r\n\r\ninterface WorkoutTemplate {\r\n  id: string;\r\n  userId: string;\r\n  name: string;\r\n  description?: string;\r\n  category: string;\r\n  exercises: z.infer<typeof TemplateExerciseSchema>[];\r\n  estimatedMinutes?: number;\r\n  tags?: string[];\r\n  usageCount: number;\r\n  lastUsed?: Date;\r\n  createdAt: Date;\r\n}\r\n\r\n/**\r\n * Create a new workout template.\r\n */\r\nexport async function createWorkoutTemplateAction(\r\n  userId: string,\r\n  data: z.infer<typeof WorkoutTemplateSchema>,\r\n): Promise<{ success: boolean; templateId?: string; error?: string }> {\r\n  try {\r\n    const validated = WorkoutTemplateSchema.parse(data);\r\n\r\n    // In production, save to database\r\n    const templateId = `template-${userId}-${Date.now()}`;\r\n\r\n    console.log(\r\n      `Created template: ${validated.name} with ${validated.exercises.length} exercises`,\r\n    );\r\n\r\n    revalidatePath(\"/templates\");\r\n    return { success: true, templateId };\r\n  } catch (error) {\r\n    if (error instanceof z.ZodError) {\r\n      return { success: false, error: error.issues[0].message };\r\n    }\r\n    console.error(\"Error creating template:\", error);\r\n    return { success: false, error: \"Failed to create template\" };\r\n  }\r\n}\r\n\r\n/**\r\n * Get user's workout templates.\r\n */\r\nexport async function getWorkoutTemplatesAction(\r\n  userId: string,\r\n  category?: string,\r\n): Promise<WorkoutTemplate[]> {\r\n  try {\r\n    // MVP: Return sample templates\r\n    return [\r\n      {\r\n        id: \"template-push-day\",\r\n        userId,\r\n        name: \"Push Day A\",\r\n        description: \"Chest, shoulders, and triceps focus\",\r\n        category: \"PUSH\",\r\n        exercises: [\r\n          {\r\n            exerciseId: \"bench-press\",\r\n            exerciseName: \"Barbell Bench Press\",\r\n            sets: 4,\r\n            repsRange: { min: 6, max: 8 },\r\n          },\r\n          {\r\n            exerciseId: \"ohp\",\r\n            exerciseName: \"Overhead Press\",\r\n            sets: 3,\r\n            repsRange: { min: 8, max: 10 },\r\n          },\r\n          {\r\n            exerciseId: \"incline-db\",\r\n            exerciseName: \"Incline Dumbbell Press\",\r\n            sets: 3,\r\n            repsRange: { min: 10, max: 12 },\r\n          },\r\n          {\r\n            exerciseId: \"lateral-raise\",\r\n            exerciseName: \"Lateral Raises\",\r\n            sets: 3,\r\n            repsRange: { min: 12, max: 15 },\r\n          },\r\n          {\r\n            exerciseId: \"tricep-pushdown\",\r\n            exerciseName: \"Tricep Pushdowns\",\r\n            sets: 3,\r\n            repsRange: { min: 12, max: 15 },\r\n          },\r\n        ],\r\n        estimatedMinutes: 60,\r\n        tags: [\"chest\", \"shoulders\", \"triceps\"],\r\n        usageCount: 12,\r\n        createdAt: new Date(),\r\n      },\r\n      {\r\n        id: \"template-pull-day\",\r\n        userId,\r\n        name: \"Pull Day A\",\r\n        description: \"Back and biceps focus\",\r\n        category: \"PULL\",\r\n        exercises: [\r\n          {\r\n            exerciseId: \"deadlift\",\r\n            exerciseName: \"Deadlift\",\r\n            sets: 4,\r\n            repsRange: { min: 5, max: 6 },\r\n          },\r\n          {\r\n            exerciseId: \"pullup\",\r\n            exerciseName: \"Pull-ups\",\r\n            sets: 4,\r\n            repsRange: { min: 6, max: 10 },\r\n          },\r\n          {\r\n            exerciseId: \"bb-row\",\r\n            exerciseName: \"Barbell Row\",\r\n            sets: 3,\r\n            repsRange: { min: 8, max: 10 },\r\n          },\r\n          {\r\n            exerciseId: \"face-pull\",\r\n            exerciseName: \"Face Pulls\",\r\n            sets: 3,\r\n            repsRange: { min: 15, max: 20 },\r\n          },\r\n          {\r\n            exerciseId: \"bicep-curl\",\r\n            exerciseName: \"Bicep Curls\",\r\n            sets: 3,\r\n            repsRange: { min: 10, max: 12 },\r\n          },\r\n        ],\r\n        estimatedMinutes: 65,\r\n        tags: [\"back\", \"biceps\"],\r\n        usageCount: 10,\r\n        createdAt: new Date(),\r\n      },\r\n    ].filter((t) => !category || t.category === category);\r\n  } catch (error) {\r\n    console.error(\"Error getting templates:\", error);\r\n    return [];\r\n  }\r\n}\r\n\r\n/**\r\n * Start workout from template.\r\n */\r\nexport async function startWorkoutFromTemplateAction(\r\n  userId: string,\r\n  templateId: string,\r\n): Promise<{ success: boolean; workoutId?: string }> {\r\n  try {\r\n    // In production:\r\n    // 1. Load template\r\n    // 2. Create new workout session\r\n    // 3. Pre-populate exercises\r\n\r\n    console.log(`Starting workout from template: ${templateId}`);\r\n\r\n    const workoutId = `workout-${Date.now()}`;\r\n    return { success: true, workoutId };\r\n  } catch (error) {\r\n    console.error(\"Error starting from template:\", error);\r\n    return { success: false };\r\n  }\r\n}\r\n\r\n/**\r\n * Delete a template.\r\n */\r\nexport async function deleteWorkoutTemplateAction(\r\n  userId: string,\r\n  templateId: string,\r\n): Promise<{ success: boolean }> {\r\n  try {\r\n    console.log(`Deleted template: ${templateId}`);\r\n    revalidatePath(\"/templates\");\r\n    return { success: true };\r\n  } catch (error) {\r\n    console.error(\"Error deleting template:\", error);\r\n    return { success: false };\r\n  }\r\n}\r\n\r\n/**\r\n * Duplicate a template.\r\n */\r\nexport async function duplicateTemplateAction(\r\n  userId: string,\r\n  templateId: string,\r\n  newName: string,\r\n): Promise<{ success: boolean; newTemplateId?: string }> {\r\n  try {\r\n    const newTemplateId = `template-${userId}-${Date.now()}`;\r\n    console.log(`Duplicated template: ${templateId} -> ${newTemplateId}`);\r\n    revalidatePath(\"/templates\");\r\n    return { success: true, newTemplateId };\r\n  } catch (error) {\r\n    console.error(\"Error duplicating template:\", error);\r\n    return { success: false };\r\n  }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\training\\volume.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\user\\account.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\user\\analytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\user\\backup.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_e' is defined but never used.","line":174,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":174,"endColumn":14}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use server\";\n\nimport { prisma } from \"@/lib/prisma\";\n\ninterface BackupData {\n  version: string;\n  createdAt: string;\n  userId: string;\n  heroName: string;\n  profile: unknown;\n  titan: unknown;\n  workoutHistory: unknown[];\n  achievements: string[];\n  settings: unknown;\n  equipment: unknown[];\n}\n\ninterface RestoreResult {\n  success: boolean;\n  message: string;\n  itemsRestored?: {\n    workouts: number;\n    achievements: number;\n    equipment: number;\n  };\n}\n\nconst BACKUP_VERSION = \"1.0.0\";\n\n/**\n * Create a full backup of user data.\n */\nexport async function createBackupAction(\n  userId: string,\n): Promise<BackupData | null> {\n  try {\n    const user = await prisma.user.findUnique({\n      where: { id: userId },\n      include: {\n        titan: true,\n      },\n    });\n\n    if (!user) return null;\n\n    const exerciseLogs = await prisma.exerciseLog.findMany({\n      where: { userId },\n      orderBy: { date: \"desc\" },\n    });\n\n    const cardioLogs = await prisma.cardioLog.findMany({\n      where: { userId },\n      orderBy: { date: \"desc\" },\n    });\n\n    const backup: BackupData = {\n      version: BACKUP_VERSION,\n      createdAt: new Date().toISOString(),\n      userId: user.id,\n      heroName: user.heroName || \"Unknown\",\n      profile: {\n        level: user.level,\n        totalXp: user.totalExperience,\n        currentStreak: user.titan?.streak || 0,\n        createdAt: user.createdAt,\n      },\n      titan: user.titan\n        ? {\n          name: user.titan.name,\n          strength: user.titan.strength,\n          vitality: user.titan.vitality,\n          endurance: user.titan.endurance,\n          agility: user.titan.agility,\n          willpower: user.titan.willpower,\n        }\n        : null,\n      workoutHistory: [\n        ...exerciseLogs.map((log) => ({\n          type: \"STRENGTH\",\n          exerciseId: log.exerciseId,\n          date: log.date,\n          sets: log.sets,\n          notes: log.notes,\n        })),\n        ...cardioLogs.map((log) => ({\n          type: \"CARDIO\",\n          activityType: log.type,\n          date: log.date,\n          duration: log.duration,\n        })),\n      ],\n      achievements: [], // Would fetch from achievements table\n      settings: {\n        // User preferences\n      },\n      equipment: [], // Would fetch from equipment table\n    };\n\n    return backup;\n  } catch (error) {\n    console.error(\"Error creating backup:\", error);\n    return null;\n  }\n}\n\n/**\n * Restore user data from backup.\n */\nexport async function restoreBackupAction(\n  userId: string,\n  backupJson: string,\n): Promise<RestoreResult> {\n  try {\n    const backup: BackupData = JSON.parse(backupJson);\n\n    // Validate backup version\n    if (!backup.version || backup.version !== BACKUP_VERSION) {\n      return {\n        success: false,\n        message: `Incompatible backup version: ${backup.version}. Expected: ${BACKUP_VERSION}`,\n      };\n    }\n\n    // In production, restore data to database\n    console.log(`Restoring backup for ${userId} from ${backup.createdAt}`);\n    console.log(`Workouts to restore: ${backup.workoutHistory.length}`);\n\n    return {\n      success: true,\n      message: \"Backup restored successfully\",\n      itemsRestored: {\n        workouts: backup.workoutHistory.length,\n        achievements: backup.achievements.length,\n        equipment: backup.equipment.length,\n      },\n    };\n  } catch (error) {\n    console.error(\"Error restoring backup:\", error);\n    return {\n      success: false,\n      message:\n        error instanceof Error ? error.message : \"Failed to parse backup file\",\n    };\n  }\n}\n\n/**\n * Download backup as JSON file.\n */\nexport function generateBackupFilename(heroName: string): string {\n  const date = new Date().toISOString().split(\"T\")[0];\n  const safeName = heroName.replace(/[^a-zA-Z0-9]/g, \"_\");\n  return `ironforge_backup_${safeName}_${date}.json`;\n}\n\n/**\n * Validate backup file structure.\n */\nexport function validateBackupFile(content: string): {\n  valid: boolean;\n  error?: string;\n} {\n  try {\n    const data = JSON.parse(content);\n\n    if (!data.version) return { valid: false, error: \"Missing version field\" };\n    if (!data.userId) return { valid: false, error: \"Missing userId field\" };\n    if (!data.createdAt)\n      return { valid: false, error: \"Missing createdAt field\" };\n    if (!Array.isArray(data.workoutHistory))\n      return { valid: false, error: \"Invalid workoutHistory\" };\n\n    return { valid: true };\n  } catch (_e) {\n    return { valid: false, error: \"Invalid JSON format\" };\n  }\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\user\\core.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\user\\demo.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\user\\logger.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\user\\login-rewards.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\user\\notification-preferences.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\user\\onboarding.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\user\\referral.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\user\\settings.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\user\\statistics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\user\\streak.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\actions\\user\\subscription.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\(authenticated)\\armory\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\(authenticated)\\bestiary\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\(authenticated)\\colosseum\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\(authenticated)\\dashboard\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\(authenticated)\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\(authenticated)\\map\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\(authenticated)\\settings\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\(authenticated)\\strength\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\(authenticated)\\territories\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\(main)\\territory\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\(marketing)\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\(marketing)\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\actions\\syncBiometrics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\admin\\cron\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\admin\\growth\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\api\\chat\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\api\\cron\\daily-oracle\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\api\\cron\\duel-scoring\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\api\\cron\\generate-plans\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\api\\cron\\heartbeat\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\api\\cron\\maintenance\\daily\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\api\\cron\\maintenance\\weekly\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\api\\cron\\phase-rotation\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\api\\cron\\power-rating\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\api\\cron\\season-transition\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\api\\cron\\territory\\income\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\api\\cron\\territory\\settlement\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\api\\health\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\api\\hevy\\exercise-templates\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\api\\hevy\\routines\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\api\\hevy\\workouts\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\api\\intervals\\events\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\api\\intervals\\history\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\api\\intervals\\wellness\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\api\\podcast\\login\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\api\\podcast\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\api\\sync\\logs\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\api\\sync\\user\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\api\\sync\\user\\schemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\api\\webhooks\\hevy\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\api\\webhooks\\intervals\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\api\\webhooks\\strava\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\auth\\callback\\route.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\battle-pass\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\campaign\\debug\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\global-error.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\grimoire\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\iron-arena\\ArenaClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\iron-arena\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\logger\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\login\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\privacy\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\ranked-arena\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\settings\\podcast\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\sw.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\welcome\\WelcomeClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\app\\welcome\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\AchievementToast.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\MindfulnessModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\PassiveLayerProgress.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\PathProgressWidget.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\PathSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\PowerRatingBadge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\TTBCompass.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\TTB_Radar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\charts\\ExerciseProgressChart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\core\\PersistentHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\dashboard\\BioStatusWidget.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\game\\Arena.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\game\\BerserkerMode.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\game\\Bestiary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\game\\Grimoire.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\game\\InventoryList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\game\\LootDrop.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\game\\LootReveal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\game\\Marketplace.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\game\\ProgressBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\game\\SkillTreeLegacy.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\game\\Stopwatch.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\game\\Weakness_Radar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\game\\WorldMap.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\game\\dungeon\\BerserkerOverlay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\game\\dungeon\\DungeonInterface.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\game\\dungeon\\ScreenShake.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\game\\pvp\\RankBadge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\game\\pvp\\SeasonRewards.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\game\\territory\\TerritoryCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\gamification\\OvertrainingBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\gamification\\QuestBoard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\gamification\\StreakBadge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\layout\\QuickStatsHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\logger\\ExerciseSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\logger\\QuickLogSession.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\logger\\SetLogger.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'onCombatUpdate' is defined but never used. Allowed unused args must match /^_/u.","line":27,"column":67,"nodeType":"Identifier","messageId":"unusedVar","endLine":27,"endColumn":81},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setIsSaving' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":31,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":31,"endColumn":33}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { Exercise } from \"@prisma/client\";\r\nimport ForgeInput from \"@/components/ui/ForgeInput\";\r\nimport ForgeButton from \"@/components/ui/ForgeButton\";\r\nimport { Trash2, Plus, CheckCircle, Save } from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface SetData {\r\n    id: string;\r\n    weight: number;\r\n    reps: number;\r\n    rpe: number;\r\n    completed: boolean;\r\n}\r\n\r\ninterface SetLoggerProps {\r\n    exercise: Exercise;\r\n    onFinish: () => void;\r\n    onCancel: () => void;\r\n    onCombatUpdate?: (damage: number, remainingHp: number, isCritical: boolean) => void;\r\n    onSave: (sets: any[]) => Promise<void>;\r\n}\r\n\r\nexport default function SetLogger({ exercise, onFinish, onCancel, onCombatUpdate, onSave }: SetLoggerProps) {\r\n    const [sets, setSets] = useState<SetData[]>([\r\n        { id: crypto.randomUUID(), weight: 0, reps: 0, rpe: 8, completed: false },\r\n    ]);\r\n    const [isSaving, setIsSaving] = useState(false);\r\n\r\n    function addSet() {\r\n        const lastSet = sets[sets.length - 1];\r\n        setSets([\r\n            ...sets,\r\n            {\r\n                id: crypto.randomUUID(),\r\n                weight: lastSet ? lastSet.weight : 0,\r\n                reps: lastSet ? lastSet.reps : 0,\r\n                rpe: lastSet ? lastSet.rpe : 8,\r\n                completed: false,\r\n            },\r\n        ]);\r\n    }\r\n\r\n    function removeSet(id: string) {\r\n        if (sets.length === 1) return;\r\n        setSets(sets.filter(s => s.id !== id));\r\n    }\r\n\r\n    function updateSet(id: string, field: keyof SetData, value: number) {\r\n        setSets(sets.map(s => s.id === id ? { ...s, [field]: value } : s));\r\n    }\r\n\r\n    function toggleComplete(id: string) {\r\n        setSets(sets.map(s => s.id === id ? { ...s, completed: !s.completed } : s));\r\n    }\r\n\r\n    async function handleSave() {\r\n        // Validate\r\n        const validSets = sets.filter(s => s.weight > 0 && s.reps > 0);\r\n        if (validSets.length === 0) {\r\n            toast.error(\"Add at least one valid set (Weight & Reps > 0)\");\r\n            return;\r\n        }\r\n\r\n        // Optimistic: Delegate to parent and close immediately\r\n        onSave(validSets);\r\n        onFinish();\r\n    }\r\n\r\n    return (\r\n        <div className=\"bg-zinc-900/50 border border-zinc-800 rounded-xl p-4 space-y-4 animate-in fade-in slide-in-from-bottom-4\">\r\n            <div className=\"flex justify-between items-center mb-2\">\r\n                <h3 className=\"font-bold text-lg text-magma\">{exercise.name}</h3>\r\n                <button onClick={onCancel} className=\"text-xs text-zinc-500 hover:text-zinc-300\">\r\n                    Cancel\r\n                </button>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-[auto_1fr_1fr_1fr_auto] gap-2 text-xs text-zinc-500 font-bold uppercase tracking-wider mb-2 text-center\">\r\n                <div>Set</div>\r\n                <div>Kg</div>\r\n                <div>Reps</div>\r\n                <div>RPE</div>\r\n                <div></div>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n                {sets.map((set, idx) => (\r\n                    <div key={set.id} className={cn(\r\n                        \"grid grid-cols-[auto_1fr_1fr_1fr_auto] gap-2 items-center\",\r\n                        set.completed ? \"opacity-50\" : \"\"\r\n                    )}>\r\n                        <div className=\"w-6 h-6 flex items-center justify-center bg-zinc-800 rounded-full text-xs font-bold text-zinc-400\">\r\n                            {idx + 1}\r\n                        </div>\r\n                        <ForgeInput\r\n                            type=\"number\"\r\n                            value={set.weight || \"\"}\r\n                            onChange={e => updateSet(set.id, 'weight', parseFloat(e.target.value))}\r\n                            className=\"h-9 text-center\"\r\n                            placeholder=\"0\"\r\n                        />\r\n                        <ForgeInput\r\n                            type=\"number\"\r\n                            value={set.reps || \"\"}\r\n                            onChange={e => updateSet(set.id, 'reps', parseFloat(e.target.value))}\r\n                            className=\"h-9 text-center\"\r\n                            placeholder=\"0\"\r\n                        />\r\n                        <ForgeInput\r\n                            type=\"number\"\r\n                            value={set.rpe || \"\"}\r\n                            onChange={e => updateSet(set.id, 'rpe', parseFloat(e.target.value))}\r\n                            className=\"h-9 text-center text-zinc-400\"\r\n                            placeholder=\"8\"\r\n                        />\r\n                        <div className=\"flex items-center gap-1\">\r\n                            <button\r\n                                onClick={() => toggleComplete(set.id)}\r\n                                className={cn(\r\n                                    \"p-2 rounded hover:bg-zinc-800 transition-colors\",\r\n                                    set.completed ? \"text-green-500\" : \"text-zinc-600\"\r\n                                )}\r\n                            >\r\n                                <CheckCircle className=\"h-4 w-4\" />\r\n                            </button>\r\n                            {sets.length > 1 && (\r\n                                <button\r\n                                    onClick={() => removeSet(set.id)}\r\n                                    className=\"p-2 text-zinc-600 hover:text-red-400 rounded hover:bg-zinc-800 transition-colors\"\r\n                                >\r\n                                    <Trash2 className=\"h-4 w-4\" />\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n            <div className=\"flex gap-2 pt-2\">\r\n                <ForgeButton\r\n                    variant=\"ghost\"\r\n                    size=\"sm\"\r\n                    onClick={addSet}\r\n                    className=\"flex-1 gap-2 border border-dashed border-zinc-700 text-zinc-400 hover:text-zinc-200\"\r\n                >\r\n                    <Plus className=\"h-4 w-4\" /> Add Set\r\n                </ForgeButton>\r\n            </div>\r\n\r\n            <div className=\"pt-4 border-t border-zinc-800 flex flex-col gap-4\">\r\n                {/* Context Feedback UI will be rendered via Toast for now to minimize clutter, \r\n                   but we could add a permanent stats block here later. \r\n                   For MVP, the Toast is the primary feedback mechanism. */}\r\n                <div className=\"flex justify-end\">\r\n                    <ForgeButton\r\n                        variant=\"magma\"\r\n                        onClick={handleSave}\r\n                        disabled={isSaving}\r\n                        className=\"w-full sm:w-auto gap-2\"\r\n                    >\r\n                        {isSaving ? \"Saving...\" : <><Save className=\"h-4 w-4\" /> Finish Exercise</>}\r\n                    </ForgeButton>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\marketing\\FeatureGrid.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\marketing\\Hero.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\marketing\\HowItWorks.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\marketing\\Pricing.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\marketing\\Testimonials.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\mobility\\MobilityStudio.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\tv\\IronCommandCenter.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'userId' is defined but never used. Allowed unused args must match /^_/u.","line":41,"column":45,"nodeType":"Identifier","messageId":"unusedVar","endLine":41,"endColumn":51},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isFullscreen' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":42,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":42,"endColumn":22}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport {\n  Play,\n  Pause,\n  SkipForward,\n  Volume2,\n  VolumeX,\n  Maximize,\n  Clock,\n  Dumbbell,\n  Heart,\n  Zap,\n  Trophy,\n} from \"lucide-react\";\n\ninterface TvModeProps {\n  userId: string;\n}\n\ninterface WorkoutDisplay {\n  currentExercise: string;\n  currentSet: number;\n  totalSets: number;\n  weight: number;\n  targetReps: number;\n  restTimer: number;\n  isResting: boolean;\n}\n\ninterface TitanStats {\n  hp: number;\n  maxHp: number;\n  energy: number;\n  xp: number;\n  streak: number;\n}\n\nexport default function IronCommandCenter({ userId }: TvModeProps) {\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const [isMuted, setIsMuted] = useState(false);\n  const [isPaused, setIsPaused] = useState(false);\n  const [currentTime, setCurrentTime] = useState(new Date());\n\n  const [workout] = useState<WorkoutDisplay>({\n    currentExercise: \"Barbell Bench Press\",\n    currentSet: 3,\n    totalSets: 4,\n    weight: 100,\n    targetReps: 8,\n    restTimer: 90,\n    isResting: true,\n  });\n\n  const [titan] = useState<TitanStats>({\n    hp: 85,\n    maxHp: 100,\n    energy: 72,\n    xp: 4500,\n    streak: 7,\n  });\n\n  useEffect(() => {\n    const timer = setInterval(() => setCurrentTime(new Date()), 1000);\n    return () => clearInterval(timer);\n  }, []);\n\n  const toggleFullscreen = () => {\n    if (!document.fullscreenElement) {\n      document.documentElement.requestFullscreen();\n      setIsFullscreen(true);\n    } else {\n      document.exitFullscreen();\n      setIsFullscreen(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 text-white p-8 select-none\">\n      {/* Header with Clock and Controls */}\n      <header className=\"flex justify-between items-center mb-8\">\n        <div className=\"flex items-center gap-4\">\n          <h1 className=\"text-4xl font-black bg-gradient-to-r from-amber-400 to-orange-500 bg-clip-text text-transparent\">\n            IRON COMMAND\n          </h1>\n          <span className=\"text-6xl font-mono text-slate-400\">\n            {currentTime.toLocaleTimeString(\"en-US\", {\n              hour: \"2-digit\",\n              minute: \"2-digit\",\n            })}\n          </span>\n        </div>\n\n        <div className=\"flex items-center gap-4\">\n          <button\n            onClick={() => setIsMuted(!isMuted)}\n            className=\"p-3 rounded-full bg-slate-800 hover:bg-slate-700 transition-colors\"\n          >\n            {isMuted ? (\n              <VolumeX className=\"w-6 h-6\" />\n            ) : (\n              <Volume2 className=\"w-6 h-6\" />\n            )}\n          </button>\n          <button\n            onClick={toggleFullscreen}\n            className=\"p-3 rounded-full bg-slate-800 hover:bg-slate-700 transition-colors\"\n          >\n            <Maximize className=\"w-6 h-6\" />\n          </button>\n        </div>\n      </header>\n\n      <div className=\"grid grid-cols-3 gap-8 h-[calc(100vh-200px)]\">\n        {/* Left: Current Exercise */}\n        <div className=\"col-span-2 bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-3xl p-8 border border-slate-700/50\">\n          <div className=\"flex justify-between items-start mb-8\">\n            <div>\n              <p className=\"text-slate-400 text-xl mb-2\">Current Exercise</p>\n              <h2 className=\"text-5xl font-black\">{workout.currentExercise}</h2>\n            </div>\n            <div className=\"text-right\">\n              <p className=\"text-slate-400 text-xl\">Set</p>\n              <p className=\"text-6xl font-black text-amber-400\">\n                {workout.currentSet}/{workout.totalSets}\n              </p>\n            </div>\n          </div>\n\n          {/* Weight and Reps Display */}\n          <div className=\"grid grid-cols-2 gap-8 mb-8\">\n            <div className=\"bg-slate-800/50 rounded-2xl p-6 text-center\">\n              <Dumbbell className=\"w-12 h-12 mx-auto mb-4 text-blue-400\" />\n              <p className=\"text-slate-400 text-xl\">Weight</p>\n              <p className=\"text-7xl font-black\">\n                {workout.weight}\n                <span className=\"text-3xl text-slate-400\">kg</span>\n              </p>\n            </div>\n            <div className=\"bg-slate-800/50 rounded-2xl p-6 text-center\">\n              <Zap className=\"w-12 h-12 mx-auto mb-4 text-amber-400\" />\n              <p className=\"text-slate-400 text-xl\">Target Reps</p>\n              <p className=\"text-7xl font-black\">{workout.targetReps}</p>\n            </div>\n          </div>\n\n          {/* Rest Timer */}\n          <AnimatePresence>\n            {workout.isResting && (\n              <motion.div\n                initial={{ opacity: 0, scale: 0.9 }}\n                animate={{ opacity: 1, scale: 1 }}\n                exit={{ opacity: 0, scale: 0.9 }}\n                className=\"bg-gradient-to-r from-amber-900/50 to-orange-900/50 rounded-2xl p-8 text-center border-2 border-amber-500/50\"\n              >\n                <Clock className=\"w-16 h-16 mx-auto mb-4 text-amber-400 animate-pulse\" />\n                <p className=\"text-2xl text-amber-300 mb-2\">REST</p>\n                <p className=\"text-9xl font-black text-amber-400\">\n                  {Math.floor(workout.restTimer / 60)}:\n                  {(workout.restTimer % 60).toString().padStart(2, \"0\")}\n                </p>\n              </motion.div>\n            )}\n          </AnimatePresence>\n\n          {/* Controls */}\n          <div className=\"flex justify-center gap-4 mt-8\">\n            <button\n              onClick={() => setIsPaused(!isPaused)}\n              className=\"p-6 rounded-full bg-amber-500 hover:bg-amber-400 transition-colors\"\n            >\n              {isPaused ? (\n                <Play className=\"w-10 h-10\" />\n              ) : (\n                <Pause className=\"w-10 h-10\" />\n              )}\n            </button>\n            <button className=\"p-6 rounded-full bg-slate-700 hover:bg-slate-600 transition-colors\">\n              <SkipForward className=\"w-10 h-10\" />\n            </button>\n          </div>\n        </div>\n\n        {/* Right: Titan Status */}\n        <div className=\"space-y-6\">\n          {/* HP */}\n          <div className=\"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl p-6 border border-slate-700/50\">\n            <div className=\"flex items-center gap-3 mb-3\">\n              <Heart className=\"w-8 h-8 text-red-400\" />\n              <span className=\"text-xl text-slate-400\">Titan HP</span>\n            </div>\n            <div className=\"h-6 bg-slate-700 rounded-full overflow-hidden\">\n              <motion.div\n                className=\"h-full bg-gradient-to-r from-red-500 to-red-400\"\n                initial={{ width: 0 }}\n                animate={{ width: `${(titan.hp / titan.maxHp) * 100}%` }}\n                transition={{ duration: 1 }}\n              />\n            </div>\n            <p className=\"text-right text-2xl font-bold mt-2\">\n              {titan.hp}/{titan.maxHp}\n            </p>\n          </div>\n\n          {/* Energy */}\n          <div className=\"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl p-6 border border-slate-700/50\">\n            <div className=\"flex items-center gap-3 mb-3\">\n              <Zap className=\"w-8 h-8 text-yellow-400\" />\n              <span className=\"text-xl text-slate-400\">Energy</span>\n            </div>\n            <div className=\"h-6 bg-slate-700 rounded-full overflow-hidden\">\n              <motion.div\n                className=\"h-full bg-gradient-to-r from-yellow-500 to-amber-400\"\n                initial={{ width: 0 }}\n                animate={{ width: `${titan.energy}%` }}\n                transition={{ duration: 1 }}\n              />\n            </div>\n            <p className=\"text-right text-2xl font-bold mt-2\">\n              {titan.energy}%\n            </p>\n          </div>\n\n          {/* XP */}\n          <div className=\"bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-2xl p-6 border border-slate-700/50\">\n            <div className=\"flex items-center gap-3 mb-2\">\n              <Trophy className=\"w-8 h-8 text-purple-400\" />\n              <span className=\"text-xl text-slate-400\">Session XP</span>\n            </div>\n            <p className=\"text-5xl font-black text-purple-400\">\n              +{titan.xp.toLocaleString()}\n            </p>\n          </div>\n\n          {/* Streak */}\n          <div className=\"bg-gradient-to-br from-orange-900/30 to-red-900/30 rounded-2xl p-6 border border-orange-500/50\">\n            <p className=\"text-xl text-orange-300 mb-2\"> Current Streak</p>\n            <p className=\"text-6xl font-black text-orange-400\">\n              {titan.streak} days\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\Alert.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\DemoVideoModal.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setIsPlaying' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":29,"column":23,"nodeType":"Identifier","messageId":"unusedVar","endLine":29,"endColumn":35}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// src/components/ui/DemoVideoModal.tsx\r\n\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogHeader,\r\n    DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\nimport { Loader2, PlayCircle } from \"lucide-react\";\r\nimport dynamic from \"next/dynamic\";\r\n\r\nconst ReactPlayer = dynamic(() => import(\"react-player\"), { ssr: false }) as any;\r\n\r\ninterface DemoVideoModalProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    videoUrl?: string; // e.g. YouTube URL\r\n    exerciseName: string;\r\n}\r\n\r\nexport const DemoVideoModal: React.FC<DemoVideoModalProps> = ({\r\n    isOpen,\r\n    onClose,\r\n    videoUrl,\r\n    exerciseName,\r\n}) => {\r\n    const [isPlaying, setIsPlaying] = useState(true);\r\n\r\n    // Fallback if no URL\r\n    const displayUrl = videoUrl || \"https://www.youtube.com/watch?v=dQw4w9WgXcQ\"; // Default Rick Roll for demo ;) or placeholder\r\n\r\n    return (\r\n        <Dialog open={isOpen} onOpenChange={onClose}>\r\n            <DialogContent className=\"bg-zinc-900 border-white/10 sm:max-w-2xl p-0 overflow-hidden\">\r\n                <DialogHeader className=\"p-4 bg-zinc-900/90 backdrop-blur absolute top-0 left-0 right-0 z-10 border-b border-white/5\">\r\n                    <DialogTitle className=\"flex items-center gap-2\">\r\n                        <PlayCircle className=\"w-5 h-5 text-magma\" />\r\n                        <span className=\"text-white\">{exerciseName} Demo</span>\r\n                    </DialogTitle>\r\n                </DialogHeader>\r\n\r\n                <div className=\"relative aspect-video bg-black pt-14 sm:pt-0\">\r\n                    {/* Player wrapper */}\r\n                    <div className=\"absolute inset-0 top-[57px] sm:top-0\">\r\n                        <ReactPlayer\r\n                            url={displayUrl}\r\n                            width=\"100%\"\r\n                            height=\"100%\"\r\n                            playing={isPlaying}\r\n                            controls={true}\r\n                            light={false} // Load immediately for smoother exp\r\n                            fallback={\r\n                                <div className=\"flex items-center justify-center h-full w-full bg-zinc-900\">\r\n                                    <Loader2 className=\"w-8 h-8 animate-spin text-zinc-500\" />\r\n                                </div>\r\n                            }\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Fallback for missing video */}\r\n                    {!videoUrl && (\r\n                        <div className=\"absolute inset-0 flex items-center justify-center bg-black/80 z-20 pointer-events-none\">\r\n                            <p className=\"text-zinc-500 text-sm\">Video coming soon</p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </DialogContent>\r\n        </Dialog>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\ExerciseCard.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isFuture' is defined but never used. Allowed unused args must match /^_/u.","line":139,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":139,"endColumn":11}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useState } from \"react\";\nimport { Exercise, Set as WorkoutSet, ExerciseLogic } from \"../../types\";\nimport {\n  CheckCircle2,\n  Dumbbell,\n  Skull,\n  Crown,\n  Star,\n  Sparkles,\n} from \"lucide-react\";\nimport SetLogForm from \"./SetLogForm\";\n\ninterface ExerciseCardProps {\n  exercise: Exercise;\n  isActive: boolean;\n  isCompleted: boolean;\n  isFuture: boolean;\n  index: number;\n  onSetLog: (weight: number, reps: number, rpe: number) => void;\n  activeRef?: React.RefObject<HTMLDivElement> | null;\n}\n\ninterface SetItemProps {\n  set: WorkoutSet;\n  index: number;\n  isActive: boolean;\n  calculateTargetLoad: (s: WorkoutSet) => number;\n}\n\n// --- SUB-COMPONENT FOR ANIMATED SET ROW ---\nconst SetItem: React.FC<SetItemProps> = ({\n  set,\n  index,\n  isActive,\n  calculateTargetLoad,\n}) => {\n  const [animateClass, setAnimateClass] = useState(\"\");\n\n  // Trigger animation when set becomes completed\n  useEffect(() => {\n    if (set.completed) {\n      // Impact Frame\n      setAnimateClass(\"scale-105 brightness-150 z-10\");\n      const t = setTimeout(() => setAnimateClass(\"\"), 300);\n      return () => clearTimeout(t);\n    }\n  }, [set.completed]);\n\n  const isDone = set.completed;\n  const tLoad = calculateTargetLoad(set);\n\n  const getRarityStyles = (rarity?: string) => {\n    switch (rarity) {\n      case \"legendary\":\n        return \"bg-gradient-to-r from-zinc-950 to-[#ff8000]/10 border-[#ff8000] text-[#ff8000] shadow-[0_0_20px_rgba(255,128,0,0.3)]\";\n      case \"epic\":\n        return \"bg-gradient-to-r from-zinc-950 to-[#a335ee]/10 border-[#a335ee] text-[#a335ee] shadow-[0_0_15px_rgba(163,53,238,0.2)]\";\n      case \"rare\":\n        return \"border-[#0070dd] text-[#0070dd] shadow-[0_0_10px_rgba(0,112,221,0.1)]\";\n      case \"uncommon\":\n        return \"border-[#1eff00] text-[#1eff00]\";\n      default:\n        return \"border-zinc-800 text-zinc-600\";\n    }\n  };\n\n  const rarityClass = isDone\n    ? getRarityStyles(set.rarity)\n    : \"border-zinc-800 text-zinc-600 bg-zinc-950\";\n\n  return (\n    <div\n      className={`relative flex items-center justify-between p-3 rounded border transition-all duration-300 ${rarityClass} ${isActive ? \"bg-zinc-800/80 border-l-4 border-l-magma\" : \"\"} ${animateClass}`}\n    >\n      {/* Loot Beam Effect for Legendary/Epic */}\n      {isDone && (set.rarity === \"legendary\" || set.rarity === \"epic\") && (\n        <div className=\"absolute inset-0 overflow-hidden rounded pointer-events-none\">\n          <div className=\"absolute top-0 -left-[100%] w-[50%] h-full bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shine\" />\n        </div>\n      )}\n\n      <div className=\"flex items-center gap-3 relative z-10\">\n        <span\n          className={`font-mono text-xs font-bold w-6 ${isActive ? \"text-white\" : \"\"}`}\n        >\n          {index + 1}\n        </span>\n        <div className=\"flex flex-col\">\n          <span className=\"text-xs font-bold uppercase tracking-wider flex items-center gap-2\">\n            {isDone ? (\n              <>\n                <span>{set.completedReps} reps</span>\n                {set.rarity === \"legendary\" && (\n                  <span className=\"text-[9px] bg-[#ff8000] text-black px-1 rounded font-black animate-pulse\">\n                    PR\n                  </span>\n                )}\n              </>\n            ) : (\n              `Goal: ${set.reps} reps`\n            )}\n          </span>\n          <span className=\"text-[10px] font-mono opacity-70\">\n            {isDone ? `Load: ${set.weight}kg` : `Load: ${tLoad}kg`}\n          </span>\n        </div>\n      </div>\n\n      {isDone && set.rarity && set.rarity !== \"common\" && (\n        <div className=\"flex items-center gap-1 animate-bounce-short relative z-10\">\n          {set.rarity === \"legendary\" && (\n            <Crown className=\"w-4 h-4 fill-current drop-shadow-md\" />\n          )}\n          {set.rarity === \"epic\" && (\n            <Skull className=\"w-4 h-4 fill-current drop-shadow-md\" />\n          )}\n          {set.rarity === \"rare\" && (\n            <Sparkles className=\"w-4 h-4 fill-current\" />\n          )}\n          <span className=\"text-[9px] font-black uppercase tracking-widest\">\n            {set.rarity}\n          </span>\n        </div>\n      )}\n\n      {isActive && !isDone && (\n        <div className=\"text-[9px] text-magma font-bold animate-pulse\">\n          ENGAGED\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst ExerciseCard: React.FC<ExerciseCardProps> = ({\n  exercise,\n  isActive,\n  isCompleted,\n  isFuture,\n  index,\n  onSetLog,\n  activeRef,\n}) => {\n  const activeSetIndex = exercise.sets.findIndex((s) => !s.completed);\n  const activeSet = exercise.sets[activeSetIndex];\n\n  const calculateTargetLoad = (set: WorkoutSet) => {\n    if (\n      exercise.logic === ExerciseLogic.TM_PERCENT &&\n      exercise.trainingMax &&\n      set.weightPct\n    ) {\n      return Math.round((exercise.trainingMax * set.weightPct) / 2.5) * 2.5;\n    }\n    return set.weight || 0;\n  };\n\n  // --- ACTIVE ENCOUNTER VIEW ---\n  if (isActive) {\n    const targetLoad = activeSet ? calculateTargetLoad(activeSet) : 0;\n\n    return (\n      <div ref={activeRef} className=\"relative animate-slide-up\">\n        {/* ENCOUNTER HEADER */}\n        <div className=\"flex items-center gap-3 mb-6\">\n          <div className=\"w-10 h-10 flex items-center justify-center rounded border-2 transform rotate-45 bg-magma border-magma-glow text-white shadow-[0_0_15px_#ff4500]\">\n            <span className=\"transform -rotate-45 font-mono font-bold text-lg\">\n              {index + 1}\n            </span>\n          </div>\n          <div>\n            <h2 className=\"text-3xl font-black uppercase tracking-tighter text-white drop-shadow-[0_0_10px_rgba(255,255,255,0.3)]\">\n              {exercise.name}\n            </h2>\n            {exercise.trainingMax && (\n              <div className=\"flex items-center gap-2 text-xs font-mono text-zinc-500 mt-1\">\n                <span className=\"bg-zinc-900 px-2 py-0.5 rounded border border-zinc-800\">\n                  TM: {exercise.trainingMax}kg\n                </span>\n                {exercise.instructions && (\n                  <span> {exercise.instructions[0]}</span>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* BATTLE STATION (CONTROLS) */}\n        <div className=\"space-y-6\">\n          {activeSet && (\n            <SetLogForm\n              targetWeight={targetLoad}\n              targetReps={activeSet.reps}\n              targetRPE={8}\n              previousWeight={undefined}\n              onLog={onSetLog}\n            />\n          )}\n\n          {/* UPCOMING WAVES (REMAINING SETS) */}\n          <div className=\"bg-zinc-900/30 border border-zinc-800 rounded p-4 relative\">\n            <h3 className=\"text-[10px] font-bold uppercase text-zinc-500 tracking-widest mb-3 border-b border-zinc-800 pb-1\">\n              Encounter Log\n            </h3>\n            <div className=\"space-y-2\">\n              {exercise.sets.map((set, sIdx) => (\n                <SetItem\n                  key={set.id}\n                  set={set}\n                  index={sIdx}\n                  isActive={sIdx === activeSetIndex}\n                  calculateTargetLoad={calculateTargetLoad}\n                />\n              ))}\n            </div>\n          </div>\n        </div>\n\n        <style>{`\n            @keyframes shine {\n                from { transform: translateX(0) skewX(-15deg); }\n                to { transform: translateX(250%) skewX(-15deg); }\n            }\n            .animate-shine {\n                animation: shine 1.5s cubic-bezier(0.4, 0, 0.2, 1);\n            }\n            @keyframes bounceShort {\n                0%, 100% { transform: translateY(0); }\n                50% { transform: translateY(-3px); }\n            }\n            .animate-bounce-short {\n                animation: bounceShort 0.5s ease-in-out;\n            }\n        `}</style>\n      </div>\n    );\n  }\n\n  // --- COMPLETED ENCOUNTER VIEW ---\n  if (isCompleted) {\n    const maxWeight = Math.max(...exercise.sets.map((s) => s.weight || 0));\n    const totalReps = exercise.sets.reduce(\n      (acc, s) => acc + (s.completedReps || 0),\n      0,\n    );\n\n    return (\n      <div className=\"group transition-all duration-500 opacity-60 hover:opacity-100 hover:scale-[1.01]\">\n        <div className=\"flex items-center gap-3 mb-2\">\n          <div className=\"w-8 h-8 flex items-center justify-center rounded border-2 border-green-800 bg-green-950 text-green-500 transform rotate-45 shadow-[0_0_10px_rgba(34,197,94,0.3)]\">\n            <CheckCircle2 className=\"w-5 h-5 transform -rotate-45\" />\n          </div>\n          <h2 className=\"text-xl font-bold uppercase tracking-tight text-zinc-500 group-hover:text-white transition-colors\">\n            {exercise.name}\n          </h2>\n        </div>\n\n        <div className=\"bg-zinc-900/50 border-l-4 border-green-700 p-4 rounded ml-4 relative overflow-hidden group-hover:bg-zinc-900 transition-colors\">\n          <div className=\"relative z-10 flex items-center gap-6 text-xs text-zinc-400 font-mono\">\n            <div className=\"flex items-center gap-2\">\n              <Dumbbell className=\"w-3 h-3 text-zinc-600 group-hover:text-zinc-400\" />\n              <span>Volume: {totalReps} Reps</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <Skull className=\"w-3 h-3 text-zinc-600 group-hover:text-zinc-400\" />\n              <span>Peak Load: {maxWeight}kg</span>\n            </div>\n            <div className=\"flex items-center gap-2 ml-auto\">\n              <span className=\"text-green-600 font-bold tracking-widest text-[10px] uppercase\">\n                Quest Complete\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // --- FUTURE (FOG OF WAR) VIEW ---\n  return (\n    <div className=\"opacity-30 blur-[1px] grayscale transition-all duration-700 select-none pointer-events-none\">\n      <div className=\"flex items-center gap-3 mb-4\">\n        <div className=\"w-8 h-8 flex items-center justify-center rounded border-2 border-zinc-800 bg-zinc-950 text-zinc-700 transform rotate-45\">\n          <span className=\"transform -rotate-45 font-mono font-bold text-sm\">\n            {index + 1}\n          </span>\n        </div>\n        <h2 className=\"text-2xl font-black uppercase tracking-tight text-zinc-700\">\n          {exercise.name}\n        </h2>\n      </div>\n      <div className=\"ml-4 h-12 bg-zinc-900/50 rounded border border-zinc-800 flex items-center px-4\">\n        <span className=\"text-[10px] font-mono text-zinc-600 uppercase tracking-widest flex items-center gap-2\">\n          <Star className=\"w-3 h-3\" /> Locked\n        </span>\n      </div>\n    </div>\n  );\n};\n\nexport default ExerciseCard;\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\ForgeButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\ForgeCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\ForgeInput.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\GameToast.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\HintTooltip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\JargonTooltip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\LoadingSpinner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\LootCard.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'play' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":20,"column":13,"nodeType":"Identifier","messageId":"unusedVar","endLine":20,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\r\nimport { twMerge } from \"tailwind-merge\";\r\nimport { useSoundProtocol } from \"@/hooks/useSoundProtocol\";\r\n\r\nexport type LootRarity = \"common\" | \"rare\" | \"legendary\" | \"artifact\";\r\n\r\ninterface LootCardProps extends React.HTMLAttributes<HTMLDivElement> {\r\n    rarity?: LootRarity;\r\n    children: React.ReactNode;\r\n}\r\n\r\nconst RARITY_STYLES: Record<LootRarity, string> = {\r\n    common: \"border-gray-800 bg-gray-950/50 hover:border-gray-600\",\r\n    rare: \"border-sky-500/30 bg-sky-950/10 shadow-[0_0_15px_rgba(14,165,233,0.05)] hover:border-sky-400/50 hover:shadow-[0_0_20px_rgba(14,165,233,0.1)]\",\r\n    legendary: \"border-orange-500/30 bg-orange-950/10 shadow-[0_0_15px_rgba(249,115,22,0.05)] hover:border-orange-400/50 hover:shadow-[0_0_25px_rgba(249,115,22,0.15)]\",\r\n    artifact: \"border-yellow-500/40 bg-yellow-950/10 shadow-[0_0_20px_rgba(234,179,8,0.1)] hover:border-yellow-300/60 hover:shadow-[0_0_30px_rgba(234,179,8,0.25)] animate-pulse-slow\",\r\n};\r\n\r\nconst LootCard: React.FC<LootCardProps> = ({ rarity = \"common\", children, className, ...props }) => {\r\n    const { play } = useSoundProtocol();\r\n\r\n    // Play sound on mount if legendary/artifact? \r\n    // For now, simpler interaction could be on hover or click managed by parent.\r\n\r\n    return (\r\n        <div\r\n            className={twMerge(\r\n                \"relative rounded-lg p-4 border transition-all duration-300 backdrop-blur-sm\",\r\n                RARITY_STYLES[rarity],\r\n                className\r\n            )}\r\n            {...props}\r\n        >\r\n            {children}\r\n\r\n            {/* Rarity Label Tag */}\r\n            {(rarity === \"legendary\" || rarity === \"artifact\") && (\r\n                <div className=\"absolute -top-2 -right-2 px-2 py-0.5 bg-black border border-current rounded text-[10px] font-bold uppercase tracking-widest scale-90\">\r\n                    <span className={\r\n                        rarity === \"legendary\" ? \"text-orange-500\" : \"text-yellow-400\"\r\n                    }>{rarity}</span>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LootCard;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\NotificationBell.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isLoading' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":20,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":20,"endColumn":21}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { Bell } from \"lucide-react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { getUnreadNotificationsAction, markAllNotificationsReadAction } from \"@/actions/notifications/core\";\r\nimport { toast } from \"sonner\";\r\n\r\ninterface Notification {\r\n    id: string;\r\n    type: string;\r\n    message: string;\r\n    read: boolean;\r\n    createdAt: Date | string;\r\n}\r\n\r\nexport function NotificationBell() {\r\n    const [notifications, setNotifications] = useState<Notification[]>([]);\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const fetchNotifications = async () => {\r\n            try {\r\n                const res = await getUnreadNotificationsAction();\r\n                if (res.success) {\r\n                    setNotifications(res.notifications as Notification[]);\r\n\r\n                    // Auto-toast for Oracle Decrees\r\n                    const oracleDecree = res.notifications.find((n: any) => n.type === \"ORACLE_DECREE\");\r\n                    if (oracleDecree) {\r\n                        toast(\" The Oracle has spoken\", {\r\n                            description: (oracleDecree as any).message,\r\n                            action: {\r\n                                label: \"View\",\r\n                                onClick: () => setIsOpen(true),\r\n                            },\r\n                        });\r\n                    }\r\n                }\r\n            } catch (e) {\r\n                console.error(e);\r\n            } finally {\r\n                setIsLoading(false);\r\n            }\r\n        };\r\n        fetchNotifications();\r\n    }, []);\r\n\r\n    const handleMarkAllRead = async () => {\r\n        await markAllNotificationsReadAction();\r\n        setNotifications([]);\r\n        setIsOpen(false);\r\n    };\r\n\r\n    const unreadCount = notifications.length;\r\n\r\n    return (\r\n        <div className=\"relative\">\r\n            <button\r\n                onClick={() => setIsOpen(!isOpen)}\r\n                className=\"relative p-2 rounded-lg hover:bg-zinc-800 transition-colors\"\r\n                aria-label=\"Notifications\"\r\n            >\r\n                <Bell className=\"w-5 h-5 text-zinc-400\" />\r\n                {unreadCount > 0 && (\r\n                    <motion.span\r\n                        initial={{ scale: 0 }}\r\n                        animate={{ scale: 1 }}\r\n                        className=\"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center\"\r\n                    >\r\n                        {unreadCount > 9 ? \"9+\" : unreadCount}\r\n                    </motion.span>\r\n                )}\r\n            </button>\r\n\r\n            <AnimatePresence>\r\n                {isOpen && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0, y: -10 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        exit={{ opacity: 0, y: -10 }}\r\n                        className=\"absolute right-0 top-12 w-80 bg-zinc-900 border border-zinc-800 rounded-xl shadow-2xl z-50 overflow-hidden\"\r\n                    >\r\n                        <div className=\"p-4 border-b border-zinc-800 flex justify-between items-center\">\r\n                            <h3 className=\"font-bold text-white\">Notifications</h3>\r\n                            {unreadCount > 0 && (\r\n                                <button\r\n                                    onClick={handleMarkAllRead}\r\n                                    className=\"text-xs text-amber-500 hover:text-amber-400\"\r\n                                >\r\n                                    Mark all read\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n                        <div className=\"max-h-80 overflow-y-auto\">\r\n                            {notifications.length === 0 ? (\r\n                                <div className=\"p-8 text-center text-zinc-500\">\r\n                                    No new notifications\r\n                                </div>\r\n                            ) : (\r\n                                notifications.map((n) => (\r\n                                    <div\r\n                                        key={n.id}\r\n                                        className=\"p-4 border-b border-zinc-800/50 hover:bg-zinc-800/50 transition-colors\"\r\n                                    >\r\n                                        <p className=\"text-sm text-white\">{n.message}</p>\r\n                                        <p className=\"text-xs text-zinc-500 mt-1\">\r\n                                            {new Date(n.createdAt).toLocaleString()}\r\n                                        </p>\r\n                                    </div>\r\n                                ))\r\n                            )}\r\n                        </div>\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\PRBadge.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'exerciseName' is defined but never used. Allowed unused args must match /^_/u.","line":23,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":23,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// src/components/ui/PRBadge.tsx\r\n\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { Trophy, Loader2 } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface PRBadgeProps {\r\n    maxReps: number | null;\r\n    exerciseName?: string;\r\n    weight?: number;\r\n    size?: \"sm\" | \"md\" | \"lg\" | \"xl\";\r\n    isLoading?: boolean;\r\n    className?: string;\r\n}\r\n\r\n/**\r\n * Displays the current rep PR to beat.\r\n * Different sizes for Mobile, Desktop, and TV Mode.\r\n */\r\nexport const PRBadge: React.FC<PRBadgeProps> = ({\r\n    maxReps,\r\n    exerciseName,\r\n    weight,\r\n    size = \"md\",\r\n    isLoading = false,\r\n    className,\r\n}) => {\r\n    const sizeClasses = {\r\n        sm: \"text-xs px-2 py-1 gap-1\",\r\n        md: \"text-sm px-3 py-1.5 gap-2\",\r\n        lg: \"text-lg px-4 py-2 gap-2\",\r\n        xl: \"text-4xl px-6 py-4 gap-3 font-bold\", // TV Mode\r\n    };\r\n\r\n    const iconSizes = {\r\n        sm: \"w-3 h-3\",\r\n        md: \"w-4 h-4\",\r\n        lg: \"w-5 h-5\",\r\n        xl: \"w-10 h-10\",\r\n    };\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div\r\n                className={cn(\r\n                    \"flex items-center bg-zinc-800/50 border border-zinc-700 rounded-lg animate-pulse\",\r\n                    sizeClasses[size],\r\n                    className\r\n                )}\r\n            >\r\n                <Loader2 className={cn(iconSizes[size], \"text-zinc-500 animate-spin\")} />\r\n                <span className=\"text-zinc-500\">Loading PR...</span>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (maxReps === null) {\r\n        return (\r\n            <div\r\n                className={cn(\r\n                    \"flex items-center bg-zinc-900/50 border border-zinc-800 rounded-lg\",\r\n                    sizeClasses[size],\r\n                    className\r\n                )}\r\n            >\r\n                <Trophy className={cn(iconSizes[size], \"text-zinc-600\")} />\r\n                <span className=\"text-zinc-500\">\r\n                    {size === \"xl\" ? \"SET YOUR FIRST RECORD\" : \"No PR yet\"}\r\n                </span>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div\r\n            className={cn(\r\n                \"flex items-center bg-amber-500/10 border border-amber-500/30 rounded-lg\",\r\n                \"shadow-[0_0_15px_rgba(245,158,11,0.1)]\",\r\n                sizeClasses[size],\r\n                className\r\n            )}\r\n        >\r\n            <Trophy className={cn(iconSizes[size], \"text-amber-500\")} />\r\n            <span className=\"text-amber-500\">\r\n                {size === \"xl\" ? \"BEAT:\" : \"Beat:\"}{\" \"}\r\n                <span className=\"font-bold text-amber-400\">{maxReps}</span>\r\n                {weight && size !== \"xl\" && (\r\n                    <span className=\"text-amber-600 ml-1\">@ {weight}kg</span>\r\n                )}\r\n            </span>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PRBadge;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\PRCelebration.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\PwaInstallBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\QuestBadge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\SetLogForm.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'targetRPE' is defined but never used. Allowed unused args must match /^_/u.","line":17,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":17,"endColumn":12}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from \"react\";\r\nimport { Minus, Plus, Zap, Shield, Target } from \"lucide-react\";\r\nimport { playSound } from \"../../utils\";\r\nimport { JargonTooltip } from \"./JargonTooltip\";\r\n\r\ninterface SetLogFormProps {\r\n  targetWeight: number;\r\n  targetReps: number | string;\r\n  targetRPE: number;\r\n  previousWeight?: number;\r\n  onLog: (weight: number, reps: number, rpe: number) => void;\r\n}\r\n\r\nconst SetLogForm: React.FC<SetLogFormProps> = ({\r\n  targetWeight,\r\n  targetReps,\r\n  targetRPE,\r\n  previousWeight,\r\n  onLog,\r\n}) => {\r\n  // Initialize state with targets (smart defaults)\r\n  const [weight, setWeight] = useState(previousWeight || targetWeight);\r\n  const [reps, setReps] = useState(\r\n    typeof targetReps === \"number\" ? targetReps : 0,\r\n  );\r\n  const [rpe, setRpe] = useState<number | null>(null);\r\n\r\n  // Plate math increments\r\n  const adjustWeight = (amount: number) =>\r\n    setWeight((prev) => Math.max(0, prev + amount));\r\n  const adjustReps = (amount: number) =>\r\n    setReps((prev) => Math.max(0, prev + amount));\r\n\r\n  const handleLog = () => {\r\n    if (rpe !== null) {\r\n      playSound(\"ding\");\r\n      onLog(weight, reps, rpe);\r\n    } else {\r\n      playSound(\"fail\"); // Feedback if RPE missing\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-[#0f1012] border-2 border-forge-border rounded-lg p-4 shadow-xl relative overflow-hidden\">\r\n      {/* Background Tech Elements */}\r\n      <div className=\"absolute top-0 right-0 p-2 opacity-10 pointer-events-none\">\r\n        <Zap className=\"w-24 h-24 text-zinc-500\" />\r\n      </div>\r\n\r\n      <div className=\"relative z-10 space-y-6\">\r\n        {/* ROW 1: METRICS CONTROL */}\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n          {/* WEIGHT CONTROL */}\r\n          <div className=\"bg-[#050505] p-2 rounded border border-zinc-800 flex flex-col items-center gap-2\">\r\n            <span className=\"text-[10px] font-bold uppercase text-zinc-500 tracking-widest flex items-center gap-1\">\r\n              <Shield className=\"w-3 h-3\" /> Load (kg)\r\n            </span>\r\n            <div className=\"flex items-center w-full justify-between\">\r\n              <button\r\n                onClick={() => adjustWeight(-2.5)}\r\n                className=\"w-10 h-10 bg-zinc-900 border border-zinc-700 rounded hover:bg-red-900/30 hover:border-red-700 text-zinc-400 active:scale-95 transition-all\"\r\n              >\r\n                <Minus className=\"w-5 h-5 mx-auto\" />\r\n              </button>\r\n              <span className=\"text-3xl font-mono font-bold text-white tracking-tighter\">\r\n                {weight}\r\n              </span>\r\n              <button\r\n                onClick={() => adjustWeight(2.5)}\r\n                className=\"w-10 h-10 bg-zinc-900 border border-zinc-700 rounded hover:bg-green-900/30 hover:border-green-700 text-zinc-400 active:scale-95 transition-all\"\r\n              >\r\n                <Plus className=\"w-5 h-5 mx-auto\" />\r\n              </button>\r\n            </div>\r\n            <div className=\"flex gap-2\">\r\n              <button\r\n                onClick={() => adjustWeight(-10)}\r\n                className=\"text-[10px] text-zinc-500 font-mono px-2 border border-zinc-800 rounded hover:text-white\"\r\n              >\r\n                -10\r\n              </button>\r\n              <button\r\n                onClick={() => adjustWeight(10)}\r\n                className=\"text-[10px] text-zinc-500 font-mono px-2 border border-zinc-800 rounded hover:text-white\"\r\n              >\r\n                +10\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* REPS CONTROL */}\r\n          <div className=\"bg-[#050505] p-2 rounded border border-zinc-800 flex flex-col items-center gap-2\">\r\n            <span className=\"text-[10px] font-bold uppercase text-zinc-500 tracking-widest flex items-center gap-1\">\r\n              <Target className=\"w-3 h-3\" /> Reps\r\n            </span>\r\n            <div className=\"flex items-center w-full justify-between\">\r\n              <button\r\n                onClick={() => adjustReps(-1)}\r\n                className=\"w-10 h-10 bg-zinc-900 border border-zinc-700 rounded hover:bg-red-900/30 hover:border-red-700 text-zinc-400 active:scale-95 transition-all\"\r\n              >\r\n                <Minus className=\"w-5 h-5 mx-auto\" />\r\n              </button>\r\n              <span className=\"text-3xl font-mono font-bold text-white tracking-tighter\">\r\n                {reps}\r\n              </span>\r\n              <button\r\n                onClick={() => adjustReps(1)}\r\n                className=\"w-10 h-10 bg-zinc-900 border border-zinc-700 rounded hover:bg-green-900/30 hover:border-green-700 text-zinc-400 active:scale-95 transition-all\"\r\n              >\r\n                <Plus className=\"w-5 h-5 mx-auto\" />\r\n              </button>\r\n            </div>\r\n            <div className=\"text-[10px] text-zinc-600 font-mono\">\r\n              Target: {targetReps}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* ROW 2: RPE SELECTOR (KEYPAD) */}\r\n        <div>\r\n          <div className=\"flex justify-between items-end mb-2\">\r\n            <span className=\"text-[10px] font-bold uppercase text-zinc-500 tracking-widest\">\r\n              <JargonTooltip term=\"RPE\">Rate Perceived Exertion</JargonTooltip>\r\n            </span>\r\n            {rpe && (\r\n              <span className=\"text-xs font-mono font-bold text-magma\">\r\n                RPE {rpe} Selected\r\n              </span>\r\n            )}\r\n          </div>\r\n          <div className=\"grid grid-cols-5 gap-2\">\r\n            {[6, 7, 8, 9, 10].map((val) => (\r\n              <button\r\n                key={val}\r\n                onClick={() => setRpe(val)}\r\n                className={`h-12 rounded border-2 font-mono font-bold text-lg transition-all duration-200 \r\n                            ${rpe === val\r\n                    ? \"bg-magma border-magma-glow text-white shadow-[0_0_15px_#ff4500] translate-y-[-2px]\"\r\n                    : \"bg-zinc-900 border-zinc-800 text-zinc-500 hover:border-zinc-600 hover:text-zinc-300\"\r\n                  }`}\r\n              >\r\n                {val}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* SUBMIT BUTTON */}\r\n        <button\r\n          onClick={handleLog}\r\n          disabled={rpe === null}\r\n          className={`w-full py-4 font-black text-xl uppercase tracking-[0.2em] rounded clip-path-polygon transition-all duration-300\r\n                ${rpe !== null\r\n              ? \"bg-gradient-to-r from-magma to-orange-600 text-white shadow-[0_0_20px_rgba(255,69,0,0.4)] hover:shadow-[0_0_30px_rgba(255,69,0,0.6)] hover:scale-[1.01]\"\r\n              : \"bg-zinc-800 text-zinc-600 cursor-not-allowed\"\r\n            }\r\n            `}\r\n          style={{\r\n            clipPath:\r\n              \"polygon(5% 0, 100% 0, 100% 80%, 95% 100%, 0 100%, 0 20%)\",\r\n          }} // Industrial cut corners\r\n        >\r\n          {rpe !== null ? \"Confirm Log\" : \"Select RPE\"}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SetLogForm;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\ShimmerBadge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\Skeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\Toggle.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ToggleProps' is defined but never used. Allowed unused vars must match /^_/u.","line":4,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":22}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\n\n// Simplified toggle from standard UI lib\ninterface ToggleProps {\n  className?: string;\n  // other props... we might not need them for now if we use a different structure in armory\n  // Wait, the Armory usage is: just import.\n  // Actually, looking at Armory code, I didn't use the Toggle component in the render!\n  // I built a custom toggle div in lines 71-76:\n  // <div onClick={toggleHyperProMode} ...\n\n  // So the import \"import { Toggle } from '../../components/ui/Toggle';\" is likely unused or I planned to use it.\n  // I should remove the unused import OR implement it if I want to refactor.\n  // Given I implemented a custom one inline, I should probably just remove the import to fix the build error.\n  // However, for consistency, creating a reusable Toggle is better. Let's create it.\n}\n\ninterface SwitchProps {\n  checked: boolean;\n  onCheckedChange: (checked: boolean) => void;\n  className?: string;\n}\n\nexport const Toggle: React.FC<SwitchProps> = ({\n  checked,\n  onCheckedChange,\n  className = \"\",\n}) => {\n  return (\n    <div\n      onClick={() => onCheckedChange(!checked)}\n      className={`w-14 h-7 flex items-center rounded-full p-1 cursor-pointer transition-colors ${checked ? \"bg-rarity-epic\" : \"bg-gray-700\"} ${className}`}\n    >\n      <div\n        className={`bg-white w-5 h-5 rounded-full shadow-md transform duration-300 ease-in-out ${checked ? \"translate-x-7\" : \"\"}`}\n      ></div>\n    </div>\n  );\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\TutorialTooltip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\TvHud.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\avatar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\badge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\input.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\label.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\popover.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\progress.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\scroll-area.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\select.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\slider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\ui\\tabs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\components\\workout\\QuickLogWidget.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\config\\tutorialTooltips.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\context\\AchievementContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\context\\SkillContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\data\\achievements.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\data\\builds.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\data\\equipmentDb.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\data\\exerciseDb.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\data\\exerciseLibrary.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\data\\gameData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\data\\hevyExercises.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\data\\lootTables.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\data\\mobilityExercises.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\data\\muscleMap.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\data\\skill-tree-v2.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\data\\static.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\data\\temp_hevy.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\data\\titanThoughts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\data\\workouts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\env.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\bio\\BioBuffService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\bio\\components\\BioBuffBadge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\bio\\components\\GarminWidget.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\bio\\components\\HeartRateMonitor.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used. Allowed unused args must match /^_/u.","line":27,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":27,"endColumn":8}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from \"react\";\nimport {\n  Heart,\n  Bluetooth,\n  Activity,\n  Flame,\n  Bike,\n  Settings,\n} from \"lucide-react\";\nimport { FTMSService } from \"@/services/bluetooth-ftms\";\nimport { IoTService } from \"@/services/iot\"; // IMPORT\n\ninterface HeartRateMonitorProps {\n  bpm: number | null;\n  isConnected: boolean;\n  onConnect: () => void;\n  onSimulate?: () => void;\n  error?: string | null;\n  hasAura?: boolean; // Elite Rank passive buff\n}\n\nconst HeartRateMonitor: React.FC<HeartRateMonitorProps> = ({\n  bpm,\n  isConnected,\n  onConnect,\n  onSimulate,\n  error,\n  hasAura = false,\n}) => {\n  const [ftmsConnected, setFtmsConnected] = useState(false);\n  const [targetPower, setTargetPower] = useState(150);\n  const [showBikeControls, setShowBikeControls] = useState(false);\n\n  // --- IOT TRIGGER ---\n  useEffect(() => {\n    if (bpm) {\n      IoTService.syncAtmosphere(bpm);\n    }\n  }, [bpm]);\n\n  const zoneColor = bpm && bpm < 120 ? \"text-green-500\" : \"text-orange-500\";\n  const zoneStatus = bpm ? (bpm < 120 ? \"ZONE 2 (READY)\" : \"RECOVERY\") : \"\";\n  const isOverheated = bpm && bpm > 120;\n\n  // Elite Theme Override\n  const containerBorder = hasAura\n    ? isOverheated\n      ? \"border-orange-900/50\"\n      : \"border-[#ffd700] shadow-[0_0_15px_rgba(255,215,0,0.15)]\"\n    : isOverheated\n      ? \"border-orange-900/50\"\n      : bpm\n        ? \"border-green-900/30\"\n        : \"border-zinc-800\";\n\n  const containerBg =\n    hasAura && !isOverheated && bpm\n      ? \"bg-[linear-gradient(45deg,rgba(0,0,0,0.9),rgba(255,215,0,0.05))]\"\n      : isOverheated\n        ? \"bg-orange-950/10\"\n        : bpm\n          ? \"bg-green-950/10\"\n          : \"bg-zinc-900\";\n\n  const handleFtmsConnect = async () => {\n    const success = await FTMSService.connect();\n    setFtmsConnected(success);\n    setShowBikeControls(success);\n  };\n\n  const setErgMode = async () => {\n    await FTMSService.setTargetPower(targetPower);\n  };\n\n  return (\n    <div\n      className={`relative flex flex-col p-3 rounded-lg mb-4 transition-all duration-500 border ${containerBorder} ${containerBg}`}\n    >\n      {/* Aura Visual Indicator */}\n      {hasAura && isConnected && (\n        <div className=\"absolute -top-2 left-4 bg-black border border-[#ffd700] px-2 py-0.5 rounded-full flex items-center gap-1 shadow-lg\">\n          <Flame className=\"w-3 h-3 text-[#ffd700] fill-current animate-pulse\" />\n          <span className=\"text-[9px] font-bold text-[#ffd700] uppercase tracking-wider\">\n            Aura: +1.5% Accuracy\n          </span>\n        </div>\n      )}\n\n      {/* Main HR Row */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-3\">\n          <div\n            className={`p-2 rounded-full transition-colors ${isConnected ? (isOverheated ? \"bg-orange-500/20\" : \"bg-green-500/20\") : \"bg-zinc-800\"}`}\n          >\n            <Heart\n              className={`w-5 h-5 transition-colors ${isConnected ? (isOverheated ? \"text-orange-500 animate-pulse\" : \"text-green-500\") : \"text-zinc-500\"}`}\n            />\n          </div>\n          <div>\n            <div className=\"text-xs text-zinc-500 font-mono uppercase tracking-wider\">\n              Recovery Monitor\n            </div>\n            <div className=\"flex items-baseline gap-2\">\n              <span\n                className={`text-xl font-bold font-mono transition-colors ${isConnected ? zoneColor : \"text-zinc-600\"}`}\n              >\n                {bpm ? bpm : \"--\"} <span className=\"text-sm\">BPM</span>\n              </span>\n              {bpm && (\n                <span\n                  className={`text-xs font-bold transition-colors ${isOverheated ? \"text-orange-400\" : \"text-green-400\"}`}\n                >\n                  [{zoneStatus}]\n                </span>\n              )}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"flex gap-2\">\n          {!isConnected ? (\n            <button\n              onClick={onConnect}\n              className=\"flex items-center gap-2 px-3 py-2 text-xs font-bold text-zinc-300 bg-zinc-800 hover:bg-zinc-700 rounded transition-colors\"\n            >\n              <Bluetooth className=\"w-4 h-4\" />\n              HRM\n            </button>\n          ) : (\n            <div\n              className={`flex items-center gap-2 px-3 py-2 text-xs font-bold rounded border ${hasAura ? \"text-[#ffd700] bg-[#ffd700]/10 border-[#ffd700]/30\" : \"text-green-500/80 bg-green-900/10 border-green-900/20\"}`}\n            >\n              <Activity className=\"w-4 h-4\" />\n              LINKED\n            </div>\n          )}\n\n          {!ftmsConnected ? (\n            <button\n              onClick={handleFtmsConnect}\n              className=\"flex items-center gap-2 px-3 py-2 text-xs font-bold text-zinc-300 bg-zinc-800 hover:bg-zinc-700 rounded transition-colors\"\n              title=\"Connect Smart Bike (FTMS)\"\n            >\n              <Bike className=\"w-4 h-4\" />\n            </button>\n          ) : (\n            <button\n              onClick={() => setShowBikeControls(!showBikeControls)}\n              className=\"flex items-center gap-2 px-3 py-2 text-xs font-bold text-cyan-400 bg-cyan-900/20 border border-cyan-500/30 rounded\"\n            >\n              <Bike className=\"w-4 h-4\" />\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Smart Bike Controls (FTMS) */}\n      {showBikeControls && (\n        <div className=\"mt-4 pt-4 border-t border-zinc-800 animate-slide-down\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <span className=\"text-[10px] font-bold uppercase text-cyan-500 flex items-center gap-1\">\n              <Settings className=\"w-3 h-3\" /> ERG Mode Control\n            </span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <input\n              type=\"range\"\n              min=\"100\"\n              max=\"400\"\n              step=\"5\"\n              value={targetPower}\n              onChange={(e) => setTargetPower(parseInt(e.target.value))}\n              className=\"flex-1 h-2 bg-zinc-700 rounded-lg appearance-none cursor-pointer accent-cyan-500\"\n            />\n            <span className=\"font-mono font-bold text-white w-12 text-right\">\n              {targetPower}W\n            </span>\n            <button\n              onClick={setErgMode}\n              className=\"px-3 py-1 bg-cyan-600 hover:bg-cyan-500 text-white text-xs font-bold uppercase rounded shadow-lg\"\n            >\n              Set Load\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Hidden Simulation Trigger for Devs */}\n      {isConnected && onSimulate && (\n        <button\n          onClick={onSimulate}\n          className=\"opacity-0 hover:opacity-50 text-xs text-zinc-600 ml-2 absolute bottom-1 left-1\"\n        >\n          (Sim)\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default HeartRateMonitor;\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\bio\\components\\HeartRateZoneChart.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'settings' is defined but never used. Allowed unused args must match /^_/u.","line":68,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":68,"endColumn":11}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport React, { useMemo } from \"react\";\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  Tooltip,\n  ResponsiveContainer,\n  Cell,\n} from \"recharts\";\nimport { IntervalsActivity, AthleteSettings } from \"@/types\";\nimport { Activity } from \"lucide-react\";\n\ninterface HeartRateZoneChartProps {\n  activities: IntervalsActivity[];\n  settings?: AthleteSettings | null;\n}\n\nconst ZONE_GAMIFICATION = [\n  {\n    name: \"Recovery\",\n    label: \"Regeneration\",\n    color: \"#10b981\",\n    desc: \"Active recovery & healing\",\n  }, // Z1\n  {\n    name: \"Endurance\",\n    label: \"Endurance Capacitor\",\n    color: \"#3b82f6\",\n    desc: \"Base building & fat burn\",\n  }, // Z2\n  {\n    name: \"Tempo\",\n    label: \"Rhythm Flow\",\n    color: \"#6366f1\",\n    desc: \"Aerobic power\",\n  }, // Z3\n  {\n    name: \"Threshold\",\n    label: \"Redline Limit\",\n    color: \"#f59e0b\",\n    desc: \"Lactate threshold\",\n  }, // Z4\n  {\n    name: \"VO2 Max\",\n    label: \"Nitro Boost\",\n    color: \"#ef4444\",\n    desc: \"Max aerobic capacity\",\n  }, // Z5\n  {\n    name: \"Anaerobic\",\n    label: \"Warp Drive\",\n    color: \"#ec4899\",\n    desc: \"Anaerobic capacity\",\n  }, // Z6\n  {\n    name: \"Neuromuscular\",\n    label: \"Overdrive\",\n    color: \"#8b5cf6\",\n    desc: \"Pure sprint power\",\n  }, // Z7\n];\n\nexport const HeartRateZoneChart: React.FC<HeartRateZoneChartProps> = ({\n  activities,\n  settings,\n}) => {\n  // Aggregation Logic\n  const zoneData = useMemo(() => {\n    // Initialize 7 zones\n    const totals = new Array(7).fill(0);\n\n    activities.forEach((activity) => {\n      if (activity.zone_times) {\n        activity.zone_times.forEach((seconds, index) => {\n          if (index < 7) totals[index] += seconds;\n        });\n      }\n    });\n\n    // Format for Chart\n    return totals.map((seconds, index) => {\n      const hours = (seconds / 3600).toFixed(1);\n      return {\n        id: `Z${index + 1}`,\n        name: ZONE_GAMIFICATION[index]?.label || `Zone ${index + 1}`,\n        originalName: ZONE_GAMIFICATION[index]?.name,\n        value: parseFloat(hours),\n        desc: ZONE_GAMIFICATION[index]?.desc,\n        color: ZONE_GAMIFICATION[index]?.color || \"#8884d8\",\n      };\n    });\n  }, [activities]);\n\n  const totalHours = zoneData.reduce((acc, curr) => acc + curr.value, 0);\n\n  if (totalHours === 0) {\n    return (\n      <div className=\"flex flex-col items-center justify-center h-48 bg-white/5 rounded-xl border border-white/10 text-zinc-500\">\n        <Activity className=\"w-8 h-8 mb-2 opacity-50\" />\n        <p>No Heart Rate data found for this period.</p>\n        <p className=\"text-xs mt-1\">\n          Make sure accurate zones are set in Intervals.icu\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-black/40 backdrop-blur-md border border-white/5 rounded-2xl p-6 shadow-xl\">\n      <div className=\"flex justify-between items-start mb-6\">\n        <div>\n          <h3 className=\"text-xl font-bold text-white flex items-center gap-2\">\n            <Activity className=\"w-5 h-5 text-magma\" />\n            Zone Mastery\n          </h3>\n          <p className=\"text-zinc-400 text-sm\">Time in Zone (Last 7 Days)</p>\n        </div>\n        <div className=\"text-right\">\n          <div className=\"text-2xl font-black text-white\">\n            {totalHours.toFixed(1)}h\n          </div>\n          <div className=\"text-xs text-zinc-500 uppercase font-bold\">\n            Total Cardio\n          </div>\n        </div>\n      </div>\n\n      <div className=\"h-64 w-full\">\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <BarChart\n            data={zoneData}\n            layout=\"vertical\"\n            margin={{ left: 0, right: 30 }}\n          >\n            <XAxis type=\"number\" hide />\n            <YAxis\n              type=\"category\"\n              dataKey=\"name\"\n              tick={{ fill: \"#a1a1aa\", fontSize: 10, fontWeight: 600 }}\n              width={110}\n              axisLine={false}\n              tickLine={false}\n            />\n            <Tooltip\n              cursor={{ fill: \"rgba(255,255,255,0.05)\" }}\n              contentStyle={{\n                backgroundColor: \"#09090b\",\n                borderColor: \"#27272a\",\n                borderRadius: \"8px\",\n              }}\n              itemStyle={{ color: \"#fff\", fontSize: \"12px\" }}\n              formatter={(value: any, name: any, props: any) => [\n                `${value} hrs`,\n                props.payload.originalName || \"\",\n              ]}\n            />\n            <Bar dataKey=\"value\" radius={[0, 4, 4, 0]} barSize={20}>\n              {zoneData.map((entry, index) => (\n                <Cell key={`cell-${index}`} fill={entry.color} />\n              ))}\n            </Bar>\n          </BarChart>\n        </ResponsiveContainer>\n      </div>\n\n      {/* Legend / Insight */}\n      <div className=\"mt-4 grid grid-cols-2 md:grid-cols-4 gap-2\">\n        {zoneData\n          .filter((z) => z.value > 0)\n          .slice(0, 4)\n          .map((zone) => (\n            <div\n              key={zone.id}\n              className=\"bg-white/5 rounded p-2 border border-white/5\"\n            >\n              <div className=\"flex items-center gap-2 mb-1\">\n                <div\n                  className=\"w-2 h-2 rounded-full\"\n                  style={{ backgroundColor: zone.color }}\n                />\n                <span className=\"text-[10px] uppercase font-bold text-zinc-400\">\n                  {zone.id}\n                </span>\n              </div>\n              <div\n                className=\"text-xs text-zinc-300 font-medium truncate\"\n                title={zone.desc}\n              >\n                {zone.desc}\n              </div>\n            </div>\n          ))}\n      </div>\n    </div>\n  );\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\bio\\hooks\\useBluetoothHeartRate.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\bio\\hooks\\useBluetoothPower.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'hasSpeed' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":73,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":73,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useRef, useCallback } from \"react\";\n\n// FTMS UUIDs\nconst FTMS_SERVICE_UUID = \"00001826-0000-1000-8000-00805f9b34fb\";\nconst FTMS_CONTROL_POINT_UUID = \"00002ad9-0000-1000-8000-00805f9b34fb\";\nconst FTMS_INDOOR_BIKE_DATA_UUID = \"00002ad2-0000-1000-8000-00805f9b34fb\";\n\ninterface PowerData {\n  watts: number;\n  cadence: number;\n  speed: number; // km/h\n}\n\nexport const useBluetoothPower = () => {\n  const [data, setData] = useState<PowerData>({\n    watts: 0,\n    cadence: 0,\n    speed: 0,\n  });\n  const [isConnected, setIsConnected] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  // Refs\n  const deviceRef = useRef<BluetoothDevice | null>(null);\n  const serverRef = useRef<BluetoothRemoteGATTServer | null>(null);\n  const controlPointRef = useRef<BluetoothRemoteGATTCharacteristic | null>(\n    null,\n  );\n\n  // Helper to write to control point\n  const writeControl = useCallback(async (bytes: number[]) => {\n    if (!controlPointRef.current) return;\n    try {\n      await controlPointRef.current.writeValue(new Uint8Array(bytes));\n    } catch (e) {\n      console.error(\"FTMS Write Error:\", e);\n    }\n  }, []);\n\n  // Helper: Parse Indoor Bike Data (0x2AD2)\n  const handleDataChanged = (event: Event) => {\n    const target = event.target as BluetoothRemoteGATTCharacteristic;\n    const value = target.value;\n    if (!value) return;\n\n    // Flags (16 bits)\n    // Bit 0: More Data\n    // Bit 1: Average Speed present\n    // Bit 2: Instantaneous Cadence present\n    // Bit 3: Average Cadence present\n    // Bit 4: Total Distance present\n    // Bit 5: Resistance Level present\n    // Bit 6: Instantaneous Power present\n    // Bit 7: Average Power present\n    const flags = value.getUint16(0, true);\n\n    let offset = 2; // Start after flags\n    let speed = 0;\n    let cadence = 0;\n    let watts = 0;\n\n    // Speed (Bit 0 of Flags meant More Data? standard says Bit 0 is Speed Kph in some contexts?\n    // FTMS Standard for Indoor Bike Data:\n    // Flags Field (2 bytes)\n    // Bit 0: More Data exst -> usually 0\n    // Bit 0 (Wait, standard says):\n    // Bit 0: 0=Instant Speed present\n\n    // Actually adhering to standard parsing logic:\n    // Flag definitions vary. Assuming typical layout:\n\n    // Let's implement robust parsing based on bitmasks\n    const hasSpeed = !(flags & 0x01); // Usually speed is always present, sometimes gated\n    // Wait, standard is:\n    // Bit 0: More Data (0 = instant speed present? No.)\n\n    // Let's use a simplified parser assuming standard Wahoo/Tacx packet structure\n    // Usually: Flags(2), Speed(2, uint16, 0.01km/h), Power(2, sint16), Cadence(2, uint16, 0.5rpm)?\n\n    // RE-READING STANDARD spec for 0x2AD2:\n    // Flags (2 bytes)\n    // Bit 0: More Data\n    // Bit 1: Average Speed Present\n    // Bit 2: Instantaneous Cadence Present\n    // Bit 3: Average Cadence Present\n    // Bit 4: Total Distance Present\n    // ...\n    // Bit 6: Instantaneous Power Present\n    // ...\n\n    // BUT ALSO: First field after flags is usually Instantaneous Speed (Uint16, 0.01km/h) IF Bit 0 is 0.\n    // Wait, if Bit 0 is 0, then Instant Speed is present.\n\n    // Let's assume standard implementation seen in open source libs:\n    // Speed is almost always first (uint16).\n    if ((flags & 0x01) === 0) {\n      const speedRaw = value.getUint16(offset, true);\n      speed = speedRaw * 0.01;\n      offset += 2;\n    }\n\n    // Skip Average Speed if present (Bit 1)\n    if (flags & 0x02) offset += 2;\n\n    // Instantaneous Cadence (Bit 2)\n    if (flags & 0x04) {\n      const cadenceRaw = value.getUint16(offset, true);\n      cadence = cadenceRaw * 0.5;\n      offset += 2;\n    }\n\n    // Skip Average Cadence (Bit 3)\n    if (flags & 0x08) offset += 2;\n\n    // Skip Total Distance (Bit 4) - Uint24 (3 bytes)?\n    if (flags & 0x10) offset += 3;\n\n    // Skip Resistance Level (Bit 5) - Sint16\n    if (flags & 0x20) offset += 2;\n\n    // Instantaneous Power (Bit 6)\n    if (flags & 0x40) {\n      const powerRaw = value.getInt16(offset, true);\n      watts = powerRaw;\n      offset += 2;\n    }\n\n    setData({ watts, cadence, speed });\n  };\n\n  const disconnect = useCallback(() => {\n    if (deviceRef.current) {\n      if (deviceRef.current.gatt?.connected) {\n        deviceRef.current.gatt.disconnect();\n      }\n    }\n    setIsConnected(false);\n    setData({ watts: 0, cadence: 0, speed: 0 });\n  }, []);\n\n  const connect = async () => {\n    try {\n      setError(null);\n      const device = await navigator.bluetooth.requestDevice({\n        filters: [{ services: [FTMS_SERVICE_UUID] }],\n      });\n\n      deviceRef.current = device;\n      device.addEventListener(\"gattserverdisconnected\", disconnect);\n\n      const server = await device.gatt?.connect();\n      if (!server) throw new Error(\"Could not connect to GATT Server\");\n      serverRef.current = server;\n\n      const service = await server.getPrimaryService(FTMS_SERVICE_UUID);\n\n      // Setup Notifications for Data\n      const dataChar = await service.getCharacteristic(\n        FTMS_INDOOR_BIKE_DATA_UUID,\n      );\n      await dataChar.startNotifications();\n      dataChar.addEventListener(\n        \"characteristicvaluechanged\",\n        handleDataChanged,\n      );\n\n      // Setup Control Point\n      const cpChar = await service.getCharacteristic(FTMS_CONTROL_POINT_UUID);\n      controlPointRef.current = cpChar;\n\n      // Request Control (Op Code 0x00)\n      await cpChar.writeValue(new Uint8Array([0x00]));\n\n      setIsConnected(true);\n    } catch (e: any) {\n      console.error(e);\n      setError(e.message || \"Connection failed\");\n      disconnect();\n    }\n  };\n\n  // Control Methods\n  const setTargetPower = async (watts: number) => {\n    if (!isConnected) return;\n    // OpCode 0x05 (Set Target Power) + Sint16 (watts)\n    const buffer = new ArrayBuffer(3);\n    const view = new DataView(buffer);\n    view.setUint8(0, 0x05);\n    view.setInt16(1, watts, true);\n    await writeControl(Array.from(new Uint8Array(buffer)));\n  };\n\n  const setSimGrade = async (grade: number) => {\n    if (!isConnected) return;\n    // OpCode 0x11 (Set Sim Params)\n    // We set wind speed 0, grade X, crr 0, wind coeff 0\n    const buffer = new ArrayBuffer(7);\n    const view = new DataView(buffer);\n    view.setUint8(0, 0x11);\n    view.setInt16(1, 0, true); // Wind\n    view.setInt16(3, Math.round(grade * 100), true); // Grade (0.01%)\n    view.setUint8(5, 0); // CRR\n    view.setUint8(6, 0); // Wind Coeff\n    await writeControl(Array.from(new Uint8Array(buffer)));\n  };\n\n  // Cleanup\n  useEffect(() => {\n    return () => {\n      disconnect();\n    };\n  }, [disconnect]);\n\n  return {\n    connect,\n    disconnect,\n    isConnected,\n    error,\n    data, // { watts, cadence, speed }\n    setTargetPower,\n    setSimGrade,\n  };\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\bio\\hooks\\useBluetoothSpeed.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":167,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":167,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useRef, useCallback } from \"react\";\r\n\r\n// UUIDs\r\nconst RSC_SERVICE_UUID = \"00001814-0000-1000-8000-00805f9b34fb\";\r\nconst RSC_MEASUREMENT_UUID = \"00002a53-0000-1000-8000-00805f9b34fb\";\r\n\r\nconst FTMS_SERVICE_UUID = \"00001826-0000-1000-8000-00805f9b34fb\";\r\nconst FTMS_TREADMILL_DATA_UUID = \"00002acd-0000-1000-8000-00805f9b34fb\";\r\n\r\nexport interface RunningData {\r\n    speedKph: number;\r\n    cadence: number;\r\n    incline?: number; // Only from FTMS\r\n    source: \"RSC\" | \"FTMS\" | null;\r\n}\r\n\r\nexport const useBluetoothSpeed = () => {\r\n    const [data, setData] = useState<RunningData>({\r\n        speedKph: 0,\r\n        cadence: 0,\r\n        source: null,\r\n    });\r\n    const [isConnected, setIsConnected] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n    const [deviceName, setDeviceName] = useState<string | null>(null);\r\n\r\n    // Refs\r\n    const deviceRef = useRef<BluetoothDevice | null>(null);\r\n\r\n    const disconnect = useCallback(() => {\r\n        if (deviceRef.current) {\r\n            if (deviceRef.current.gatt?.connected) {\r\n                deviceRef.current.gatt.disconnect();\r\n            }\r\n        }\r\n        setIsConnected(false);\r\n        setDeviceName(null);\r\n        setData({ speedKph: 0, cadence: 0, source: null });\r\n    }, []);\r\n\r\n    // RSC Parser (Standard: m/s * 256)\r\n    const handleRSC = (event: Event) => {\r\n        const value = (event.target as BluetoothRemoteGATTCharacteristic).value;\r\n        if (!value) return;\r\n\r\n        const flags = value.getUint8(0);\r\n        let offset = 1;\r\n\r\n        // Instantaneous Speed (Always present per spec, uint16, 1/256 m/s)\r\n        const speedRaw = value.getUint16(offset, true);\r\n        const speedMps = speedRaw / 256.0;\r\n        const speedKph = speedMps * 3.6;\r\n        offset += 2;\r\n\r\n        // Instantaneous Cadence (Always present, uint8, RPM)\r\n        const cadence = value.getUint8(offset);\r\n        offset += 1;\r\n\r\n        // Instantaneous Stride Length (Present if Bit 0 is 1)\r\n        if (flags & 0x01) offset += 2;\r\n\r\n        // Total Distance (Present if Bit 1 is 1)\r\n        if (flags & 0x02) offset += 4;\r\n\r\n        setData({ speedKph, cadence, source: \"RSC\" });\r\n    };\r\n\r\n    // FTMS Treadmill Parser (Standard: 0.01 km/h)\r\n    const handleFTMS = (event: Event) => {\r\n        const value = (event.target as BluetoothRemoteGATTCharacteristic).value;\r\n        if (!value) return;\r\n\r\n        // Flags (16 bits)\r\n        const flags = value.getUint16(0, true);\r\n        let offset = 2;\r\n\r\n        // Bit 0: More Data (Ignore for now)\r\n\r\n        // Bit 1: Average Speed (If 0, Instant Speed is present?)\r\n        // Actually standard says:\r\n        // \"Instantaneous Speed is always present\" is NOT true for Treadmill Data.\r\n        // Fields are present only if bit is set... wait, checking spec:\r\n        // Treadmill Data 0x2ACD:\r\n        // Flags (2 bytes)\r\n        // Inst Speed (2 bytes, 0.01 km/h) -> Present if Bit 0 is 0 (More Data=0? No.)\r\n\r\n        // Correction based on GATT Spec:\r\n        // Flags Bit 0: More Data.\r\n        // Flags Bit 1: Average Speed Present.\r\n        // Flags Bit 2: Total Distance Present.\r\n        // Flags Bit 3: Inclination and Ramp Angle Setting Present.\r\n        // Flags Bit 4: Elevation Gain Present.\r\n        // ...\r\n        // Instantaneous Speed field is ALWAYS present as the first field after Flags.\r\n\r\n        const speedRaw = value.getUint16(offset, true);\r\n        const speedKph = speedRaw * 0.01;\r\n        offset += 2;\r\n\r\n        // Skip Avg Speed\r\n        if (flags & 0x02) offset += 2;\r\n\r\n        // Skip Total Distance (3 bytes uint24)\r\n        if (flags & 0x04) offset += 3;\r\n\r\n        let incline = undefined;\r\n\r\n        // Incline (Bit 3)\r\n        if (flags & 0x08) {\r\n            // Inclination (Sint16, 0.1%)\r\n            const inclineRaw = value.getInt16(offset, true);\r\n            incline = inclineRaw * 0.1;\r\n            offset += 2;\r\n            // Ramp Angle (Sint16, 0.1 degree) - we skip this\r\n            offset += 2;\r\n        }\r\n\r\n        // FTMS Treadmill doesn't usually send cadence in this char\r\n        setData((prev) => ({\r\n            speedKph,\r\n            cadence: prev.cadence, // Keep existing or 0\r\n            incline,\r\n            source: \"FTMS\"\r\n        }));\r\n    };\r\n\r\n    const connect = async () => {\r\n        try {\r\n            setError(null);\r\n            // Scan for BOTH RSC and FTMS\r\n            const device = await navigator.bluetooth.requestDevice({\r\n                filters: [\r\n                    { services: [RSC_SERVICE_UUID] },\r\n                    { services: [FTMS_SERVICE_UUID] }\r\n                ],\r\n            });\r\n\r\n            deviceRef.current = device;\r\n            setDeviceName(device.name || \"Unknown Device\");\r\n            device.addEventListener(\"gattserverdisconnected\", disconnect);\r\n\r\n            const server = await device.gatt?.connect();\r\n            if (!server) throw new Error(\"Could not connect to GATT Server\");\r\n\r\n            // Try FTMS First (Preferred for incline)\r\n            try {\r\n                const service = await server.getPrimaryService(FTMS_SERVICE_UUID);\r\n                const char = await service.getCharacteristic(FTMS_TREADMILL_DATA_UUID);\r\n                await char.startNotifications();\r\n                char.addEventListener(\"characteristicvaluechanged\", handleFTMS);\r\n                setIsConnected(true);\r\n                console.log(\"Connected via FTMS (Treadmill)\");\r\n                return;\r\n            } catch (e) {\r\n                console.log(\"FTMS Treadmill not found, trying RSC...\", e);\r\n            }\r\n\r\n            // Try RSC Second (Fallback)\r\n            try {\r\n                const service = await server.getPrimaryService(RSC_SERVICE_UUID);\r\n                const char = await service.getCharacteristic(RSC_MEASUREMENT_UUID);\r\n                await char.startNotifications();\r\n                char.addEventListener(\"characteristicvaluechanged\", handleRSC);\r\n                setIsConnected(true);\r\n                console.log(\"Connected via RSC (Running Speed)\");\r\n                return;\r\n            } catch (e) {\r\n                throw new Error(\"Device does not support Running Speed (RSC) or Treadmill (FTMS)\");\r\n            }\r\n\r\n        } catch (e: any) {\r\n            console.error(e);\r\n            setError(e.message || \"Connection failed\");\r\n            disconnect();\r\n        }\r\n    };\r\n\r\n    // Cleanup\r\n    useEffect(() => {\r\n        return () => {\r\n            disconnect();\r\n        };\r\n    }, [disconnect]);\r\n\r\n    return {\r\n        connect,\r\n        disconnect,\r\n        isConnected,\r\n        deviceName,\r\n        error,\r\n        data,\r\n    };\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\combat\\hooks\\useLiveCombat.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CombatFeedback' is defined but never used. Allowed unused vars must match /^_/u.","line":18,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":18,"endColumn":25},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'heartRate' is defined but never used. Allowed unused args must match /^_/u.","line":26,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":26,"endColumn":12},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'maxHr' is defined but never used. Allowed unused args must match /^_/u.","line":28,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":28,"endColumn":8}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from \"react\";\n\ninterface LiveCombatProps {\n  watts: number;\n  heartRate: number;\n  ftp: number;\n  maxHr: number;\n  isPaused: boolean;\n}\n\ninterface BossState {\n  name: string;\n  currentHp: number;\n  maxHp: number;\n  isDefeated: boolean;\n}\n\ninterface CombatFeedback {\n  boss: BossState;\n  lastDamage: number;\n  combo: number; // Consecutive seconds of damage\n}\n\nexport const useLiveCombat = ({\n  watts,\n  heartRate,\n  ftp,\n  maxHr,\n  isPaused,\n}: LiveCombatProps) => {\n  // Ephemeral Boss for the session\n  const [boss, setBoss] = useState<BossState>({\n    name: \"Frost Giant\",\n    currentHp: 50000,\n    maxHp: 50000,\n    isDefeated: false,\n  });\n\n  const [lastDamage, setLastDamage] = useState(0);\n  const [combo, setCombo] = useState(0);\n\n  useEffect(() => {\n    if (isPaused || boss.isDefeated) return;\n\n    const interval = setInterval(() => {\n      let damage = 0;\n\n      // Calculate Logic\n      // Power Zones (approx)\n      const zone = watts / ftp;\n\n      if (zone < 0.55)\n        damage = 1; // Z1\n      else if (zone < 0.75)\n        damage = 2; // Z2\n      else if (zone < 0.9)\n        damage = 4; // Z3\n      else if (zone < 1.05)\n        damage = 8; // Z4\n      else damage = 15; // Z5+\n\n      if (watts < 10) damage = 0; // Not moving\n\n      if (damage > 0) {\n        setLastDamage(damage);\n        setCombo((c) => c + 1);\n        setBoss((prev) => {\n          const newHp = Math.max(0, prev.currentHp - damage);\n          return {\n            ...prev,\n            currentHp: newHp,\n            isDefeated: newHp === 0,\n          };\n        });\n      } else {\n        setCombo(0);\n      }\n    }, 1000);\n\n    return () => clearInterval(interval);\n  }, [watts, ftp, isPaused, boss.isDefeated]);\n\n  return { boss, lastDamage, combo };\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\companion\\useCompanionRelay.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'COMPANION_CHANNEL' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":6,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":24}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect, useRef, useCallback, useState } from \"react\";\nimport { createClient } from \"@/utils/supabase/client\";\nimport { RealtimeChannel } from \"@supabase/supabase-js\";\n\n// Channel Name (Deprecated for direct session usage, but keeping if needed for default)\nconst COMPANION_CHANNEL = \"iron_forge_companion_v1\";\n\n// Event Types\nexport type CompanionEvent =\n  | { type: \"HEART_RATE\"; payload: number }\n  | { type: \"POWER\"; payload: number }\n  | { type: \"ZONE_CHANGE\"; payload: number }\n  | { type: \"TITAN_SPEAK\"; payload: { text: string; mood: string } }\n  | { type: \"COMMAND\"; payload: \"PAUSE\" | \"RESUME\" | \"SKIP\" }\n  | { type: \"SYNC\"; payload: { startTime: number } };\n\nexport const useCompanionRelay = (\n  role: \"CONTROLLER\" | \"RECEIVER\",\n  sessionId?: string,\n) => {\n  const channelRef = useRef<RealtimeChannel | null>(null);\n  const [lastEvent, setLastEvent] = useState<CompanionEvent | null>(null);\n  const [isConnected, setIsConnected] = useState(false);\n  const [status, setStatus] = useState<\n    \"CONNECTING\" | \"CONNECTED\" | \"DISCONNECTED\"\n  >(\"DISCONNECTED\");\n\n  // Initialize Channel\n  useEffect(() => {\n    if (typeof window === \"undefined\" || !sessionId) return;\n\n    console.log(`[Companion] Initializing as ${role} on session ${sessionId}`);\n    setStatus(\"CONNECTING\");\n\n    const supabase = createClient();\n    const channel = supabase.channel(`iron-companion-${sessionId}`, {\n      config: {\n        broadcast: { self: true }, // Receive own messages if needed, mostly for ack\n      },\n    });\n\n    channel\n      .on(\"broadcast\", { event: \"relay\" }, (payload) => {\n        console.log(`[Companion] Received:`, payload.payload);\n        setLastEvent(payload.payload as CompanionEvent);\n      })\n      .subscribe((status) => {\n        if (status === \"SUBSCRIBED\") {\n          console.log(`[Companion] Connected to channel`);\n          setIsConnected(true);\n          setStatus(\"CONNECTED\");\n        } else {\n          console.log(`[Companion] Status: ${status}`);\n          setIsConnected(false);\n          setStatus(\"DISCONNECTED\");\n        }\n      });\n\n    channelRef.current = channel;\n\n    return () => {\n      supabase.removeChannel(channel);\n      setIsConnected(false);\n    };\n  }, [role, sessionId]);\n\n  // Send Message\n  const broadcast = useCallback(\n    async (event: CompanionEvent) => {\n      if (!channelRef.current || !sessionId) return;\n\n      await channelRef.current.send({\n        type: \"broadcast\",\n        event: \"relay\",\n        payload: event,\n      });\n    },\n    [sessionId],\n  );\n\n  return {\n    broadcast,\n    lastEvent,\n    isConnected,\n    status,\n  };\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\coop\\GhostOverlay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\coop\\LiveSessionHUD.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'payload' is defined but never used. Allowed unused args must match /^_/u.","line":40,"column":75,"nodeType":"Identifier","messageId":"unusedVar","endLine":40,"endColumn":82}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useState } from \"react\";\r\nimport { CoOpService, CoOpSession } from \"@/services/coop/CoOpService\";\r\nimport { useUser } from \"@/hooks/useUser\";\r\nimport { Users, Wifi, UserPlus } from \"lucide-react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\ninterface LiveSessionHUDProps {\r\n    onSessionJoin?: (sessionId: string) => void;\r\n}\r\n\r\nexport const LiveSessionHUD: React.FC<LiveSessionHUDProps> = ({ onSessionJoin }) => {\r\n    const { user } = useUser();\r\n    const [activeSession, setActiveSession] = useState<CoOpSession | null>(null);\r\n    const [availableSessions, setAvailableSessions] = useState<CoOpSession[]>([]);\r\n    const [isExpanded, setIsExpanded] = useState(false);\r\n\r\n    // Initial load & Restoration & Refresh on Open\r\n    // Initial load & Restoration & Refresh on Open\r\n    useEffect(() => {\r\n        refreshSessions();\r\n\r\n        // Debug Mock Visibility\r\n        if (typeof window !== 'undefined') {\r\n            // Checked for mock\r\n        }\r\n\r\n        if (user && (isExpanded || !activeSession)) {\r\n            CoOpService.getActiveSession(user.id).then(session => {\r\n                if (session) setActiveSession(session);\r\n            });\r\n        }\r\n        const interval = setInterval(refreshSessions, 10000); // Polling for now for list\r\n        return () => clearInterval(interval);\r\n    }, [user?.id, isExpanded]);\r\n\r\n    // Subscribe to active session updates\r\n    useEffect(() => {\r\n        if (!activeSession) return;\r\n\r\n        const channel = CoOpService.subscribeToSession(activeSession.id, (payload) => {\r\n            // Refetch full session state on changes for simplicity\r\n            // In a pro version, we'd patch state via payload\r\n            refreshActiveSession(activeSession.id);\r\n        });\r\n\r\n        return () => {\r\n            channel.unsubscribe();\r\n        }\r\n    }, [activeSession?.id]);\r\n\r\n    const refreshSessions = async () => {\r\n        const sessions = await CoOpService.listSessions();\r\n        setAvailableSessions(sessions);\r\n    }\r\n\r\n    const refreshActiveSession = async (sessionId: string) => {\r\n        // This would require a getSession method in service, or re-finding in list\r\n        const sessions = await CoOpService.listSessions();\r\n        const found = sessions.find(s => s.id === sessionId);\r\n        if (found) setActiveSession(found);\r\n    }\r\n\r\n    const handleCreate = async () => {\r\n        if (!user) return;\r\n        const sessionId = await CoOpService.createSession(user.id, \"Iron Mines Run\");\r\n        if (sessionId) {\r\n            refreshActiveSession(sessionId);\r\n            onSessionJoin?.(sessionId);\r\n        }\r\n    };\r\n\r\n    const handleJoin = async (session: CoOpSession) => {\r\n        if (!user) return;\r\n        await CoOpService.joinSession(session.id, user.id, user.heroName || \"Hero\");\r\n        setActiveSession(session);\r\n        onSessionJoin?.(session.id);\r\n    };\r\n\r\n    const handleLeave = async () => {\r\n        if (!user || !activeSession) return;\r\n        await CoOpService.leaveSession(activeSession.id, user.id);\r\n        setActiveSession(null);\r\n    };\r\n\r\n    if (!user) {\r\n        if (typeof window !== 'undefined') {\r\n            // Log aborted if needed? No, silent.\r\n        }\r\n        // Fallback for E2E/Loading: Render disabled button to prevent timeout and show state\r\n        return (\r\n            <div className=\"fixed top-4 right-4 z-50 flex flex-col items-end pointer-events-auto\">\r\n                <button\r\n                    disabled\r\n                    className=\"flex items-center gap-2 px-3 py-2 rounded-full backdrop-blur-md border border-white/10 bg-black/40 text-zinc-600 cursor-not-allowed\"\r\n                    data-testid=\"coop-toggle-button\"\r\n                    data-user-status=\"missing\"\r\n                >\r\n                    <Users className=\"w-4 h-4\" />\r\n                    <span className=\"text-xs\">Loading...</span>\r\n                </button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"fixed top-4 right-4 z-50 flex flex-col items-end pointer-events-auto\">\r\n            {/* Toggle Button */}\r\n            <motion.button\r\n                layout\r\n                onClick={() => setIsExpanded(!isExpanded)}\r\n                className={`flex items-center gap-2 px-3 py-2 rounded-full backdrop-blur-md border border-white/10 transition-colors ${activeSession ? \"bg-green-500/20 text-green-400\" : \"bg-black/40 text-zinc-400 hover:text-white\"\r\n                    }`}\r\n                data-testid=\"coop-toggle-button\"\r\n            >\r\n                <Users className=\"w-4 h-4\" />\r\n                {activeSession ? (\r\n                    <span className=\"text-xs font-mono font-bold\">\r\n                        {activeSession.participants.length}/{activeSession.maxParticipants}\r\n                    </span>\r\n                ) : (\r\n                    <span className=\"text-xs\">Multiplayer</span>\r\n                )}\r\n            </motion.button>\r\n\r\n            {/* Expanded Panel */}\r\n            <AnimatePresence>\r\n                {isExpanded && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0, y: -10, scale: 0.95 }}\r\n                        animate={{ opacity: 1, y: 0, scale: 1 }}\r\n                        exit={{ opacity: 0, y: -10, scale: 0.95 }}\r\n                        className=\"mt-2 w-64 bg-zinc-900/90 backdrop-blur-xl border border-white/10 rounded-lg p-4 shadow-2xl\"\r\n                    >\r\n                        {activeSession ? (\r\n                            // Active Session View\r\n                            <div className=\"space-y-4\">\r\n                                <div className=\"flex justify-between items-center border-b border-white/10 pb-2\">\r\n                                    <h3 className=\"text-sm font-bold text-white\">Squad</h3>\r\n                                    <div className=\"flex items-center gap-1 text-[10px] text-green-400\">\r\n                                        <Wifi className=\"w-3 h-3\" />\r\n                                        <span>LIVE</span>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"space-y-2 max-h-40 overflow-y-auto\">\r\n                                    {activeSession.participants.map(p => (\r\n                                        <div key={p.id} className=\"flex items-center justify-between text-xs\" data-testid=\"participant-row\">\r\n                                            <div className=\"flex items-center gap-2\">\r\n                                                <div className={`w-2 h-2 rounded-full ${p.status === 'active' ? 'bg-green-500' : 'bg-red-500'}`} />\r\n                                                <span className=\"text-zinc-200\">{p.heroName || \"Unknown\"}</span>\r\n                                            </div>\r\n                                            {/* Could show set % here later */}\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n\r\n                                <button\r\n                                    onClick={handleLeave}\r\n                                    className=\"w-full py-1 text-xs text-red-400 hover:bg-red-500/10 rounded border border-red-500/20\"\r\n                                    data-testid=\"leave-session-button\"\r\n                                >\r\n                                    Leave Squad\r\n                                </button>\r\n                            </div>\r\n                        ) : (\r\n                            // Lobby Browser\r\n                            <div className=\"space-y-4\">\r\n                                <h3 className=\"text-sm font-bold text-white mb-2\">Find Squad</h3>\r\n\r\n                                {availableSessions.length === 0 ? (\r\n                                    <div className=\"text-center py-4 text-zinc-500 text-xs\">\r\n                                        No active squads found.\r\n                                    </div>\r\n                                ) : (\r\n                                    <div className=\"space-y-2 max-h-40 overflow-y-auto\" data-testid=\"session-list\">\r\n                                        {availableSessions.map(session => (\r\n                                            <div key={session.id} className=\"flex items-center justify-between bg-white/5 p-2 rounded hover:bg-white/10 cursor-pointer\" onClick={() => handleJoin(session)}>\r\n                                                <div>\r\n                                                    <div className=\"text-xs font-bold text-white\">{session.workoutName || \"Workout\"}</div>\r\n                                                    <div className=\"text-[10px] text-zinc-400\">Host: {session.hostId.slice(0, 4)}...</div>\r\n                                                </div>\r\n                                                <div className=\"text-xs text-zinc-400\">\r\n                                                    {session.participants.length}/{session.maxParticipants}\r\n                                                </div>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                )}\r\n\r\n                                <button\r\n                                    onClick={handleCreate}\r\n                                    className=\"w-full flex items-center justify-center gap-2 py-2 bg-magma/20 hover:bg-magma/30 text-magma text-xs font-bold rounded border border-magma/50 transition-colors\"\r\n                                    data-testid=\"create-session-button\"\r\n                                >\r\n                                    <UserPlus className=\"w-3 h-3\" />\r\n                                    Start New Squad\r\n                                </button>\r\n                            </div>\r\n                        )}\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </div>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\dashboard\\CitadelHub.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\dashboard\\DashboardClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\dashboard\\TitansChoice.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\dashboard\\__tests__\\DashboardClient.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\dashboard\\components\\Citadel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\dashboard\\components\\CoachToggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\dashboard\\components\\FeedPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\dashboard\\components\\QuestCompletion.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\dashboard\\components\\QuickActions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\dashboard\\components\\SecondaryViews.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'userLevel' is defined but never used. Allowed unused args must match /^_/u.","line":24,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":24,"endColumn":14}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from \"react\";\r\nimport { ShimmerBadge } from \"@/components/ui/ShimmerBadge\";\r\nimport { toast } from \"@/components/ui/GameToast\";\r\nimport { LoadingSpinner } from \"@/components/ui/LoadingSpinner\";\r\nimport Image from \"next/image\";\r\n\r\nexport const EquipmentArmory: React.FC = () => (\r\n    <div className=\"flex items-center justify-center min-h-screen bg-forge-900 text-white flex-col gap-6\">\r\n        <h2 className=\"text-4xl font-bold text-magma\">Armory Sealed</h2>\r\n        <p className=\"text-forge-muted\">\r\n            The High Blacksmith is out gathering ore.\r\n        </p>\r\n        <ShimmerBadge label=\"Coming Soon\" unlockLevel={5} />\r\n        <button\r\n            onClick={() => toast.info(\"The Blacksmith will return soon.\")}\r\n            className=\"px-4 py-2 bg-forge-800 rounded border border-forge-border hover:bg-forge-700 transition-colors\"\r\n        >\r\n            Notify Me\r\n        </button>\r\n    </div>\r\n);\r\n\r\nexport const Bestiary: React.FC<{ userLevel: number; onClose: () => void }> = ({\r\n    userLevel,\r\n    onClose,\r\n}) => (\r\n    <div className=\"flex flex-col items-center justify-center min-h-screen bg-forge-900 text-white relative overflow-hidden\">\r\n        <div className=\"absolute inset-0 bg-[url('/assets/arena_bg.jpg')] bg-cover bg-center opacity-10\" />\r\n        <div className=\"relative z-10 text-center space-y-6 max-w-2xl px-4\">\r\n            <h2 className=\"text-5xl font-black text-magma uppercase tracking-tighter\">Bestiary Uncharted</h2>\r\n            <div className=\"relative w-48 h-48 mx-auto opacity-20\">\r\n                <Image src=\"/assets/game/bosses/goblin_king.png\" alt=\"Goblin King\" fill className=\"object-contain grayscale\" />\r\n            </div>\r\n            <p className=\"text-forge-300 text-lg leading-relaxed\">\r\n                The creatures of the Iron Forge are lurking in the shadows.\r\n                Complete world map encounters to unlock detailed lore and weaknesses for your foes.\r\n            </p>\r\n            <div className=\"flex justify-center gap-4\">\r\n                <ShimmerBadge label=\"1/50 Discovered\" unlockLevel={1} />\r\n            </div>\r\n        </div>\r\n        <button\r\n            onClick={onClose}\r\n            className=\"absolute top-4 right-4 px-4 py-2 bg-gray-700/50 hover:bg-gray-700 rounded text-sm font-bold transition-colors\"\r\n        >\r\n            Close\r\n        </button>\r\n    </div>\r\n);\r\n\r\nexport const WorldMap: React.FC<{\r\n    userLevel: number;\r\n    onClose: () => void;\r\n    onEnterCombat: (bossId: string) => void;\r\n}> = ({ userLevel, onClose, onEnterCombat }) => (\r\n    <div className=\"flex flex-col items-center justify-center min-h-screen bg-forge-900 text-white p-4 relative overflow-hidden\">\r\n        <div className=\"absolute inset-0 bg-[url('/assets/arena_bg.jpg')] bg-cover bg-center opacity-20\" />\r\n        <div className=\"relative z-10 text-center max-w-4xl space-y-12\">\r\n            <div className=\"space-y-4\">\r\n                <h2 className=\"text-6xl font-black italic text-magma uppercase tracking-widest drop-shadow-[0_0_20px_rgba(255,87,34,0.3)]\">The Known World</h2>\r\n                <p className=\"text-xl text-forge-300 font-mono tracking-widest\">\r\n                    DISCOVERED REGIONS: 1/12 | LEVEL: {userLevel}\r\n                </p>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\r\n                {/* Boss Encounter Card */}\r\n                <div className=\"bg-zinc-950/80 border border-red-500/30 rounded-2xl p-8 space-y-6 backdrop-blur-md shadow-2xl\">\r\n                    <div className=\"relative w-full h-48 rounded-xl overflow-hidden border border-white/10\">\r\n                        <Image src=\"/assets/game/bosses/goblin_king.png\" alt=\"Goblin King\" fill className=\"object-cover\" />\r\n                    </div>\r\n                    <div className=\"space-y-2\">\r\n                        <div className=\"flex justify-between items-center\">\r\n                            <h3 className=\"text-2xl font-bold text-red-500\">The Goblin King</h3>\r\n                            <span className=\"px-2 py-0.5 bg-red-500/20 text-red-500 text-[10px] rounded border border-red-500/30 font-black\">BOSS</span>\r\n                        </div>\r\n                        <p className=\"text-sm text-forge-muted\">The ruler of the Rusted Throne seeks new victims!</p>\r\n                    </div>\r\n                    <button\r\n                        onClick={() => onEnterCombat(\"monster_goblin_king\")}\r\n                        className=\"w-full py-4 bg-gradient-to-r from-red-600 to-amber-600 hover:from-red-500 hover:to-amber-500 rounded-lg text-lg font-black uppercase tracking-widest shadow-lg shadow-red-900/40 transition-all hover:scale-[1.02] active:scale-95\"\r\n                    >\r\n                        Enter Combat \r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"bg-zinc-900/50 border border-white/5 rounded-2xl p-8 flex flex-col items-center justify-center text-center space-y-4 opacity-50 grayscale\">\r\n                    <div className=\"w-16 h-16 rounded-full border-2 border-dashed border-forge-muted flex items-center justify-center text-forge-muted\">?</div>\r\n                    <div>\r\n                        <h4 className=\"font-bold text-forge-300\">Fog of War</h4>\r\n                        <p className=\"text-xs text-forge-muted\">Requires Level 15</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <button\r\n            onClick={onClose}\r\n            className=\"absolute top-4 right-4 px-4 py-2 bg-gray-700/50 hover:bg-gray-700 rounded text-sm font-bold transition-colors z-20\"\r\n        >\r\n            Close\r\n        </button>\r\n    </div>\r\n);\r\n\r\nexport const Grimoire: React.FC<{ onClose: () => void }> = ({ onClose }) => (\r\n    <div className=\"flex items-center justify-center min-h-screen bg-forge-900 text-white flex-col gap-6\">\r\n        <h2 className=\"text-4xl font-bold text-magma\">Grimoire Sealed</h2>\r\n        <p className=\"text-forge-muted\">The pages are blank...</p>\r\n        <ShimmerBadge label=\"Lore System\" unlockLevel={10} />\r\n        <button\r\n            onClick={onClose}\r\n            className=\"absolute top-4 right-4 px-4 py-2 bg-gray-700 rounded\"\r\n        >\r\n            Close\r\n        </button>\r\n    </div>\r\n);\r\n\r\nexport const Arena: React.FC<{ onClose: () => void }> = ({ onClose }) => (\r\n    <div className=\"flex items-center justify-center min-h-screen bg-forge-900 text-white flex-col gap-6\">\r\n        <h2 className=\"text-4xl font-bold text-magma\">Arena Closed</h2>\r\n        <p className=\"text-forge-muted\">Gladiators are resting.</p>\r\n        <ShimmerBadge label=\"PvP Mode\" unlockLevel={15} />\r\n        <button\r\n            onClick={onClose}\r\n            className=\"absolute top-4 right-4 px-4 py-2 bg-gray-700 rounded\"\r\n        >\r\n            Close\r\n        </button>\r\n    </div>\r\n);\r\n\r\nexport const CodexLoader: React.FC = () => (\r\n    <div className=\"flex flex-col items-center justify-center min-h-screen bg-void text-white\">\r\n        <LoadingSpinner />\r\n        <p className=\"mt-4 text-lg text-forge-300\">Loading Codex...</p>\r\n    </div>\r\n);\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\dashboard\\components\\StatsHeader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\dashboard\\components\\UltrathinkDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\dashboard\\components\\ViewRouter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\dashboard\\logic\\dashboardReducer.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\dashboard\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\dashboard\\widgets\\StrengthLeaderboardPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\game\\CombatArena.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\game\\DuelArena.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_error' is defined but never used.","line":71,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":71,"endColumn":24}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport Image from 'next/image';\r\n\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { getDuelArenaStateAction } from \"@/actions/pvp/duel\";\r\nimport { executeTitanCombatTurnAction } from \"@/actions/pvp/titan\";\r\nimport { Swords, Timer, Zap, MessageSquare } from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\nimport { EmotePicker } from \"@/features/pvp/components/EmotePicker\";\r\nimport { EmoteOverlay, useBroadcastEmote } from \"@/features/pvp/components/EmoteOverlay\";\r\n\r\ninterface DuelArenaProps {\r\n    duelId: string;\r\n    currentUserId: string;\r\n    onClose: () => void;\r\n}\r\n\r\nexport function DuelArena({ duelId, currentUserId, onClose }: DuelArenaProps) {\r\n    const [duelState, setDuelState] = useState<any>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [combatLog, setCombatLog] = useState<string[]>([]);\r\n    const [isAttacking, setIsAttacking] = useState(false);\r\n    const [isMuted, setIsMuted] = useState(false);\r\n\r\n    const { broadcastEmote } = useBroadcastEmote(duelId, duelState?.challenger?.id === currentUserId ? duelState?.challenger?.heroName : duelState?.defender?.heroName);\r\n\r\n    // Polling logic\r\n    useEffect(() => {\r\n        let intervalId: NodeJS.Timeout;\r\n\r\n        const fetchState = async () => {\r\n            const result = await getDuelArenaStateAction(duelId);\r\n            if (result.success) {\r\n                setDuelState(result.duel);\r\n            } else {\r\n                toast.error(\"Lost connection to arena...\");\r\n            }\r\n            setLoading(false);\r\n        };\r\n\r\n        // Initial fetch\r\n        fetchState();\r\n\r\n        // Poll every 3 seconds\r\n        intervalId = setInterval(fetchState, 3000);\r\n\r\n        return () => clearInterval(intervalId);\r\n    }, [duelId]);\r\n\r\n    const handleAttack = async () => {\r\n        setIsAttacking(true);\r\n        try {\r\n            const result = await executeTitanCombatTurnAction(duelId);\r\n            if (result.success && result.combatLog) {\r\n                // Add combat messages to log\r\n                setCombatLog(prev => [...result.combatLog, ...prev].slice(0, 10)); // Keep last 10\r\n                toast.success(`You dealt ${result.damageDealt?.challenger || result.damageDealt?.defender} damage!`);\r\n\r\n                // Refresh state\r\n                const stateResult = await getDuelArenaStateAction(duelId);\r\n                if (stateResult.success) {\r\n                    setDuelState(stateResult.duel);\r\n                }\r\n            } else {\r\n                toast.error(result.error || \"Attack failed\");\r\n            }\r\n        } catch (_error) {\r\n            toast.error(\"Combat error\");\r\n        } finally {\r\n            setIsAttacking(false);\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex flex-col items-center justify-center p-12 text-slate-400\">\r\n                <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-500 mb-4\" />\r\n                <p>Connecting to Iron Arena...</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!duelState) return null;\r\n\r\n    const isChallenger = currentUserId === duelState.challengerId;\r\n    const user = isChallenger ? duelState.challenger : duelState.defender;\r\n    const opponent = isChallenger ? duelState.defender : duelState.challenger;\r\n\r\n    const userScore = isChallenger ? duelState.challengerScore : duelState.defenderScore;\r\n    const opponentScore = isChallenger ? duelState.defenderScore : duelState.challengerScore;\r\n\r\n    // For Titan vs Titan, scores represent damage dealt\r\n    const maxScore = Math.max(userScore, opponentScore, 1000);\r\n    const userProgress = Math.min((userScore / maxScore) * 100, 100);\r\n    const opponentProgress = Math.min((opponentScore / maxScore) * 100, 100);\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4\">\r\n            <div className=\"w-full max-w-4xl bg-slate-900 border border-slate-700 rounded-2xl overflow-hidden shadow-2xl relative\">\r\n                <div className=\"absolute top-4 right-4 z-10 flex gap-2\">\r\n                    <Button\r\n                        variant=\"ghost\"\r\n                        size=\"icon\"\r\n                        className={isMuted ? \"text-red-500\" : \"text-slate-400\"}\r\n                        onClick={() => setIsMuted(!isMuted)}\r\n                        title={isMuted ? \"Unmute Emotes\" : \"Mute Emotes\"}\r\n                    >\r\n                        <MessageSquare className=\"w-5 h-5\" />\r\n                    </Button>\r\n                    <Button\r\n                        variant=\"ghost\"\r\n                        className=\"text-slate-400 hover:text-white\"\r\n                        onClick={onClose}\r\n                    >\r\n                        Exit Arena\r\n                    </Button>\r\n                </div>\r\n\r\n                {/* Dynamic Background */}\r\n                <div className=\"absolute inset-0 bg-gradient-to-b from-slate-900 to-slate-950 opacity-90\" />\r\n                <div className={`absolute inset-0 bg-[url('/assets/arena_bg.jpg')] bg-cover bg-center opacity-20`} />\r\n\r\n                <div className=\"relative z-0 p-8 space-y-8\">\r\n                    {/* Emote Display */}\r\n                    <EmoteOverlay\r\n                        matchId={duelId}\r\n                        currentUserId={currentUserId}\r\n                        isMuted={isMuted}\r\n                    />\r\n\r\n                    {/* Battle Scene */}\r\n                    <div className=\"relative h-80 bg-slate-950/80 rounded-2xl border border-amber-500/20 shadow-[inset_0_0_50px_rgba(0,0,0,1)] overflow-hidden\">\r\n                        {/* Background Scene */}\r\n                        <div className=\"absolute inset-0 bg-[url('/assets/arena_bg.jpg')] bg-cover bg-center opacity-30 mix-blend-overlay\" />\r\n\r\n                        <div className=\"flex justify-between items-center h-full px-12 relative\">\r\n                            {/* Left Titan (User) */}\r\n                            <motion.div\r\n                                initial={{ x: -200, opacity: 0 }}\r\n                                animate={{ x: 0, opacity: 1 }}\r\n                                transition={{ type: \"spring\", stiffness: 50, damping: 15 }}\r\n                                className=\"relative w-64 h-64\"\r\n                            >\r\n                                <div className=\"absolute inset-0 bg-blue-500/10 blur-3xl rounded-full\" />\r\n                                <Image\r\n                                    src={`/assets/game/titans/${(user?.activePath || 'WARDEN').toLowerCase()}/base.png`}\r\n                                    alt=\"User Titan\"\r\n                                    fill\r\n                                    className=\"object-contain drop-shadow-[0_0_20px_rgba(59,130,246,0.3)]\"\r\n                                    priority\r\n                                    unoptimized\r\n                                />\r\n                                <div className=\"absolute -bottom-4 left-1/2 -translate-x-1/2 bg-blue-500/20 border border-blue-500/50 px-3 py-1 rounded text-[10px] font-black uppercase tracking-widest text-blue-400 backdrop-blur-sm\">\r\n                                    {user.heroName || 'YOU'}\r\n                                </div>\r\n                            </motion.div>\r\n\r\n                            {/* VS Effect */}\r\n                            <div className=\"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center\">\r\n                                <motion.div\r\n                                    animate={{\r\n                                        scale: [1, 1.1, 1],\r\n                                        opacity: [0.1, 0.2, 0.1]\r\n                                    }}\r\n                                    transition={{ duration: 2, repeat: Infinity }}\r\n                                    className=\"text-8xl font-black italic text-amber-500/20\"\r\n                                >\r\n                                    VS\r\n                                </motion.div>\r\n                            </div>\r\n\r\n                            {/* Right Titan (Opponent) */}\r\n                            <motion.div\r\n                                initial={{ x: 200, opacity: 0 }}\r\n                                animate={{ x: 0, opacity: 1 }}\r\n                                transition={{ type: \"spring\", stiffness: 50, damping: 15 }}\r\n                                className=\"relative w-64 h-64 scale-x-[-1]\"\r\n                            >\r\n                                <div className=\"absolute inset-0 bg-red-500/10 blur-3xl rounded-full\" />\r\n                                <Image\r\n                                    src={`/assets/game/titans/${(opponent?.activePath || 'WARDEN').toLowerCase()}/base.png`}\r\n                                    alt=\"Opponent Titan\"\r\n                                    fill\r\n                                    className=\"object-contain drop-shadow-[0_0_20px_rgba(239,68,68,0.3)]\"\r\n                                    priority\r\n                                    unoptimized\r\n                                />\r\n                                <div className=\"absolute -bottom-4 left-1/2 -translate-x-1/2 bg-red-500/20 border border-red-500/50 px-3 py-1 rounded text-[10px] font-black uppercase tracking-widest text-red-400 backdrop-blur-sm scale-x-[-1]\">\r\n                                    {opponent.heroName || 'OPPONENT'}\r\n                                </div>\r\n                            </motion.div>\r\n                        </div>\r\n                    </div>\r\n                    {/* Header */}\r\n                    <div className=\"text-center space-y-2\">\r\n                        <Badge variant=\"outline\" className=\"bg-red-500/10 text-red-500 border-red-500/50 px-4 py-1 text-sm tracking-widest uppercase\">\r\n                            <Swords className=\"w-4 h-4 inline mr-2\" />\r\n                            Titan vs Titan\r\n                        </Badge>\r\n                        <h2 className=\"text-3xl font-black italic\">COMBAT ARENA</h2>\r\n                        <div className=\"flex items-center justify-center gap-2 text-slate-400\">\r\n                            <Timer className=\"w-4 h-4\" />\r\n                            <span>Status: {duelState.status}</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Score Bars */}\r\n                    <div className=\"space-y-8 py-8 bg-black/40 rounded-xl p-6 border border-white/5\">\r\n                        {/* User Score */}\r\n                        <div className=\"relative\">\r\n                            <div className=\"flex justify-between items-end mb-2 text-blue-400 font-bold uppercase tracking-wider text-sm\">\r\n                                <span>{user.heroName || \"You\"}</span>\r\n                                <span>{userScore} DMG</span>\r\n                            </div>\r\n                            <div className=\"h-12 bg-slate-800 rounded-full relative overflow-hidden ring-2 ring-blue-500/20\">\r\n                                <motion.div\r\n                                    className=\"absolute top-0 bottom-0 left-0 bg-gradient-to-r from-blue-800 to-blue-500\"\r\n                                    initial={{ width: 0 }}\r\n                                    animate={{ width: `${userProgress}%` }}\r\n                                    transition={{ type: \"spring\", stiffness: 50 }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Opponent Score */}\r\n                        <div className=\"relative\">\r\n                            <div className=\"flex justify-between items-end mb-2 text-red-400 font-bold uppercase tracking-wider text-sm\">\r\n                                <span>{opponent.heroName || \"Opponent\"}</span>\r\n                                <span>{opponentScore} DMG</span>\r\n                            </div>\r\n                            <div className=\"h-12 bg-slate-800 rounded-full relative overflow-hidden ring-2 ring-red-500/20\">\r\n                                <motion.div\r\n                                    className=\"absolute top-0 bottom-0 left-0 bg-gradient-to-r from-red-800 to-red-500\"\r\n                                    initial={{ width: 0 }}\r\n                                    animate={{ width: `${opponentProgress}%` }}\r\n                                    transition={{ type: \"spring\", stiffness: 50 }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Combat Log */}\r\n                    <div className=\"bg-slate-950/50 rounded-lg p-4 h-32 overflow-y-auto border border-slate-800\">\r\n                        <div className=\"text-xs font-mono text-slate-400 space-y-1\">\r\n                            {combatLog.length === 0 ? (\r\n                                <p className=\"text-center italic\">No combat yet. Strike first!</p>\r\n                            ) : (\r\n                                combatLog.map((msg, i) => (\r\n                                    <p key={i} className=\"animate-in fade-in slide-in-from-bottom-2\">\r\n                                        {msg}\r\n                                    </p>\r\n                                ))\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Attack & Emotes */}\r\n                    <div className=\"flex gap-4\">\r\n                        <Button\r\n                            onClick={handleAttack}\r\n                            disabled={isAttacking || duelState.status !== \"ACTIVE\"}\r\n                            className=\"flex-1 bg-gradient-to-r from-red-600 to-amber-600 hover:from-red-500 hover:to-amber-500 text-white font-black text-lg py-6 rounded-lg shadow-lg shadow-red-900/50 disabled:opacity-50\"\r\n                        >\r\n                            {isAttacking ? (\r\n                                <>\r\n                                    <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\" />\r\n                                    Attacking...\r\n                                </>\r\n                            ) : (\r\n                                <>\r\n                                    <Zap className=\"w-5 h-5 mr-2\" />\r\n                                    ATTACK\r\n                                </>\r\n                            )}\r\n                        </Button>\r\n\r\n                        <EmotePicker\r\n                            matchId={duelId}\r\n                            disabled={duelState.status !== \"ACTIVE\"}\r\n                            onSend={(emote) => broadcastEmote(emote, currentUserId)}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\game\\GauntletArena.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\game\\Grimoire.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\game\\GuildHall.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used. Allowed unused args must match /^_/u.","line":232,"column":31,"nodeType":"Identifier","messageId":"unusedVar","endLine":232,"endColumn":32}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useRef } from \"react\";\r\nimport { RaidBoss, ChatMessage } from \"../../types\";\r\nimport {\r\n  // Skull removed\r\n  Swords,\r\n  Shield,\r\n  Users,\r\n  Send,\r\n  Info,\r\n  WifiOff,\r\n  Zap,\r\n  DoorOpen,\r\n} from \"lucide-react\";\r\nimport { cn } from \"../../lib/utils\";\r\nimport { createClient } from \"@/utils/supabase/client\";\r\nimport { RealtimeChannel } from \"@supabase/supabase-js\";\r\nimport {\r\n  sendChatAction,\r\n  attackBossAction,\r\n  getUserStatsAction,\r\n} from \"@/actions/guild/core\";\r\nimport { motion } from \"framer-motion\";\r\n\r\ninterface GuildHallProps {\r\n  onClose: () => void;\r\n}\r\n\r\nconst DEFAULT_BOSS: RaidBoss = {\r\n  id: \"boss_iron_golem\",\r\n  name: \"The Iron Golem\",\r\n  totalHp: 1000000,\r\n  currentHp: 1000000,\r\n  image: \"\",\r\n  description:\r\n    \"A massive automaton forged in the heart of the Iron Mines. It grows stronger with every failed attempt.\",\r\n  rewards: [\"Kinetic Shard x50\", \"Golem Core\", \"Title: Golem Smasher\"],\r\n};\r\n\r\nconst ATTACK_COST = 5;\r\n\r\ninterface FloatingText {\r\n  id: number;\r\n  text: string;\r\n  x: number;\r\n  y: number;\r\n  color: string;\r\n}\r\n\r\nexport const GuildHall: React.FC<GuildHallProps> = ({ onClose }) => {\r\n  const [messages, setMessages] = useState<ChatMessage[]>([]);\r\n  const [input, setInput] = useState(\"\");\r\n  const [boss, setBoss] = useState<RaidBoss>(DEFAULT_BOSS);\r\n  const [isConnected, setIsConnected] = useState(false);\r\n  const [onlineCount, setOnlineCount] = useState(1);\r\n\r\n  // Performance Coach State\r\n  const [kineticEnergy, setKineticEnergy] = useState<number>(0);\r\n  const [_heroName, setHeroName] = useState<string>(\"Titan\");\r\n\r\n  // Visual Juice State\r\n  const [floatingTexts, setFloatingTexts] = useState<FloatingText[]>([]);\r\n  const [shake, setShake] = useState(false);\r\n\r\n  // Animation state\r\n  const [hpAnim, setHpAnim] = useState(boss.currentHp);\r\n\r\n  const channelRef = useRef<RealtimeChannel | null>(null);\r\n\r\n  // Initial Load & Subscription\r\n  useEffect(() => {\r\n    let mounted = true;\r\n\r\n    const init = async () => {\r\n      const supabase = createClient();\r\n      setIsConnected(true);\r\n\r\n      // Fetch User Stats (Ammo)\r\n      const userStats = await getUserStatsAction();\r\n      if (userStats && mounted) {\r\n        setKineticEnergy(userStats.kineticEnergy);\r\n        setHeroName(userStats.heroName || \"Titan\");\r\n      }\r\n\r\n      // 1. Fetch Initial Boss State\r\n      const { data: bossData } = await supabase\r\n        .from(\"raid_bosses\")\r\n        .select(\"*\")\r\n        .eq(\"is_active\", true)\r\n        .single();\r\n\r\n      if (bossData) {\r\n        const mappedBoss: RaidBoss = {\r\n          id: bossData.id,\r\n          name: bossData.name,\r\n          totalHp: bossData.total_hp,\r\n          currentHp: bossData.current_hp,\r\n          image: bossData.image,\r\n          description: bossData.description,\r\n          rewards: bossData.rewards,\r\n        };\r\n        if (mounted) {\r\n          setBoss(mappedBoss);\r\n          setHpAnim(mappedBoss.currentHp);\r\n        }\r\n      }\r\n\r\n      // 2. Fetch Recent Chat\r\n      const { data: chatData } = await supabase\r\n        .from(\"chat_messages\")\r\n        .select(\"*\")\r\n        .order(\"timestamp\", { ascending: false })\r\n        .limit(50);\r\n\r\n      if (chatData && mounted) {\r\n        const mappedMessages = chatData.map((msg: any) => ({\r\n          id: msg.id,\r\n          userName: msg.user_name,\r\n          message: msg.message,\r\n          timestamp: msg.timestamp,\r\n          type: msg.type,\r\n        }));\r\n        setMessages(mappedMessages.reverse());\r\n      }\r\n\r\n      // 3. Subscribe to Changes\r\n      const channel = supabase\r\n        .channel(\"guild_hall_global\")\r\n        .on(\r\n          \"postgres_changes\",\r\n          {\r\n            event: \"UPDATE\",\r\n            schema: \"public\",\r\n            table: \"raid_bosses\",\r\n            filter: `id=eq.${bossData?.id || DEFAULT_BOSS.id}`,\r\n          },\r\n          (payload) => {\r\n            const newHp = payload.new.current_hp;\r\n            if (mounted) {\r\n              setBoss((prev) => ({ ...prev, currentHp: newHp }));\r\n            }\r\n          },\r\n        )\r\n        .on(\r\n          \"postgres_changes\",\r\n          { event: \"INSERT\", schema: \"public\", table: \"chat_messages\" },\r\n          (payload) => {\r\n            const newMsgRaw = payload.new;\r\n            const newMsg: ChatMessage = {\r\n              id: newMsgRaw.id,\r\n              userName: newMsgRaw.user_name,\r\n              message: newMsgRaw.message,\r\n              timestamp: newMsgRaw.timestamp,\r\n              type: newMsgRaw.type,\r\n            };\r\n\r\n            if (mounted) {\r\n              setMessages((prev) => [...prev, newMsg]);\r\n            }\r\n          },\r\n        )\r\n        .on(\"presence\", { event: \"sync\" }, () => {\r\n          const state = channel.presenceState();\r\n          if (mounted) setOnlineCount(Object.keys(state).length + 1);\r\n        })\r\n        .subscribe();\r\n\r\n      await channel.track({ online_at: new Date().toISOString() });\r\n      channelRef.current = channel;\r\n    };\r\n\r\n    init();\r\n\r\n    return () => {\r\n      mounted = false;\r\n      if (channelRef.current) {\r\n        channelRef.current.unsubscribe();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Lerp HP for smooth animation\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setHpAnim((prev) => {\r\n        const diff = boss.currentHp - prev;\r\n        if (Math.abs(diff) < 1) return boss.currentHp;\r\n        return prev + diff * 0.1;\r\n      });\r\n    }, 30);\r\n    return () => clearInterval(interval);\r\n  }, [boss.currentHp]);\r\n\r\n  // Floating Text Animation Loop\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setFloatingTexts((prev) =>\r\n        prev.map((ft) => ({ ...ft, y: ft.y - 2 })).filter((ft) => ft.y > -50),\r\n      );\r\n    }, 30);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const hpPct = (hpAnim / boss.totalHp) * 100;\r\n\r\n  const spawnFloatingText = (text: string, color: string = \"white\") => {\r\n    // Random offset\r\n    const xOffset = Math.random() * 100 - 50;\r\n    const yOffset = Math.random() * 50 - 25;\r\n\r\n    const newText: FloatingText = {\r\n      id: Date.now() + Math.random(),\r\n      text,\r\n      x: xOffset,\r\n      y: yOffset,\r\n      color,\r\n    };\r\n    setFloatingTexts((prev) => [...prev, newText]);\r\n  };\r\n\r\n  const handleSendMessage = async () => {\r\n    if (!input.trim()) return;\r\n    const msgToSend = input;\r\n    setInput(\"\");\r\n\r\n    try {\r\n      await sendChatAction(msgToSend);\r\n    } catch (_e) {\r\n      console.error(\"Failed to send message\", _e);\r\n    }\r\n  };\r\n\r\n  const handleAttack = async (e: React.MouseEvent) => {\r\n    if (!boss.id) return;\r\n\r\n    // 1. Check Energy (Optimistic Check)\r\n    if (kineticEnergy < ATTACK_COST) {\r\n      spawnFloatingText(\"LOW ENERGY!\", \"#ef4444\"); // Red\r\n      return;\r\n    }\r\n\r\n    // 2. Consume Energy Optimistically\r\n    setKineticEnergy((prev) => Math.max(0, prev - ATTACK_COST));\r\n\r\n    // 3. Visual Juice\r\n    setShake(true);\r\n    setTimeout(() => setShake(false), 200);\r\n\r\n    // 4. Server Action\r\n    try {\r\n      const result = await attackBossAction(boss.id);\r\n      if (result.damage) {\r\n        spawnFloatingText(`-${result.damage}`, \"#facc15\"); // Yellow\r\n      }\r\n    } catch (err: any) {\r\n      console.error(\"Attack failed\", err);\r\n      // Revert Energy on fail? Or just let it sync next time.\r\n      spawnFloatingText(\"MISS!\", \"#a1a1aa\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      exit={{ opacity: 0, y: -20 }}\r\n      className={cn(\r\n        \"h-full bg-forge-900 overflow-hidden flex flex-col font-serif transition-transform duration-75\",\r\n        shake ? \"translate-x-1 translate-y-1\" : \"\",\r\n      )}\r\n    >\r\n      {/* Header */}\r\n      <div className=\"bg-black/50 border-b border-forge-border p-6 flex justify-between items-center shrink-0\">\r\n        <div className=\"flex items-center gap-4\">\r\n          <div className=\"p-3 bg-red-950/30 border border-red-500/50 rounded-lg shadow-[0_0_15px_rgba(239,68,68,0.2)]\">\r\n            <Swords className=\"w-8 h-8 text-red-500\" />\r\n          </div>\r\n          <div>\r\n            <h1 className=\"text-3xl font-black text-white uppercase tracking-tighter\">\r\n              The Guild Hall\r\n            </h1>\r\n            <div className=\"flex items-center gap-4 text-xs font-bold uppercase tracking-widest text-zinc-500\">\r\n              <span className=\"flex items-center gap-1\">\r\n                {isConnected ? (\r\n                  <Users className=\"w-3 h-3 text-cyan-500\" />\r\n                ) : (\r\n                  <WifiOff className=\"w-3 h-3 text-red-500\" />\r\n                )}\r\n                {isConnected ? `${onlineCount} Online` : \"Offline Mode\"}\r\n              </span>\r\n              <span className=\"flex items-center gap-1 text-yellow-500\">\r\n                <Zap className=\"w-3 h-3 text-yellow-500\" /> {kineticEnergy}{\" \"}\r\n                Energy\r\n                <span className=\"opacity-50 text-[10px] ml-1\">\r\n                  (Cost: {ATTACK_COST})\r\n                </span>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <button\r\n          onClick={onClose}\r\n          className=\"bg-red-900/20 border-2 border-red-500/50 hover:bg-red-900/50 text-red-500 px-6 py-2 rounded-lg font-bold uppercase text-xs transition-all hover:scale-105 active:scale-95 flex items-center gap-2 shadow-[0_0_15px_rgba(239,68,68,0.2)]\"\r\n        >\r\n          <DoorOpen className=\"w-4 h-4\" />\r\n          Retreat\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"flex-1 flex overflow-hidden\">\r\n        {/* Main Battle Area */}\r\n        <div className=\"flex-1 p-8 flex flex-col items-center justify-center relative overflow-hidden bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-red-900/10 via-forge-900 to-forge-900\">\r\n          {/* Floating Texts Layer */}\r\n          <div className=\"absolute inset-0 pointer-events-none flex items-center justify-center overflow-visible\">\r\n            {floatingTexts.map((ft) => (\r\n              <div\r\n                key={ft.id}\r\n                className=\"absolute text-4xl font-black animate-float-up\"\r\n                style={{\r\n                  transform: `translate(${ft.x}px, ${ft.y}px)`,\r\n                  color: ft.color,\r\n                  textShadow: \"0 2px 4px rgba(0,0,0,0.8)\",\r\n                }}\r\n              >\r\n                {ft.text}\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Boss Visualization */}\r\n          <div\r\n            className={cn(\r\n              \"relative group cursor-pointer transition-transform active:scale-95 select-none\",\r\n              kineticEnergy < ATTACK_COST\r\n                ? \"opacity-50 cursor-not-allowed filter grayscale\"\r\n                : \"\",\r\n            )}\r\n            onClick={handleAttack}\r\n          >\r\n            <motion.div\r\n              whileHover={{ scale: 1.05 }}\r\n              whileTap={{ scale: 0.9, filter: \"brightness(1.5)\" }}\r\n              className=\"text-[12rem] drop-shadow-[0_0_50px_rgba(239,68,68,0.3)] filter grayscale-[0.2] relative z-10\"\r\n            >\r\n              {boss.image}\r\n            </motion.div>\r\n            <div className=\"absolute -bottom-4 left-1/2 -translate-x-1/2 whitespace-nowrap bg-black/80 border border-red-500/50 px-4 py-1 rounded-full pointer-events-none\">\r\n              <span className=\"text-red-500 font-black tracking-[0.2em] uppercase text-sm\">\r\n                {boss.name}\r\n              </span>\r\n            </div>\r\n            {/* Tooltip for Attack */}\r\n            <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none flex flex-col items-center gap-1\">\r\n              {kineticEnergy >= ATTACK_COST ? (\r\n                <>\r\n                  <span className=\"text-4xl font-black text-red-500 text-shadow-neon stroke-black whitespace-nowrap\">\r\n                    CLICK TO ATTACK\r\n                  </span>\r\n                  <span className=\"text-xs font-bold text-yellow-500 bg-black/80 px-2 py-1 rounded uppercase\">\r\n                    Costs {ATTACK_COST} Energy\r\n                  </span>\r\n                </>\r\n              ) : (\r\n                <span className=\"text-2xl font-black text-zinc-500 text-shadow-neon stroke-black whitespace-nowrap\">\r\n                  NEED ENERGY\r\n                </span>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Boss HP Bar */}\r\n          <div className=\"w-full max-w-2xl mt-16 space-y-2\">\r\n            <div className=\"flex justify-between items-end\">\r\n              <div className=\"flex flex-col\">\r\n                <span className=\"text-[10px] uppercase font-black text-zinc-500 tracking-widest\">\r\n                  Global Integrity\r\n                </span>\r\n                <span className=\"text-2xl font-black text-red-500 font-mono tracking-tighter italic\">\r\n                  {Math.round(hpAnim).toLocaleString()}{\" \"}\r\n                  <span className=\"text-zinc-600 text-sm italic\">\r\n                    / {boss.totalHp.toLocaleString()} HP\r\n                  </span>\r\n                </span>\r\n              </div>\r\n              <span className=\"text-4xl font-black text-white italic opacity-20\">\r\n                {Math.floor(hpPct)}%\r\n              </span>\r\n            </div>\r\n            <div className=\"h-4 w-full bg-zinc-950 rounded-full border-2 border-zinc-900 p-0.5 overflow-hidden shadow-inner\">\r\n              <div\r\n                className=\"h-full bg-gradient-to-r from-red-900 via-red-600 to-red-400 rounded-full shadow-[0_0_20px_rgba(239,68,68,0.6)] transition-all duration-100 ease-out relative overflow-hidden\"\r\n                style={{ width: `${hpPct}%` }}\r\n              >\r\n                <div className=\"absolute inset-0 bg-[linear-gradient(45deg,rgba(255,255,255,0.2)_25%,transparent_25%,transparent_50%,rgba(255,255,255,0.2)_50%,rgba(255,255,255,0.2)_75%,transparent_75%,transparent)] bg-[length:2rem_2rem] animate-scroll\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Boss Info Card */}\r\n          <div className=\"mt-12 grid grid-cols-2 gap-6 w-full max-w-2xl\">\r\n            <div className=\"bg-black/40 border border-zinc-800 p-4 rounded-lg\">\r\n              <h3 className=\"text-xs font-black text-zinc-400 uppercase tracking-widest mb-2 flex items-center gap-2\">\r\n                <Info className=\"w-3 h-3 text-cyan-500\" /> Intelligence\r\n              </h3>\r\n              <p className=\"text-xs text-zinc-300 leading-relaxed italic\">\r\n                &quot;{boss.description}&quot;\r\n              </p>\r\n            </div>\r\n            <div className=\"bg-black/40 border border-zinc-800 p-4 rounded-lg\">\r\n              <h3 className=\"text-xs font-black text-zinc-400 uppercase tracking-widest mb-2 flex items-center gap-2\">\r\n                <Shield className=\"w-3 h-3 text-red-500\" /> Bounties\r\n              </h3>\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {boss.rewards.map((reward, i) => (\r\n                  <span\r\n                    key={i}\r\n                    className=\"text-[9px] font-bold text-rarity-legendary bg-rarity-legendary/10 border border-rarity-legendary/30 px-2 py-0.5 rounded uppercase\"\r\n                  >\r\n                    {reward}\r\n                  </span>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Sidebar - Raid Chat/Log */}\r\n        <div className=\"w-96 bg-black/40 border-l border-forge-border flex flex-col\">\r\n          <div className=\"p-4 border-b border-forge-border bg-black/20\">\r\n            <h2 className=\"text-sm font-black text-white uppercase tracking-widest flex items-center gap-2\">\r\n              <Users className=\"w-4 h-4 text-cyan-500\" /> Raid Comms\r\n            </h2>\r\n          </div>\r\n\r\n          <div className=\"flex-1 overflow-y-auto p-4 space-y-4 font-sans no-scrollbar flex flex-col-reverse\">\r\n            {[...messages].reverse().map((msg) => (\r\n              <div\r\n                key={msg.id}\r\n                className={cn(\r\n                  \"p-3 rounded-lg border text-xs leading-relaxed animate-slide-in\",\r\n                  msg.type === \"LOG\"\r\n                    ? \"bg-red-950/20 border-red-500/20 text-red-400 italic font-medium\"\r\n                    : \"bg-zinc-900/50 border-zinc-800 text-zinc-300\",\r\n                )}\r\n              >\r\n                <div className=\"flex justify-between items-center mb-1\">\r\n                  <span\r\n                    className={cn(\r\n                      \"font-black uppercase tracking-tighter\",\r\n                      msg.userName === \"Titan\"\r\n                        ? \"text-cyan-500\"\r\n                        : \"text-zinc-500\",\r\n                    )}\r\n                  >\r\n                    {msg.userName}\r\n                  </span>\r\n                  <span className=\"text-[9px] opacity-30\">\r\n                    {new Date(msg.timestamp).toLocaleTimeString([], {\r\n                      hour: \"2-digit\",\r\n                      minute: \"2-digit\",\r\n                    })}\r\n                  </span>\r\n                </div>\r\n                <p>{msg.message}</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Chat Input */}\r\n          <div className=\"p-4 border-t border-forge-border bg-black/40\">\r\n            <div className=\"relative group\">\r\n              <input\r\n                type=\"text\"\r\n                value={input}\r\n                onChange={(e) => setInput(e.target.value)}\r\n                onKeyPress={(e) => e.key === \"Enter\" && handleSendMessage()}\r\n                placeholder={\r\n                  isConnected\r\n                    ? \"Coordinate attack...\"\r\n                    : \"Connecting to Neural Link...\"\r\n                }\r\n                disabled={!isConnected}\r\n                className=\"w-full bg-forge-800 border border-forge-border rounded-lg py-2 pl-4 pr-12 text-sm text-white placeholder:text-zinc-600 focus:outline-none focus:border-cyan-500 transition-colors disabled:opacity-50\"\r\n              />\r\n              <button\r\n                onClick={handleSendMessage}\r\n                disabled={!isConnected}\r\n                className=\"absolute right-2 top-1/2 -translate-y-1/2 p-2 text-zinc-500 hover:text-cyan-500 transition-colors disabled:opacity-50\"\r\n              >\r\n                <Send className=\"w-4 h-4\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default GuildHall;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\game\\TheForge.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_error' is defined but never used.","line":101,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":101,"endColumn":20}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport ForgeCard from \"@/components/ui/ForgeCard\";\r\nimport ForgeButton from \"@/components/ui/ForgeButton\";\r\nimport { LoadingSpinner } from \"@/components/ui/LoadingSpinner\";\r\nimport { ITEMS, RECIPES } from \"@/data/gameData\";\r\nimport { UserInventory, CraftingRecipe } from \"@/types/game\";\r\nimport { craftItem } from \"@/actions/economy/forge\";\r\nimport { toast } from \"@/components/ui/GameToast\";\r\nimport { Hammer, Anvil, Coins } from \"lucide-react\";\r\n\r\ninterface TheForgeProps {\r\n  onClose: () => void;\r\n}\r\n\r\nconst TheForge: React.FC<TheForgeProps> = ({ onClose }) => {\r\n  // TODO: In a real app, inventory would be passed in or fetched via hook\r\n  // For MVP, we mock the initial state or fetch it on mount\r\n  const [inventory, setInventory] = useState<UserInventory | null>(null);\r\n  const [_loading, _setLoading] = useState(false);\r\n  const [craftingId, setCraftingId] = useState<string | null>(null);\r\n\r\n  // Initial Mock Load (Replace with server action fetch later if needed)\r\n  useEffect(() => {\r\n    // Simulating data fetch\r\n    const mockInventory: UserInventory = {\r\n      userId: \"current-user\",\r\n      gold: 500,\r\n      items: [\r\n        { itemId: \"item_iron_ore\", count: 10 },\r\n        { itemId: \"item_flux\", count: 5 },\r\n      ],\r\n    };\r\n    setInventory(mockInventory);\r\n  }, []);\r\n\r\n  const handleCraft = async (recipe: CraftingRecipe) => {\r\n    if (!inventory) return;\r\n    setCraftingId(recipe.id);\r\n\r\n    try {\r\n      const result = await craftItem(recipe.id);\r\n      if (result.success && result.inventory) {\r\n        // Update local state with new inventory from server\r\n        // Note: The mock server action returns the inventory, so we use that.\r\n        // In a real app we might revalidatePath or use a router refresh.\r\n        // But for client interactivity, updating state is faster.\r\n        // Since the mock action is stateless (doesn't persist to DB truly yet),\r\n        // we might need to manually update local state if the server result isn't fully persistent.\r\n        // BUT, our server action returns 'inventory'. Let's trust it.\r\n        // Wait, the Mock Action re-computes inventory freshly every time from static mock,\r\n        // so it won't persist across calls in this specific implementation step.\r\n        // TO FIX: The server action calculates result based on Input Inventory it generates.\r\n        // For this UI to feel \"real\", we should manually update the local state\r\n        // to reflect the craft immediately, assuming success.\r\n\r\n        // Manual Optimistic Update for MVP fluidity:\r\n        const newItems = [...inventory.items];\r\n\r\n        // Deduct\r\n        recipe.materials.forEach((mat) => {\r\n          const idx = newItems.findIndex((i) => i.itemId === mat.itemId);\r\n          if (idx > -1) {\r\n            newItems[idx] = {\r\n              ...newItems[idx],\r\n              count: newItems[idx].count - mat.count,\r\n            };\r\n            if (newItems[idx].count <= 0) newItems.splice(idx, 1);\r\n          }\r\n        });\r\n\r\n        // Add\r\n        const resIdx = newItems.findIndex(\r\n          (i) => i.itemId === recipe.resultItemId,\r\n        );\r\n        if (resIdx > -1) {\r\n          newItems[resIdx] = {\r\n            ...newItems[resIdx],\r\n            count: newItems[resIdx].count + recipe.resultCount,\r\n          };\r\n        } else {\r\n          newItems.push({\r\n            itemId: recipe.resultItemId,\r\n            count: recipe.resultCount,\r\n          });\r\n        }\r\n\r\n        setInventory({\r\n          ...inventory,\r\n          gold: inventory.gold - recipe.goldCost,\r\n          items: newItems,\r\n        });\r\n\r\n        toast.success(result.message, {\r\n          description: \"Item added to inventory.\",\r\n        });\r\n      } else {\r\n        toast.error(result.message);\r\n      }\r\n    } catch (_error) {\r\n      toast.error(\"The Hammer failed to strike.\");\r\n    } finally {\r\n      setCraftingId(null);\r\n    }\r\n  };\r\n\r\n  if (!inventory) return <LoadingSpinner />;\r\n\r\n  return (\r\n    <div className=\"p-4 md:p-8 animate-fade-in max-w-6xl mx-auto\">\r\n      <div className=\"flex justify-between items-center mb-8\">\r\n        <div>\r\n          <h1 className=\"font-heading text-3xl text-magma tracking-widest uppercase flex items-center gap-3\">\r\n            <Anvil className=\"w-8 h-8\" /> The Forge\r\n          </h1>\r\n          <p className=\"text-forge-muted font-mono text-sm mt-1\">\r\n            Refine materials. Forge destiny.\r\n          </p>\r\n        </div>\r\n        <ForgeButton variant=\"rune\" onClick={onClose}>\r\n          Exit\r\n        </ForgeButton>\r\n      </div>\r\n\r\n      {/* Inventory Bar */}\r\n      <ForgeCard className=\"mb-8 p-4 flex items-center gap-6 overflow-x-auto bg-black/40 border-forge-border\">\r\n        <div className=\"flex items-center gap-2 text-gold font-mono border-r border-forge-border pr-6\">\r\n          <Coins className=\"w-5 h-5\" />\r\n          <span className=\"text-xl\">{inventory.gold}</span>\r\n        </div>\r\n        {inventory.items.map((slot) => {\r\n          const item = ITEMS.find((i) => i.id === slot.itemId);\r\n          if (!item) return null;\r\n          return (\r\n            <div\r\n              key={slot.itemId}\r\n              className=\"flex items-center gap-2 min-w-fit px-3 py-1 bg-forge-800 rounded border border-forge-border/50\"\r\n            >\r\n              <span className=\"text-xl\">{item.image}</span>\r\n              <div className=\"flex flex-col leading-none\">\r\n                <span\r\n                  className={`text-xs uppercase font-bold text-${item.rarity === \"common\" ? \"white\" : \"magma\"}`}\r\n                >\r\n                  {item.name}\r\n                </span>\r\n                <span className=\"text-xs text-forge-muted font-mono\">\r\n                  x{slot.count}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </ForgeCard>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n        {RECIPES.map((recipe) => {\r\n          const resultItem = ITEMS.find((i) => i.id === recipe.resultItemId);\r\n          if (!resultItem) return null;\r\n\r\n          const canCraft =\r\n            inventory.gold >= recipe.goldCost &&\r\n            recipe.materials.every((mat) => {\r\n              const slot = inventory.items.find((i) => i.itemId === mat.itemId);\r\n              return slot && slot.count >= mat.count;\r\n            });\r\n\r\n          return (\r\n            <ForgeCard\r\n              key={recipe.id}\r\n              className=\"relative group overflow-visible\"\r\n            >\r\n              <div className=\"flex justify-between items-start mb-4\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div className=\"w-12 h-12 bg-forge-900 rounded-lg flex items-center justify-center text-3xl border border-forge-border shadow-inner\">\r\n                    {resultItem.image}\r\n                  </div>\r\n                  <div>\r\n                    <h3 className=\"font-heading text-lg text-white group-hover:text-magma transition-colors\">\r\n                      {recipe.name}\r\n                    </h3>\r\n                    <div className=\"flex items-center gap-1 text-gold text-xs font-mono\">\r\n                      <Coins className=\"w-3 h-3\" /> {recipe.goldCost}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2 mb-6\">\r\n                <div className=\"text-xs text-forge-muted uppercase tracking-wider\">\r\n                  Requires:\r\n                </div>\r\n                <div className=\"space-y-1\">\r\n                  {recipe.materials.map((mat) => {\r\n                    const matItem = ITEMS.find((i) => i.id === mat.itemId);\r\n                    const inventoryCount =\r\n                      inventory.items.find((i) => i.itemId === mat.itemId)\r\n                        ?.count || 0;\r\n                    const hasEnough = inventoryCount >= mat.count;\r\n\r\n                    return (\r\n                      <div\r\n                        key={mat.itemId}\r\n                        className=\"flex justify-between text-sm font-mono\"\r\n                      >\r\n                        <span className=\"text-white/80\">\r\n                          {matItem?.name || mat.itemId}\r\n                        </span>\r\n                        <span\r\n                          className={\r\n                            hasEnough ? \"text-green-400\" : \"text-blood\"\r\n                          }\r\n                        >\r\n                          {inventoryCount}/{mat.count}\r\n                        </span>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n\r\n              <ForgeButton\r\n                variant={canCraft ? \"magma\" : \"rune\"}\r\n                className=\"w-full\"\r\n                disabled={!canCraft || craftingId === recipe.id}\r\n                onClick={() => handleCraft(recipe)}\r\n              >\r\n                {craftingId === recipe.id ? (\r\n                  <>\r\n                    <LoadingSpinner className=\"w-4 h-4 mr-2\" /> Forging...\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Hammer className=\"w-4 h-4 mr-2\" /> Forge Item\r\n                  </>\r\n                )}\r\n              </ForgeButton>\r\n            </ForgeCard>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TheForge;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\game\\WorldMap.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\game\\components\\ActionView.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\game\\components\\DungeonBuilder.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\game\\components\\QuestLog.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'history' is defined but never used. Allowed unused args must match /^_/u.","line":25,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":25,"endColumn":10}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useMemo } from \"react\";\nimport { Session, ExerciseLog } from \"@/types\";\nimport {\n  Scroll,\n  Sword,\n  Map,\n  Lock,\n  Star,\n  Sparkles,\n  Hammer,\n  ChevronRight,\n} from \"lucide-react\";\n\ninterface QuestLogProps {\n  sessions: Session[];\n  history: ExerciseLog[];\n  onSelectSession: (sessionId: string) => void;\n  level: number;\n}\n\ntype ActFilter = \"ACT_I\" | \"ACT_II\" | \"ACT_III\";\n\nconst QuestLog: React.FC<QuestLogProps> = ({\n  sessions,\n  history,\n  onSelectSession,\n  level,\n}) => {\n  const [activeAct, setActiveAct] = useState<ActFilter>(\"ACT_I\");\n\n  // --- FILTER LOGIC ---\n  const filteredSessions = useMemo(() => {\n    return sessions.filter((session) => {\n      if (activeAct === \"ACT_I\") {\n        // Core static sessions: Not Generated AND Not Custom\n        return !session.isGenerated && !session.isCustom;\n      }\n      if (activeAct === \"ACT_II\") {\n        // Oracle / Generated: Must be generated\n        return session.isGenerated === true;\n      }\n      if (activeAct === \"ACT_III\") {\n        // User Custom Dungeons: Must be custom\n        return session.isCustom === true;\n      }\n      return false;\n    });\n  }, [sessions, activeAct]);\n\n  const acts = [\n    {\n      id: \"ACT_I\",\n      label: \"Act I: Initiation\",\n      icon: <Map className=\"w-4 h-4\" />,\n      desc: \"Standard Protocol\",\n    },\n    {\n      id: \"ACT_II\",\n      label: \"Act II: The Oracle\",\n      icon: <Sparkles className=\"w-4 h-4\" />,\n      desc: \"AI Generated\",\n    },\n    {\n      id: \"ACT_III\",\n      label: \"Act III: Architect\",\n      icon: <Hammer className=\"w-4 h-4\" />,\n      desc: \"Custom Dungeons\",\n    },\n  ];\n\n  return (\n    <div className=\"bg-[#111] border-2 border-[#46321d] rounded-lg overflow-hidden flex flex-col shadow-2xl\">\n      {/* Header / Tabs */}\n      <div className=\"flex border-b border-[#46321d]\">\n        {acts.map((act) => (\n          <button\n            key={act.id}\n            onClick={() => setActiveAct(act.id as ActFilter)}\n            className={`flex-1 py-4 px-2 flex flex-col items-center gap-1 transition-all relative overflow-hidden group\n              ${activeAct === act.id\n                ? \"bg-[#1a1a1a] text-[#c79c6e]\"\n                : \"bg-[#0a0a0a] text-zinc-500 hover:text-zinc-400 hover:bg-[#111]\"\n              }\n            `}\n          >\n            {activeAct === act.id && (\n              <div className=\"absolute top-0 left-0 w-full h-0.5 bg-[#c79c6e] shadow-[0_0_10px_#c79c6e]\" />\n            )}\n            <div\n              className={`p-1 rounded ${activeAct === act.id ? \"bg-[#c79c6e]/10\" : \"\"}`}\n            >\n              {act.icon}\n            </div>\n            <span className=\"text-[10px] font-bold uppercase tracking-widest\">\n              {act.label}\n            </span>\n          </button>\n        ))}\n      </div>\n\n      {/* Content Area */}\n      <div className=\"p-6 min-h-[300px] bg-[url('https://www.transparenttextures.com/patterns/dark-leather.png')] bg-zinc-900/50\">\n        {/* Act Description */}\n        <div className=\"mb-6 flex items-center justify-between\">\n          <div>\n            <h3 className=\"text-xl font-serif font-bold text-white uppercase tracking-wider\">\n              {acts.find((a) => a.id === activeAct)?.label}\n            </h3>\n            <p className=\"text-xs text-zinc-500 font-sans\">\n              {activeAct === \"ACT_I\" &&\n                \"The foundational training grounds. Master the basics.\"}\n              {activeAct === \"ACT_II\" &&\n                \"Dynamic challenges forged by the Spirit Guide based on your biometrics.\"}\n              {activeAct === \"ACT_III\" &&\n                \"Custom dungeons constructed by your own hand.\"}\n            </p>\n          </div>\n          <div className=\"text-right\">\n            <span className=\"text-xs font-bold text-zinc-500 uppercase tracking-widest\">\n              Available Quests: {filteredSessions.length}\n            </span>\n          </div>\n        </div>\n\n        {/* Quest List */}\n        <div className=\"space-y-4\">\n          {filteredSessions.length === 0 ? (\n            <div className=\"flex flex-col items-center justify-center py-12 border-2 border-dashed border-zinc-800 rounded-lg opacity-50\">\n              <Lock className=\"w-12 h-12 text-zinc-700 mb-2\" />\n              <p className=\"text-zinc-500 font-serif text-sm\">\n                No Quests Available in this Region.\n              </p>\n              {activeAct === \"ACT_II\" && (\n                <p className=\"text-[10px] text-zinc-600 mt-1\">\n                  Consult the Oracle to generate new paths.\n                </p>\n              )}\n              {activeAct === \"ACT_III\" && (\n                <p className=\"text-[10px] text-zinc-600 mt-1\">\n                  Use the Dungeon Builder to construct this area.\n                </p>\n              )}\n            </div>\n          ) : (\n            filteredSessions.map((session) => {\n              const isGenerated = session.isGenerated;\n              const isCustom = session.isCustom;\n\n              let borderColor = \"border-[#c0b3a0] group-hover:border-[#a335ee]\";\n              let iconColor = \"bg-[#46321d] border-[#6b4e31] text-[#c79c6e]\";\n              let typeLabel = \"Daily Quest\";\n\n              if (isGenerated) {\n                borderColor =\n                  \"border-purple-500 shadow-[0_0_10px_rgba(168,85,247,0.15)] group-hover:border-purple-400\";\n                iconColor = \"bg-purple-900 border-purple-500 text-purple-200\";\n                typeLabel = \"Prophecy\";\n              } else if (isCustom) {\n                borderColor =\n                  \"border-green-500 shadow-[0_0_10px_rgba(34,197,94,0.15)] group-hover:border-green-400\";\n                iconColor = \"bg-green-900 border-green-500 text-green-200\";\n                typeLabel = \"Construct\";\n              }\n\n              return (\n                <button\n                  key={session.id}\n                  onClick={() => onSelectSession(session.id)}\n                  className={`w-full group relative flex items-start gap-4 p-4 border-2 rounded bg-zinc-950 text-left transition-all hover:-translate-y-1 hover:shadow-xl ${borderColor}`}\n                >\n                  {/* Icon Box */}\n                  <div\n                    className={`mt-1 p-3 rounded border shadow-inner transition-colors ${iconColor}`}\n                  >\n                    {isGenerated ? (\n                      <Sparkles className=\"w-6 h-6 animate-pulse\" />\n                    ) : isCustom ? (\n                      <Hammer className=\"w-6 h-6\" />\n                    ) : (\n                      <Sword className=\"w-6 h-6\" />\n                    )}\n                  </div>\n\n                  <div className=\"flex-1\">\n                    <div className=\"flex justify-between items-start\">\n                      <h4 className=\"text-lg font-bold text-zinc-200 group-hover:text-white font-serif tracking-wide\">\n                        {session.name}\n                      </h4>\n                      <span className=\"text-[10px] font-bold uppercase tracking-widest text-zinc-500 bg-zinc-900 px-2 py-1 rounded border border-zinc-800\">\n                        {typeLabel}\n                      </span>\n                    </div>\n\n                    <p className=\"text-zinc-500 text-xs italic font-serif mt-1 border-l-2 border-zinc-800 pl-2\">\n                      {session.zoneName || \"Unknown Territory\"}\n                    </p>\n\n                    {/* Rewards / Difficulty */}\n                    <div className=\"flex items-center gap-4 mt-3 text-[10px] text-zinc-400 font-mono uppercase\">\n                      <span className=\"flex items-center gap-1 text-[#ffd700]\">\n                        <Star className=\"w-3 h-3 fill-current\" />\n                        XP: High\n                      </span>\n                      <span className=\"flex items-center gap-1\">\n                        <Scroll className=\"w-3 h-3\" />\n                        Blocks: {session.blocks.length}\n                      </span>\n                      {session.levelReq && session.levelReq > level && (\n                        <span className=\"text-red-500 flex items-center gap-1\">\n                          <Lock className=\"w-3 h-3\" /> Req Lvl{\" \"}\n                          {session.levelReq}\n                        </span>\n                      )}\n                    </div>\n                  </div>\n\n                  <div className=\"self-center opacity-0 group-hover:opacity-100 transition-opacity -ml-4 group-hover:ml-0 text-[#c79c6e]\">\n                    <ChevronRight className=\"w-6 h-6\" />\n                  </div>\n                </button>\n              );\n            })\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default QuestLog;\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\game\\components\\SkillTree.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\game\\components\\TransitionView.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\game\\components\\ValhallaGate.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\game\\components\\__tests__\\SkillTree.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\game\\components\\bestiary\\MonsterList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\game\\components\\campaign\\BluetoothDebug.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\game\\components\\campaign\\CampaignTracker.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\game\\hooks\\useSkillEffects.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\gamification\\TrophyRoom.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\gamification\\components\\battle-pass\\BattlePassView.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'totalTiers' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":50,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":50,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport React, { useState } from \"react\";\nimport { ScrollArea, ScrollBar } from \"@/components/ui/scroll-area\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { RewardNode } from \"./RewardNode\";\nimport { claimBattlePassRewardAction, upgradeToPremiumAction } from \"@/actions/systems/battle-pass\";\nimport { Button } from \"@/components/ui/button\";\nimport { toast } from \"sonner\";\n\ninterface BattlePassData {\n  seasonId: string;\n  seasonName: string;\n  level: number;\n  xp: number;\n  hasPremium: boolean;\n  tiers: {\n    level: number;\n    requiredXp: number;\n    freeReward: { id: string | null; data: any };\n    premiumReward: { id: string | null; data: any };\n    isClaimedFree: boolean;\n    isClaimedPremium: boolean;\n    isUnlocked: boolean;\n  }[];\n}\n\ninterface BattlePassViewProps {\n  initialData: BattlePassData | null;\n  userId: string;\n}\n\nexport function BattlePassView({ initialData, userId }: BattlePassViewProps) {\n  const [data, setData] = useState<BattlePassData | null>(initialData);\n  const [loading, setLoading] = useState(false);\n\n  if (!data) {\n    return (\n      <div className=\"p-8 text-center border border-dashed rounded-xl\">\n        <h3 className=\"text-lg font-medium text-slate-400\">No Active Season</h3>\n        <p className=\"text-sm text-slate-500\">\n          Check back later for the next Battle Pass season.\n        </p>\n      </div>\n    );\n  }\n\n  // Calculate overall progress logic\n  // Unlocked tiers / total tiers\n  const totalTiers = data.tiers.length;\n  // Current tier is 0-indexed concept effectively in currentTier from DB (it returns the last COMPLETED tier usually or current level)\n  // Here data.level is usually the current level achieved.\n\n  // Find next tier XP\n  const nextTier = data.tiers.find((t) => t.requiredXp > data.xp);\n  const currentTier = data.tiers\n    .slice()\n    .reverse()\n    .find((t) => t.requiredXp <= data.xp);\n\n  const prevXp = currentTier?.requiredXp || 0;\n  const nextXp = nextTier?.requiredXp || (currentTier?.requiredXp || 0) + 1000; // Fallback\n\n  // Progress within current level\n  const tierProgress = Math.min(\n    100,\n    Math.max(0, ((data.xp - prevXp) / (nextXp - prevXp)) * 100),\n  );\n\n  const handleClaim = async (tierLevel: number, isPremium: boolean) => {\n    if (loading) return;\n    setLoading(true);\n    // Optimistic update could happen here, but for now simple await\n    const result = await claimBattlePassRewardAction(\n      userId,\n      tierLevel,\n      isPremium,\n    );\n\n    if (result.success) {\n      toast.success(result.message);\n      // In a real app we'd re-fetch or optimistically update local state.\n      // For simplicity, we are forcing a refresh via router or just manual state update:\n      setData((prev) => {\n        if (!prev) return null;\n        return {\n          ...prev,\n          tiers: prev.tiers.map((t) => {\n            if (t.level === tierLevel) {\n              return {\n                ...t,\n                isClaimedFree: !isPremium ? true : t.isClaimedFree,\n                isClaimedPremium: isPremium ? true : t.isClaimedPremium,\n              };\n            }\n            return t;\n          }),\n        };\n      });\n    } else {\n      toast.error(result.message);\n    }\n    setLoading(false);\n  };\n\n  const handleUpgrade = async () => {\n    if (loading) return;\n    setLoading(true);\n    const result = await upgradeToPremiumAction(userId);\n    if (result.success) {\n      toast.success(\"Premium Unlocked!\");\n      // Optimistic update\n      setData(prev => prev ? ({ ...prev, hasPremium: true }) : null);\n    } else {\n      toast.error(result.message);\n    }\n    setLoading(false);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex flex-col gap-4 bg-slate-900/50 p-6 rounded-xl border border-slate-800 relative overflow-hidden\">\n        {/* Background Glow for Premium */}\n        {data.hasPremium && (\n          <div className=\"absolute top-0 right-0 w-64 h-64 bg-amber-500/10 blur-[100px] rounded-full pointer-events-none\" />\n        )}\n\n        <div className=\"flex justify-between items-start\">\n          <div>\n            <h2 className=\"text-2xl font-bold bg-gradient-to-r from-amber-200 to-yellow-500 bg-clip-text text-transparent flex items-center gap-2\">\n              {data.seasonName}\n              {data.hasPremium && <span className=\"text-xs border border-amber-500/50 text-amber-500 px-2 py-0.5 rounded-full uppercase tracking-widest\">Premium</span>}\n            </h2>\n            <p className=\"text-slate-400 text-sm\">Season ends in 30 days</p>\n          </div>\n          <div className=\"flex items-center gap-4\">\n            {!data.hasPremium && (\n              <Button\n                onClick={handleUpgrade}\n                disabled={loading}\n                className=\"bg-gradient-to-r from-amber-600 to-yellow-600 hover:from-amber-500 hover:to-yellow-500 text-white font-bold shadow-lg shadow-amber-900/20\"\n              >\n                Unlock Premium\n              </Button>\n            )}\n            <div className=\"text-right\">\n              <div className=\"text-3xl font-bold font-mono\">{data.level}</div>\n              <div className=\"text-xs text-slate-500 uppercase tracking-wider\">\n                Current Tier\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Main Progress Bar */}\n        <div className=\"space-y-2\">\n          <div className=\"flex justify-between text-xs text-slate-400\">\n            <span>{data.xp} XP</span>\n            <span>Next: {nextXp} XP</span>\n          </div>\n          <Progress value={tierProgress} className=\"h-3\" />\n        </div>\n      </div>\n\n      {/* Tiers Track */}\n      <div className=\"space-y-2\">\n        <div className=\"flex items-center justify-between px-2\">\n          <h3 className=\"font-semibold text-slate-300\">Reward Track</h3>\n          {!data.hasPremium && (\n            <span className=\"text-xs text-amber-500 font-medium\">\n              Upgrade to Premium to unlock more rewards!\n            </span>\n          )}\n        </div>\n\n        <ScrollArea className=\"w-full whitespace-nowrap rounded-xl border border-slate-800 bg-slate-950/30 p-4\">\n          <div className=\"flex space-x-4 pb-4\">\n            {data.tiers.map((tier) => (\n              <div key={tier.level} className=\"flex flex-col gap-2\">\n                {/* Free Reward */}\n                <RewardNode\n                  tier={tier.level}\n                  pointsRequired={tier.requiredXp}\n                  isUnlocked={tier.isUnlocked}\n                  isClaimed={tier.isClaimedFree}\n                  isPremium={false}\n                  reward={tier.freeReward}\n                  onClaim={() => handleClaim(tier.level, false)}\n                  userHasPremium={data.hasPremium}\n                />\n\n                {/* Connector / Spacer */}\n                <div className=\"h-8 flex items-center justify-center\">\n                  <div\n                    className={`w-0.5 h-full ${tier.isUnlocked ? \"bg-amber-500\" : \"bg-slate-800\"}`}\n                  ></div>\n                </div>\n\n                {/* Premium Reward */}\n                <RewardNode\n                  tier={tier.level}\n                  pointsRequired={tier.requiredXp}\n                  isUnlocked={tier.isUnlocked}\n                  isClaimed={tier.isClaimedPremium}\n                  isPremium={true}\n                  reward={tier.premiumReward}\n                  onClaim={() => handleClaim(tier.level, true)}\n                  userHasPremium={data.hasPremium}\n                />\n              </div>\n            ))}\n          </div>\n          <ScrollBar orientation=\"horizontal\" />\n        </ScrollArea>\n      </div>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\gamification\\components\\battle-pass\\RewardNode.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\gamification\\hooks\\useAchievements.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\guild\\GuildHall.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\guild\\hooks\\useGuildContribution.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'lastSyncRef' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":38,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":38,"endColumn":20}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useRef } from \"react\";\nimport { contributeGuildDamageAction } from \"@/actions/guild/core\";\n\ninterface UseGuildContributionProps {\n  userId?: string;\n  watts: number;\n  heartRate: number;\n  ftp: number;\n  maxHr: number;\n  isPaused: boolean;\n}\n\nexport interface GuildSession {\n  totalDamage: number;\n  pendingDamage: number;\n  bossHp: number;\n  bossTotalHp: number;\n  bossName: string;\n}\n\nexport const useGuildContribution = ({\n  userId,\n  watts,\n  heartRate,\n  ftp = 200,\n  maxHr = 190,\n  isPaused,\n}: UseGuildContributionProps) => {\n  const [stats, setStats] = useState<GuildSession>({\n    totalDamage: 0,\n    pendingDamage: 0,\n    bossHp: 0,\n    bossTotalHp: 0,\n    bossName: \"Unknown\",\n  });\n\n  const pendingDamageRef = useRef(0);\n  const lastSyncRef = useRef(Date.now());\n\n  // Damage Calculation Loop (1s Interval)\n  useEffect(() => {\n    if (isPaused || !userId) return;\n\n    const interval = setInterval(() => {\n      let dps = 0;\n\n      // 1. Base Damage (Active)\n      if (watts > 10 || heartRate > 90) {\n        dps += 1;\n      }\n\n      // 2. Power Bonus: +1 per 10W over 50% FTP\n      const powerThreshold = ftp * 0.5;\n      if (watts > powerThreshold) {\n        const surplus = watts - powerThreshold;\n        dps += Math.floor(surplus / 10);\n      }\n\n      // 3. Zone 5 Bonus (2x Multiplier)\n      const zone5Threshold = maxHr * 0.9;\n      if (heartRate >= zone5Threshold) {\n        dps *= 2;\n      }\n\n      if (dps > 0) {\n        pendingDamageRef.current += dps;\n        setStats((prev) => ({\n          ...prev,\n          totalDamage: prev.totalDamage + dps,\n          pendingDamage: pendingDamageRef.current,\n        }));\n      }\n    }, 1000);\n\n    return () => clearInterval(interval);\n  }, [watts, heartRate, ftp, maxHr, isPaused, userId]);\n\n  // Sync Loop (30s Interval)\n  useEffect(() => {\n    if (!userId) return;\n\n    const syncInterval = setInterval(async () => {\n      const damageToSync = pendingDamageRef.current;\n\n      if (damageToSync > 0) {\n        try {\n          // Reset pending immediately to avoid double counting if request is slow\n          // (Optimistic update pattern could be better but this is safer for no-dupes)\n          // Actually, if it fails we want to retry.\n          // Let's keep it simple: sync, then subtract.\n\n          const result = await contributeGuildDamageAction(\n            userId,\n            damageToSync,\n          );\n\n          if (result.success) {\n            pendingDamageRef.current -= damageToSync;\n            setStats((prev) => ({\n              ...prev,\n              pendingDamage: pendingDamageRef.current,\n              bossHp: (result.bossHp as number) || prev.bossHp,\n              bossTotalHp: (result.bossTotalHp as number) || prev.bossTotalHp,\n            }));\n          }\n        } catch (e) {\n          console.error(\"Guild Sync Failed\", e);\n        }\n      }\n    }, 30000);\n\n    return () => clearInterval(syncInterval);\n  }, [userId]);\n\n  return stats;\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\leaderboard\\components\\LeaderboardHub.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\leaderboard\\components\\LeaderboardPlayerCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\leaderboard\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\onboarding\\FirstLoginQuest.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\onboarding\\HevyImportWizard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\onboarding\\components\\FirstTimeHints.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\onboarding\\hooks\\useOnboardingTour.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\oracle\\components\\ActiveDecree.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\oracle\\components\\OracleCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\oracle\\components\\OracleChat.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\oracle\\components\\OracleVerdict.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\oracle\\components\\PushSubscriptionToggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\oracle\\components\\RecoveryOracleVerdict.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\oracle\\hooks\\usePushNotifications.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\podcast\\components\\PocketCastsAuth.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\podcast\\components\\PocketCastsPlayer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\podcast\\components\\PodcastBrowser.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\podcast\\hooks\\usePodcastPlayer.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\pvp\\components\\CardioDuelCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\pvp\\components\\CardioDuelLobby.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setDuelType' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":22,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":22,"endColumn":33}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { Card, CardHeader, CardTitle, CardContent } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\r\nimport { createDuelChallengeAction, getPotentialOpponentsAction } from \"@/actions/pvp/duel\";\r\nimport { toast } from \"sonner\";\r\nimport { Bike, Footprints, Trophy } from \"lucide-react\";\r\n\r\ninterface Opponent {\r\n    id: string;\r\n    heroName: string;\r\n    level: number;\r\n    titan?: { powerRating: number };\r\n}\r\n\r\nexport function CardioDuelLobby() {\r\n    const [opponents, setOpponents] = useState<Opponent[]>([]);\r\n    const [selectedOpponent, setSelectedOpponent] = useState<string | null>(null);\r\n    const [duelType, setDuelType] = useState(\"DISTANCE_RACE\");\r\n    const [activityType, setActivityType] = useState(\"RUNNING\");\r\n    const [distance, setDistance] = useState(\"5\");\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        loadOpponents();\r\n    }, []);\r\n\r\n    const loadOpponents = async () => {\r\n        const res = await getPotentialOpponentsAction();\r\n        if (res.success && res.opponents) {\r\n            // Fix: Map to ensure heroName is string (fallback for null)\r\n            const sanitized: Opponent[] = res.opponents.map((opp: any) => ({\r\n                id: opp.id,\r\n                heroName: opp.heroName || \"Unknown Titan\",\r\n                level: opp.level, // Assuming level is always present/valid based on schema, otherwise provide default\r\n                titan: opp.titan ? { powerRating: opp.titan.powerRating } : undefined\r\n            }));\r\n            setOpponents(sanitized);\r\n        }\r\n    };\r\n\r\n    const handleCreateDuel = async () => {\r\n        if (!selectedOpponent) return;\r\n        setLoading(true);\r\n\r\n        const result = await createDuelChallengeAction(selectedOpponent, {\r\n            duelType,\r\n            activityType,\r\n            targetDistance: parseFloat(distance),\r\n        });\r\n\r\n        if (result.success) {\r\n            toast.success(\"Duel Challenge Sent!\");\r\n            setSelectedOpponent(null);\r\n        } else {\r\n            toast.error(result.error);\r\n        }\r\n        setLoading(false);\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <Card className=\"bg-slate-900 border-slate-800\">\r\n                <CardHeader>\r\n                    <CardTitle className=\"flex items-center gap-2\">\r\n                        <Trophy className=\"text-yellow-500\" />\r\n                        New Cardio Duel\r\n                    </CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"space-y-4\">\r\n\r\n                    {/* Settings */}\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                        <div className=\"space-y-2\">\r\n                            <label className=\"text-sm font-medium text-slate-400\">Activity</label>\r\n                            <Select value={activityType} onValueChange={setActivityType}>\r\n                                <SelectTrigger>\r\n                                    <SelectValue />\r\n                                </SelectTrigger>\r\n                                <SelectContent>\r\n                                    <SelectItem value=\"RUNNING\">\r\n                                        <div className=\"flex items-center gap-2\"><Footprints className=\"h-4 w-4\" /> Running</div>\r\n                                    </SelectItem>\r\n                                    <SelectItem value=\"CYCLING\">\r\n                                        <div className=\"flex items-center gap-2\"><Bike className=\"h-4 w-4\" /> Cycling</div>\r\n                                    </SelectItem>\r\n                                </SelectContent>\r\n                            </Select>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-2\">\r\n                            <label className=\"text-sm font-medium text-slate-400\">Target Distance</label>\r\n                            <Select value={distance} onValueChange={setDistance}>\r\n                                <SelectTrigger>\r\n                                    <SelectValue />\r\n                                </SelectTrigger>\r\n                                <SelectContent>\r\n                                    <SelectItem value=\"3\">3 km</SelectItem>\r\n                                    <SelectItem value=\"5\">5 km</SelectItem>\r\n                                    <SelectItem value=\"10\">10 km</SelectItem>\r\n                                    <SelectItem value=\"21.1\">Half Marathon</SelectItem>\r\n                                </SelectContent>\r\n                            </Select>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Opponent Selection */}\r\n                    <div className=\"space-y-2\">\r\n                        <label className=\"text-sm font-medium text-slate-400\">Select Rival (Matched by Power Rating)</label>\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-2 max-h-60 overflow-y-auto\">\r\n                            {opponents.map((opp) => (\r\n                                <div\r\n                                    key={opp.id}\r\n                                    onClick={() => setSelectedOpponent(opp.id)}\r\n                                    className={`p-3 rounded-lg border cursor-pointer transition-all flex items-center justify-between ${selectedOpponent === opp.id\r\n                                        ? \"border-emerald-500 bg-emerald-900/20\"\r\n                                        : \"border-slate-700 hover:bg-slate-800\"\r\n                                        }`}\r\n                                >\r\n                                    <div className=\"flex items-center gap-3\">\r\n                                        <Avatar className=\"h-8 w-8\">\r\n                                            <AvatarFallback>{opp.heroName[0]}</AvatarFallback>\r\n                                        </Avatar>\r\n                                        <div>\r\n                                            <div className=\"font-semibold text-sm\">{opp.heroName}</div>\r\n                                            <div className=\"text-xs text-slate-500\">Lvl {opp.level}  PR: {Math.round(opp.titan?.powerRating || 0)}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                    {selectedOpponent === opp.id && <div className=\"h-2 w-2 rounded-full bg-emerald-500\" />}\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <Button\r\n                        className=\"w-full bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500\"\r\n                        disabled={!selectedOpponent || loading}\r\n                        onClick={handleCreateDuel}\r\n                    >\r\n                        {loading ? \"Sending...\" : \"Send Challenge\"}\r\n                    </Button>\r\n\r\n                </CardContent>\r\n            </Card>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\pvp\\components\\EmoteOverlay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\pvp\\components\\EmotePicker.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\pvp\\components\\duel\\CardioDuelModal.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'_error' is defined but never used.","line":64,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":64,"endColumn":20}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogFooter,\r\n} from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { createDuelChallengeAction } from \"@/actions/pvp/duel\";\r\nimport { toast } from \"sonner\";\r\n\r\nimport { Bike, Footprints, Timer, Trophy, TrendingUp } from \"lucide-react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\ninterface CardioDuelModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  opponentId: string;\r\n}\r\n\r\ntype DuelType =\r\n  | \"TITAN_VS_TITAN\"\r\n  | \"DISTANCE_RACE\"\r\n  | \"SPEED_DEMON\"\r\n  | \"ELEVATION_GRIND\";\r\ntype ActivityType = \"CYCLING\" | \"RUNNING\";\r\n\r\nexport function CardioDuelModal({\r\n  isOpen,\r\n  onClose,\r\n  opponentId,\r\n}: CardioDuelModalProps) {\r\n  const [duelType, setDuelType] = useState<DuelType>(\"DISTANCE_RACE\");\r\n  const [activityType, setActivityType] = useState<ActivityType>(\"CYCLING\");\r\n  const [duration, setDuration] = useState<number>(10); // minutes\r\n  const [distance, setDistance] = useState<number>(5); // km\r\n  const [wkgTier, setWkgTier] = useState<number>(2.5);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  const handleSubmit = async () => {\r\n    setIsSubmitting(true);\r\n    try {\r\n      const result = await createDuelChallengeAction(opponentId, {\r\n        duelType,\r\n        activityType,\r\n        durationMinutes:\r\n          duelType === \"DISTANCE_RACE\" || duelType === \"ELEVATION_GRIND\"\r\n            ? duration\r\n            : undefined,\r\n        targetDistance: duelType === \"SPEED_DEMON\" ? distance : undefined,\r\n        wkgTier: activityType === \"CYCLING\" ? wkgTier : undefined,\r\n      });\r\n\r\n      if (result.success) {\r\n        toast.success(\"Duel challenge sent!\");\r\n        onClose();\r\n      } else {\r\n        toast.error(result.error || \"Failed to send challenge\");\r\n      }\r\n    } catch (_error) {\r\n      toast.error(\"Something went wrong\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={onClose}>\r\n      <DialogContent className=\"sm:max-w-[500px] bg-slate-900 border-slate-700 text-slate-100\">\r\n        <DialogHeader>\r\n          <DialogTitle className=\"flex items-center gap-2\">\r\n            <Trophy className=\"w-5 h-5 text-yellow-500\" />\r\n            Create Cardio Duel\r\n          </DialogTitle>\r\n        </DialogHeader>\r\n\r\n        <div className=\"space-y-6 py-4\">\r\n          {/* Activity Selection */}\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <button\r\n              type=\"button\"\r\n              aria-pressed={activityType === \"CYCLING\"}\r\n              onClick={() => setActivityType(\"CYCLING\")}\r\n              className={`p-4 rounded-xl border-2 flex flex-col items-center gap-2 transition-all ${activityType === \"CYCLING\"\r\n                ? \"border-blue-500 bg-blue-500/10 text-blue-400\"\r\n                : \"border-slate-700 hover:border-slate-600 text-slate-400\"\r\n                }`}\r\n            >\r\n              <Bike className=\"w-8 h-8\" />\r\n              <span className=\"font-bold\">Cycling</span>\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              aria-pressed={activityType === \"RUNNING\"}\r\n              onClick={() => setActivityType(\"RUNNING\")}\r\n              className={`p-4 rounded-xl border-2 flex flex-col items-center gap-2 transition-all ${activityType === \"RUNNING\"\r\n                ? \"border-emerald-500 bg-emerald-500/10 text-emerald-400\"\r\n                : \"border-slate-700 hover:border-slate-600 text-slate-400\"\r\n                }`}\r\n            >\r\n              <Footprints className=\"w-8 h-8\" />\r\n              <span className=\"font-bold\">Running</span>\r\n            </button>\r\n          </div>\r\n\r\n          {/* Duel Type Selection */}\r\n          <div className=\"space-y-3\">\r\n            <Label>Duel Format</Label>\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-2\">\r\n              <button\r\n                type=\"button\"\r\n                aria-pressed={duelType === \"DISTANCE_RACE\"}\r\n                onClick={() => setDuelType(\"DISTANCE_RACE\")}\r\n                className={`px-3 py-2 rounded-lg text-sm border transition-all ${duelType === \"DISTANCE_RACE\"\r\n                  ? \"bg-slate-800 border-indigo-500 text-white\"\r\n                  : \"border-transparent text-slate-400 hover:bg-slate-800\"\r\n                  }`}\r\n              >\r\n                Distance Race\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                aria-pressed={duelType === \"SPEED_DEMON\"}\r\n                onClick={() => setDuelType(\"SPEED_DEMON\")}\r\n                className={`px-3 py-2 rounded-lg text-sm border transition-all ${duelType === \"SPEED_DEMON\"\r\n                  ? \"bg-slate-800 border-indigo-500 text-white\"\r\n                  : \"border-transparent text-slate-400 hover:bg-slate-800\"\r\n                  }`}\r\n              >\r\n                Speed Demon\r\n              </button>\r\n              {activityType === \"CYCLING\" && (\r\n                <button\r\n                  type=\"button\"\r\n                  aria-pressed={duelType === \"ELEVATION_GRIND\"}\r\n                  onClick={() => setDuelType(\"ELEVATION_GRIND\")}\r\n                  className={`px-3 py-2 rounded-lg text-sm border transition-all ${duelType === \"ELEVATION_GRIND\"\r\n                    ? \"bg-slate-800 border-indigo-500 text-white\"\r\n                    : \"border-transparent text-slate-400 hover:bg-slate-800\"\r\n                    }`}\r\n                >\r\n                  Elevation\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Dynamic Inputs based on Type */}\r\n          <AnimatePresence mode=\"wait\">\r\n            <motion.div\r\n              key={duelType}\r\n              initial={{ opacity: 0, y: 10 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              className=\"space-y-4\"\r\n            >\r\n              {(duelType === \"DISTANCE_RACE\" ||\r\n                duelType === \"ELEVATION_GRIND\") && (\r\n                  <div className=\"space-y-2\">\r\n                    <Label className=\"flex items-center gap-2\">\r\n                      <Timer className=\"w-4 h-4\" />\r\n                      Duration (minutes)\r\n                    </Label>\r\n                    <div className=\"flex gap-2\">\r\n                      {[5, 10, 15, 30].map((m) => (\r\n                        <button\r\n                          key={m}\r\n                          onClick={() => setDuration(m)}\r\n                          className={`flex-1 py-2 rounded-md border text-sm font-medium ${duration === m\r\n                            ? \"bg-indigo-600 border-indigo-600 text-white\"\r\n                            : \"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-500\"\r\n                            }`}\r\n                        >\r\n                          {m}m\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n              {duelType === \"SPEED_DEMON\" && (\r\n                <div className=\"space-y-2\">\r\n                  <Label className=\"flex items-center gap-2\">\r\n                    <TrendingUp className=\"w-4 h-4\" />\r\n                    Target Distance (km)\r\n                  </Label>\r\n                  <div className=\"flex gap-2\">\r\n                    {(activityType === \"RUNNING\"\r\n                      ? [1, 3, 5, 10]\r\n                      : [5, 10, 20, 40]\r\n                    ).map((d) => (\r\n                      <button\r\n                        key={d}\r\n                        onClick={() => setDistance(d)}\r\n                        className={`flex-1 py-2 rounded-md border text-sm font-medium ${distance === d\r\n                          ? \"bg-indigo-600 border-indigo-600 text-white\"\r\n                          : \"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-500\"\r\n                          }`}\r\n                      >\r\n                        {d}km\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {activityType === \"CYCLING\" && (\r\n                <div className=\"space-y-2 pt-2 border-t border-slate-800\">\r\n                  <Label className=\"text-yellow-400\">\r\n                    Fairness Tier (W/kg)\r\n                  </Label>\r\n                  <p className=\"text-xs text-slate-500 mb-2\">\r\n                    Kickr resistance will auto-adjust to your weight.\r\n                  </p>\r\n                  <input\r\n                    type=\"range\"\r\n                    min=\"1.5\"\r\n                    max=\"5.0\"\r\n                    step=\"0.1\"\r\n                    value={wkgTier}\r\n                    onChange={(e) => setWkgTier(parseFloat(e.target.value))}\r\n                    className=\"w-full accent-yellow-500\"\r\n                  />\r\n                  <div className=\"flex justify-between text-xs text-slate-400 font-mono\">\r\n                    <span>Beginner (1.5)</span>\r\n                    <span className=\"text-yellow-400 font-bold text-base\">\r\n                      {wkgTier.toFixed(1)} W/kg\r\n                    </span>\r\n                    <span>Pro (5.0)</span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </motion.div>\r\n          </AnimatePresence>\r\n        </div>\r\n\r\n        <DialogFooter>\r\n          <Button variant=\"ghost\" onClick={onClose} className=\"text-slate-400\">\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={handleSubmit}\r\n            disabled={isSubmitting}\r\n            className=\"bg-gradient-to-r from-indigo-600 to-purple-600\"\r\n          >\r\n            {isSubmitting ? \"Sending...\" : \"Challenge Titan\"}\r\n          </Button>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\pvp\\components\\duel\\ChallengeModal.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":58,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":58,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useEffect, useState } from 'react';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription, DialogFooter } from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Label } from '@/components/ui/label';\nimport { Swords, Loader2 } from 'lucide-react';\nimport { createDuelChallengeAction, getPotentialOpponentsAction } from '@/actions/pvp/duel';\nimport { toast } from 'sonner';\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\nimport { ScrollArea } from '@/components/ui/scroll-area';\n\ninterface ChallengeModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  potentialOpponents?: Array<{ id: string, heroName: string }>;\n  onSelectOpponent?: (id: string) => void;\n}\n\nexport function ChallengeModal(props: ChallengeModalProps) {\n  const { isOpen, onClose } = props;\n  const [targetId, setTargetId] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [opponents, setOpponents] = useState<any[]>([]);\n  const [loadingOpponents, setLoadingOpponents] = useState(false);\n\n  useEffect(() => {\n    if (isOpen) {\n      setLoadingOpponents(true);\n      getPotentialOpponentsAction().then(res => {\n        if (res.success && res.opponents) {\n          setOpponents(res.opponents);\n        }\n      }).finally(() => setLoadingOpponents(false));\n    }\n  }, [isOpen]);\n\n  const handleChallenge = async () => {\n    if (!targetId) return;\n\n    // If selection callback provided, use it instead of immediate creation\n    if (props.onSelectOpponent) {\n      props.onSelectOpponent(targetId);\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const result = await createDuelChallengeAction(targetId);\n      if (result.success) {\n        toast.success('Challenge sent successfully!', {\n          icon: <Swords className=\"w-4 h-4\" />\n        });\n        onClose();\n      } else {\n        toast.error(result.error || 'Failed to send challenge');\n      }\n    } catch (err) {\n      toast.error('An unexpected error occurred');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"bg-slate-900 border-slate-800 text-slate-100 sm:max-w-[500px]\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <Swords className=\"text-amber-500\" />\n            Issue Challenge\n          </DialogTitle>\n          <DialogDescription>\n            Select a Titan to challenge. Victory goes to the one with the highest training score.\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-4 py-4\">\n          <div className=\"space-y-2\">\n            <Label>Select Opponent</Label>\n            {loadingOpponents ? (\n              <div className=\"flex justify-center p-4\">\n                <Loader2 className=\"w-6 h-6 animate-spin text-slate-500\" />\n              </div>\n            ) : (\n              <ScrollArea className=\"h-[300px] border border-slate-800 rounded-md p-2\">\n                <div className=\"space-y-2\">\n                  {opponents.map(opp => (\n                    <button\n                      key={opp.id}\n                      onClick={() => setTargetId(opp.id)}\n                      data-testid=\"opponent-card\"\n                      className={`w-full flex items-center gap-3 p-3 rounded-lg transition-all border ${targetId === opp.id\n                        ? 'bg-amber-900/20 border-amber-500/50'\n                        : 'bg-slate-950 border-transparent hover:bg-slate-800'\n                        }`}\n                    >\n                      <Avatar className=\"w-10 h-10 border border-slate-700\">\n                        <AvatarImage src={opp.image || undefined} />\n                        <AvatarFallback>{opp.heroName?.[0]}</AvatarFallback>\n                      </Avatar>\n                      <div className=\"text-left flex-1\">\n                        <div className=\"font-bold text-sm text-slate-200\">{opp.heroName || 'Unknown Titan'}</div>\n                        <div className=\"text-xs text-slate-500\">\n                          Lvl {opp.level}  {opp.faction}\n                          {opp.titan?.powerRating !== undefined && (\n                            <span className=\"ml-2 text-amber-500 font-mono\" data-testid=\"opponent-rating\">\n                              PR: {Math.round(opp.titan.powerRating)}\n                            </span>\n                          )}\n                        </div>\n                      </div>\n                      {targetId === opp.id && <Swords className=\"w-4 h-4 text-amber-500\" />}\n                    </button>\n                  ))}\n                  {opponents.length === 0 && (\n                    <p className=\"text-center text-slate-500 py-4\">No active Titans found.</p>\n                  )}\n                </div>\n              </ScrollArea>\n            )}\n          </div>\n        </div>\n\n        <DialogFooter>\n          <Button variant=\"ghost\" onClick={onClose} disabled={loading}>\n            Cancel\n          </Button>\n          <Button\n            onClick={handleChallenge}\n            disabled={!targetId || loading}\n            className=\"bg-amber-600 hover:bg-amber-700 text-white font-bold\"\n          >\n            {loading ? 'Sending...' : 'Challenge Titan'}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\pvp\\components\\duel\\DuelCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\pvp\\components\\duel\\DuelLeaderboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\pvp\\components\\duel\\DuelVictoryScreen.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'metricLabel' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":25,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":25,"endColumn":22}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { motion } from 'framer-motion';\r\nimport { Trophy, Swords, Share2 } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\r\n// Imports removed to avoid unused dependencies\r\n// Actually, let's avoid extra deps if possible. I'll implementation a simple width/height hook or just use CSS for confetti safely or skip confetti if it's too much bloat.\r\n// Let's stick to CSS animations and Framer Motion for \"Wow\" factor.\r\n\r\nimport { ExtendedDuel } from \"@/app/iron-arena/ArenaClient\"; // Reusing type\r\n\r\n\r\ninterface DuelVictoryScreenProps {\r\n    duel: ExtendedDuel;\r\n    currentUserId: string;\r\n    onClose: () => void;\r\n}\r\n\r\nexport function DuelVictoryScreen({ duel, currentUserId, onClose }: DuelVictoryScreenProps) {\r\n    const isWinner = duel.winnerId === currentUserId;\r\n    const opponent = duel.challengerId === currentUserId ? duel.defender : duel.challenger;\r\n    const myStats = duel.challengerId === currentUserId ? (duel.challengerDistance || duel.challengerScore) : (duel.defenderDistance || duel.defenderScore);\r\n    const opponentStats = duel.challengerId === currentUserId ? (duel.defenderDistance || duel.defenderScore) : (duel.challengerDistance || duel.challengerScore);\r\n\r\n    // Determine stats based on duel type\r\n    const metricLabel = duel.duelType === 'TITAN_VS_TITAN' ? 'Points' : 'Distance';\r\n    const metricUnit = duel.duelType === 'TITAN_VS_TITAN' ? 'pts' : 'km';\r\n\r\n    // Helper to format value\r\n    const formatValue = (val: number) => duel.duelType !== 'TITAN_VS_TITAN' ? (val / 1000).toFixed(2) : val;\r\n\r\n    return (\r\n        <div className=\"relative w-full max-w-4xl mx-auto min-h-[500px] flex items-center justify-center overflow-hidden rounded-3xl bg-slate-950 border border-slate-800 shadow-2xl\">\r\n            {/* Ambient Background */}\r\n            <div className={`absolute inset-0 opacity-20 ${isWinner ? 'bg-amber-600' : 'bg-slate-800'}`}\r\n                style={{ filter: 'blur(100px)' }}\r\n            />\r\n\r\n            <div className=\"relative z-10 flex flex-col items-center w-full p-8 text-center space-y-8\">\r\n\r\n                {/* Header */}\r\n                <motion.div\r\n                    initial={{ scale: 0.8, opacity: 0 }}\r\n                    animate={{ scale: 1, opacity: 1 }}\r\n                    className=\"space-y-2\"\r\n                >\r\n                    <div className=\"flex justify-center mb-4\">\r\n                        {isWinner ? (\r\n                            <div className=\"p-4 bg-amber-500/20 rounded-full ring-2 ring-amber-500 shadow-[0_0_30px_rgba(245,158,11,0.5)]\">\r\n                                <Trophy className=\"w-12 h-12 text-amber-500\" />\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"p-4 bg-slate-800 rounded-full ring-2 ring-slate-700\">\r\n                                <Swords className=\"w-12 h-12 text-slate-400\" />\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    <h1 className={`text-4xl md:text-5xl font-black uppercase tracking-tighter ${isWinner ? 'text-transparent bg-clip-text bg-gradient-to-b from-amber-300 to-amber-600' : 'text-slate-400'\r\n                        }`}>\r\n                        {isWinner ? 'Victory!' : 'Defeat'}\r\n                    </h1>\r\n                    <p className=\"text-slate-400 font-medium text-lg\">\r\n                        {isWinner ? 'You crushed your rival.' : 'You fell short this time.'}\r\n                    </p>\r\n                </motion.div>\r\n\r\n                {/* Stat Comparison */}\r\n                <div className=\"flex items-center justify-center gap-8 w-full max-w-lg\">\r\n                    {/* Player */}\r\n                    <div className=\"flex flex-col items-center gap-2\">\r\n                        <Avatar className={`w-20 h-20 border-4 ${isWinner ? 'border-amber-500' : 'border-slate-700'}`}>\r\n                            <AvatarImage src={`/avatars/${currentUserId}.png`} /> {/* Placeholder */}\r\n                            <AvatarFallback>You</AvatarFallback>\r\n                        </Avatar>\r\n                        <span className=\"text-2xl font-bold font-mono\">\r\n                            {formatValue(myStats)} <span className=\"text-xs text-slate-500\">{metricUnit}</span>\r\n                        </span>\r\n                    </div>\r\n\r\n                    <div className=\"text-slate-600 font-black text-2xl\">VS</div>\r\n\r\n                    {/* Opponent */}\r\n                    <div className=\"flex flex-col items-center gap-2 opacity-80\">\r\n                        <Avatar className=\"w-16 h-16 border-2 border-slate-700\">\r\n                            <AvatarImage src={undefined} />\r\n                            <AvatarFallback>{opponent?.heroName?.[0]}</AvatarFallback>\r\n                        </Avatar>\r\n                        <span className=\"text-xl font-bold font-mono text-slate-400\">\r\n                            {formatValue(opponentStats)} <span className=\"text-xs text-slate-500\">{metricUnit}</span>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Actions */}\r\n                <div className=\"flex flex-wrap justify-center gap-4 pt-8\">\r\n                    <Button\r\n                        size=\"lg\"\r\n                        className=\"bg-slate-800 hover:bg-slate-700 border border-slate-700\"\r\n                        onClick={onClose}\r\n                    >\r\n                        Close\r\n                    </Button>\r\n                    {isWinner && (\r\n                        <Button\r\n                            size=\"lg\"\r\n                            className=\"bg-amber-600 hover:bg-amber-700 text-white font-bold gap-2 shadow-lg shadow-amber-900/20\"\r\n                        >\r\n                            <Share2 className=\"w-4 h-4\" /> Share Victory\r\n                        </Button>\r\n                    )}\r\n                    {!isWinner && (\r\n                        <Button\r\n                            size=\"lg\"\r\n                            className=\"bg-amber-600 hover:bg-amber-700 text-white font-bold gap-2\"\r\n                        >\r\n                            <Swords className=\"w-4 h-4\" /> Rematch\r\n                        </Button>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\pvp\\components\\ranked\\MatchmakingModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\pvp\\components\\ranked\\RankedArenaClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\settings\\SettingsPage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\settings\\components\\ArchetypeSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\settings\\components\\EquipmentArmory.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'toggleHyperProMode' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":89,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":89,"endColumn":27}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useState } from \"react\";\nimport ForgeCard from \"@/components/ui/ForgeCard\";\nimport { StorageService } from \"@/services/storage\";\nimport { EquipmentType } from \"@/data/equipmentDb\";\nimport { Toggle } from \"@/components/ui/Toggle\"; // Assuming we have or will create a Toggle component, otherwise use checkbox\n\nconst ALL_EQUIPMENT = [\n  { type: EquipmentType.BODYWEIGHT, label: \"Bodyweight\" },\n  { type: EquipmentType.DUMBBELL, label: \"Dumbbells\" },\n  { type: EquipmentType.BARBELL, label: \"Barbell\" },\n  { type: EquipmentType.CABLE, label: \"Cable Machine\" },\n  { type: EquipmentType.MACHINE, label: \"Gym Machines\" },\n  { type: EquipmentType.KETTLEBELL, label: \"Kettlebells\" },\n  { type: EquipmentType.BAND, label: \"Resistance Bands\" },\n  { type: EquipmentType.HYPER_PRO, label: \"Freak Athlete Hyper Pro\" },\n];\n\nconst BattleGearSection: React.FC = () => {\n  const [inventory, setInventory] = useState<string[]>([]);\n\n  useEffect(() => {\n    const loadInv = async () => {\n      const inv = (await StorageService.getState<string[]>(\"inventory\")) || [];\n      setInventory(inv);\n    };\n    loadInv();\n  }, []);\n\n  if (inventory.length === 0) return null;\n\n  return (\n    <div className=\"animate-fade-in mt-12 pt-12 border-t border-zinc-800\">\n      <h2 className=\"text-xl font-bold text-yellow-500 uppercase tracking-widest mb-6\">\n        Battle Gear (Active Effects)\n      </h2>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        {inventory.map((itemId, idx) => (\n          <div\n            key={idx}\n            className=\"bg-zinc-900 border border-yellow-900/50 p-4 rounded flex items-center gap-4\"\n          >\n            <div className=\"p-2 bg-yellow-900/20 rounded border border-yellow-700/50 text-yellow-500 text-xs font-mono\">\n              ITEM\n            </div>\n            <div>\n              <div className=\"text-white font-bold uppercase\">\n                {itemId\n                  .replace(\"scroll_\", \"Scroll of \")\n                  .replace(\"potion_\", \"Potion of \")\n                  .replace(\"shield_\", \"Shield of \")\n                  .replace(\"_\", \" \")}\n              </div>\n              <div className=\"text-xs text-zinc-500\">Stored in Inventory</div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nconst EquipmentArmory: React.FC = () => {\n  const [owned, setOwned] = useState<EquipmentType[]>([]);\n  const [hyperProMode, setHyperProMode] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const loadSettings = async () => {\n      const eq = (await StorageService.getOwnedEquipment()) || [\n        EquipmentType.BODYWEIGHT,\n      ];\n      const hp = await StorageService.getHyperProPriority();\n      setOwned(eq as EquipmentType[]);\n      setHyperProMode(hp);\n      setLoading(false);\n    };\n    loadSettings();\n  }, []);\n\n  const toggleEquipment = async (type: EquipmentType) => {\n    const newOwned = owned.includes(type)\n      ? owned.filter((t) => t !== type)\n      : [...owned, type];\n\n    setOwned(newOwned);\n    await StorageService.saveOwnedEquipment(newOwned as any);\n  };\n\n  const toggleHyperProMode = async () => {\n    const newVal = !hyperProMode;\n    setHyperProMode(newVal);\n    await StorageService.saveHyperProPriority(newVal);\n  };\n\n  if (loading)\n    return (\n      <div className=\"p-8 text-center text-forge-muted\">\n        Accessing Armory Database...\n      </div>\n    );\n\n  return (\n    <div className=\"w-full h-full p-4 md:p-8 overflow-y-auto animate-fade-in\">\n      <div className=\"max-w-4xl mx-auto space-y-8\">\n        <header className=\"mb-8\">\n          <h1 className=\"text-3xl font-heading tracking-widest text-white mb-2\">\n            ARMORY\n          </h1>\n          <p className=\"font-mono text-forge-muted\">\n            Configure your available arsenal. The Oracle will adapt.\n          </p>\n        </header>\n\n        {/* HYPER PRO SPECIAL CONFIG */}\n        <ForgeCard className=\"border-l-4 border-l-rarity-epic\">\n          <div className=\"flex flex-col md:flex-row justify-between items-center gap-4\">\n            <div>\n              <h2 className=\"text-xl font-bold text-rarity-epic flex items-center gap-2\">\n                <span className=\"text-2xl\"></span> HYPER PRO PROTOCOL\n              </h2>\n              <p className=\"text-sm text-forge-muted mt-1 max-w-xl\">\n                Enable priority scheduling for{\" \"}\n                <span className=\"text-white\">Freak Athlete Hyper Pro</span>. The\n                Oracle will aggressively suggest 10-in-1 compatible variations\n                (Nordics, GHDs, Reverse Hypers) whenever possible.\n              </p>\n            </div>\n            <div className=\"flex items-center gap-3 bg-forge-900/50 p-3 rounded-lg border border-forge-border\">\n              <Toggle\n                checked={hyperProMode}\n                onCheckedChange={(val) => {\n                  setHyperProMode(val);\n                  StorageService.saveHyperProPriority(val);\n                }}\n              />\n              <span className=\"font-mono text-sm font-bold uppercase\">\n                {hyperProMode ? \"ACTIVE\" : \"OFFLINE\"}\n              </span>\n            </div>\n          </div>\n        </ForgeCard>\n\n        {/* STANDARD EQUIPMENT GRID */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {ALL_EQUIPMENT.map((eq) => {\n            const isSelected = owned.includes(eq.type);\n            const isHyperPro = eq.type === EquipmentType.HYPER_PRO;\n\n            return (\n              <div\n                key={eq.type}\n                onClick={() => toggleEquipment(eq.type)}\n                className={`\n                                    relative p-4 rounded-lg border-2 cursor-pointer transition-all duration-200\n                                    flex items-center justify-between group\n                                    ${isSelected\n                    ? isHyperPro\n                      ? \"bg-rarity-epic/10 border-rarity-epic\"\n                      : \"bg-forge-800 border-rarity-common\"\n                    : \"bg-forge-900/30 border-forge-border hover:border-gray-500\"\n                  }\n                                `}\n              >\n                <span\n                  className={`font-heading tracking-wider ${isSelected ? \"text-white\" : \"text-gray-500\"}`}\n                >\n                  {eq.label}\n                </span>\n                <div\n                  className={`w-4 h-4 rounded-sm border ${isSelected ? (isHyperPro ? \"bg-rarity-epic border-rarity-epic\" : \"bg-rarity-common border-rarity-common\") : \"border-gray-600\"}`}\n                ></div>\n              </div>\n            );\n          })}\n        </div>\n\n        {/* BATTLE GEAR (RPG INVENTORY) */}\n        <BattleGearSection />\n\n        <div className=\"flex justify-center mt-12\">\n          <p className=\"text-xs font-mono text-forge-muted opacity-50\">\n            ID: {StorageService.db ? \"DB_CONNECTED\" : \"DB_OFFLINE\"}{\" \"}\n            {/* v1.2.0 */}\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default EquipmentArmory;\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\settings\\components\\IntegrationsPanel.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'scope' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":96,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":96,"endColumn":16},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'handleConnectStrava' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":178,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":178,"endColumn":28}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { useState, useTransition, useEffect } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport {\r\n  Dumbbell,\r\n  Activity,\r\n  CheckCircle,\r\n  AlertTriangle,\r\n  Loader2,\r\n  Bike,\r\n  Shield,\r\n  Swords,\r\n  TestTube,\r\n  Podcast,\r\n} from \"lucide-react\";\r\nimport { useSearchParams, useRouter } from \"next/navigation\";\r\nimport Link from \"next/link\";\r\nimport ForgeButton from \"@/components/ui/ForgeButton\";\r\nimport ForgeInput from \"@/components/ui/ForgeInput\";\r\nimport {\r\n  connectHevy,\r\n  disconnectHevy,\r\n  connectIntervals,\r\n  disconnectIntervals,\r\n  disconnectGarmin,\r\n} from \"@/actions/integrations/core\";\r\nimport {\r\n  disconnectStravaAction,\r\n  exchangeStravaTokenAction,\r\n  getStravaAuthUrlAction,\r\n  syncStravaActivitiesAction,\r\n} from \"@/actions/integrations/strava\";\r\nimport { updateFactionAction } from \"@/actions/user/core\";\r\nimport { toggleDemoModeAction, getDemoModeStatus } from \"@/actions/user/demo\";\r\nimport { Faction } from \"@prisma/client\";\r\n\r\ninterface IntegrationsPanelProps {\r\n  userId: string;\r\n  hevyConnected: boolean;\r\n  intervalsConnected: boolean;\r\n  stravaConnected: boolean;\r\n  garminConnected: boolean;\r\n  pocketCastsConnected: boolean;\r\n  initialFaction: Faction;\r\n  onIntegrationChanged?: () => void;\r\n  checkDemoStatus?: boolean;\r\n}\r\n\r\ntype IntegrationType = \"HEVY\" | \"INTERVALS\" | \"STRAVA\" | \"GARMIN\" | \"FACTION\" | \"POCKETCASTS\";\r\n\r\nconst IntegrationsPanel: React.FC<IntegrationsPanelProps> = ({\r\n  userId,\r\n  hevyConnected: initialHevy,\r\n  intervalsConnected: initialIntervals,\r\n  stravaConnected: initialStrava,\r\n  garminConnected: initialGarmin,\r\n  pocketCastsConnected: initialPocketCasts,\r\n  initialFaction,\r\n  onIntegrationChanged,\r\n  checkDemoStatus,\r\n}) => {\r\n  const [hevyConnected, setHevyConnected] = useState(initialHevy);\r\n  const [intervalsConnected, setIntervalsConnected] =\r\n    useState(initialIntervals);\r\n  const [stravaConnected, setStravaConnected] = useState(initialStrava);\r\n  const [garminConnected, setGarminConnected] = useState(initialGarmin);\r\n  const [pocketCastsConnected, setPocketCastsConnected] = useState(initialPocketCasts);\r\n  const [currentFaction, setCurrentFaction] = useState<Faction>(\r\n    initialFaction || \"HORDE\",\r\n  );\r\n  const [expanded, setExpanded] = useState<IntegrationType | null>(null);\r\n  const [isPending, startTransition] = useTransition();\r\n\r\n  const searchParams = useSearchParams();\r\n  const router = useRouter();\r\n\r\n  // Form States\r\n  const [hevyKey, setHevyKey] = useState(\"\");\r\n  const [intervalsKey, setIntervalsKey] = useState(\"\");\r\n  const [intervalsId, setIntervalsId] = useState(\"\");\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  // DEMO STATE\r\n  const [isDemoActive, setIsDemoActive] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (checkDemoStatus) {\r\n      getDemoModeStatus().then(setIsDemoActive);\r\n    }\r\n  }, [checkDemoStatus]);\r\n\r\n  // Detect Strava Code\r\n  useEffect(() => {\r\n    const code = searchParams.get(\"code\");\r\n    const scope = searchParams.get(\"scope\");\r\n\r\n    if (code && !stravaConnected) {\r\n      startTransition(async () => {\r\n        const result = await exchangeStravaTokenAction(code);\r\n        if (result.success) {\r\n          setStravaConnected(true);\r\n          onIntegrationChanged?.();\r\n          const newParams = new URLSearchParams(searchParams.toString());\r\n          newParams.delete(\"code\");\r\n          newParams.delete(\"scope\");\r\n          newParams.delete(\"state\");\r\n          router.replace(`/settings?${newParams.toString()}`);\r\n        } else {\r\n          setError(\"Strava Connection Failed: \" + result.error);\r\n        }\r\n      });\r\n    }\r\n  }, [searchParams, stravaConnected, router, onIntegrationChanged]);\r\n\r\n  const handleToggleDemo = async () => {\r\n    startTransition(async () => {\r\n      const newState = !isDemoActive;\r\n      await toggleDemoModeAction(newState);\r\n      setIsDemoActive(newState);\r\n      window.location.reload();\r\n    });\r\n  };\r\n\r\n  const handleConnectHevy = () => {\r\n    setError(null);\r\n    startTransition(async () => {\r\n      const result = await connectHevy(userId, hevyKey);\r\n      if (result.success) {\r\n        setHevyConnected(true);\r\n        setExpanded(null);\r\n        setHevyKey(\"\");\r\n        onIntegrationChanged?.();\r\n      } else {\r\n        setError(result.error || \"Failed to connect Hevy\");\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleDisconnectHevy = () => {\r\n    if (!confirm(\"Are you sure? This will stop workout syncing.\")) return;\r\n    startTransition(async () => {\r\n      const result = await disconnectHevy(userId);\r\n      if (result.success) {\r\n        setHevyConnected(false);\r\n        onIntegrationChanged?.();\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleConnectIntervals = () => {\r\n    setError(null);\r\n    startTransition(async () => {\r\n      const result = await connectIntervals(userId, intervalsKey, intervalsId);\r\n      if (result.success) {\r\n        setIntervalsConnected(true);\r\n        setExpanded(null);\r\n        setIntervalsKey(\"\");\r\n        setIntervalsId(\"\");\r\n        onIntegrationChanged?.();\r\n      } else {\r\n        setError(result.error || \"Failed to connect Intervals\");\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleDisconnectIntervals = () => {\r\n    if (!confirm(\"Disconnect Intervals.icu?\")) return;\r\n    startTransition(async () => {\r\n      const result = await disconnectIntervals(userId);\r\n      if (result.success) {\r\n        setIntervalsConnected(false);\r\n        onIntegrationChanged?.();\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleConnectStrava = async () => {\r\n    const authUrl = await getStravaAuthUrlAction();\r\n    window.location.href = authUrl;\r\n  };\r\n\r\n  const handleDisconnectStrava = () => {\r\n    if (!confirm(\"Disconnect Strava?\")) return;\r\n    startTransition(async () => {\r\n      try {\r\n        const result = await disconnectStravaAction();\r\n        if (result.success) {\r\n          setStravaConnected(false);\r\n          onIntegrationChanged?.();\r\n        } else {\r\n          alert(\"Failed to disconnect Strava: \" + result.error);\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n        alert(\"An error occurred\");\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleSyncStrava = () => {\r\n    startTransition(async () => {\r\n      try {\r\n        const result = await syncStravaActivitiesAction();\r\n        if (result.success) {\r\n          alert(`Strava Sync Complete: ${result.count} activities synced.`);\r\n          onIntegrationChanged?.();\r\n        } else {\r\n          alert(\"Strava Sync Failed: \" + result.error);\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n        alert(\"An error occurred during sync\");\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleDisconnectPocketCasts = () => {\r\n    if (!confirm(\"Disconnect Pocket Casts?\")) return;\r\n    startTransition(async () => {\r\n      try {\r\n        const res = await fetch(\"/api/podcast/login\", { method: \"DELETE\" });\r\n        if (res.ok) {\r\n          setPocketCastsConnected(false);\r\n          onIntegrationChanged?.();\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleDisconnectGarmin = () => {\r\n    if (!confirm(\"Disconnect Garmin?\")) return;\r\n    startTransition(async () => {\r\n      const result = await disconnectGarmin(userId);\r\n      if (result.success) {\r\n        setGarminConnected(false);\r\n        onIntegrationChanged?.();\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleFactionChange = (faction: Faction) => {\r\n    if (faction === currentFaction) return;\r\n\r\n    startTransition(async () => {\r\n      const result = await updateFactionAction(faction);\r\n      if (result.success) {\r\n        setCurrentFaction(faction);\r\n        // We don't close the panel or reload immediately, allowing the user to see the selection change\r\n        onIntegrationChanged?.(); // This might trigger a reload from parent if strict\r\n      } else {\r\n        setError(result.error || \"Failed to update faction\");\r\n      }\r\n    });\r\n  };\r\n\r\n  const renderCard = (\r\n    type: IntegrationType,\r\n    isConnected: boolean,\r\n    title: string,\r\n    icon: React.ReactNode,\r\n    description: string,\r\n  ) => (\r\n    <div\r\n      className={`p - 4 rounded - lg border transition - all ${isConnected ? \"bg-emerald-900/20 border-emerald-500/30\" : \"bg-white/5 border-white/10\"} `}\r\n    >\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <div\r\n            className={`p - 2 rounded - full ${isConnected ? \"bg-emerald-500/20 text-emerald-400\" : \"bg-white/10 text-zinc-400\"} `}\r\n          >\r\n            {icon}\r\n          </div>\r\n          <div>\r\n            <h3 className=\"font-bold text-white tracking-wide text-sm\">\r\n              {title}\r\n            </h3>\r\n            <p className=\"text-xs text-zinc-400\">{description}</p>\r\n          </div>\r\n        </div>\r\n\r\n        {isConnected ? (\r\n          <div className=\"flex items-center gap-3\">\r\n            <span className=\"flex items-center gap-1 text-emerald-400 text-xs font-mono uppercase tracking-widest\">\r\n              <CheckCircle size={12} /> Live\r\n            </span>\r\n            {type === \"STRAVA\" && (\r\n              <button\r\n                onClick={handleSyncStrava}\r\n                disabled={isPending}\r\n                className=\"text-zinc-500 hover:text-magma text-xs underline decoration-dotted transition-colors\"\r\n              >\r\n                {isPending ? \"Syncing...\" : \"Sync Activities\"}\r\n              </button>\r\n            )}\r\n            <button\r\n              disabled={isPending}\r\n              onClick={() => {\r\n                if (type === \"HEVY\") handleDisconnectHevy();\r\n                else if (type === \"INTERVALS\") handleDisconnectIntervals();\r\n                else if (type === \"STRAVA\") handleDisconnectStrava();\r\n                else if (type === \"GARMIN\") handleDisconnectGarmin();\r\n                else if (type === \"POCKETCASTS\") handleDisconnectPocketCasts();\r\n              }}\r\n              className=\"text-zinc-500 hover:text-red-400 text-xs underline decoration-dotted transition-colors\"\r\n            >\r\n              Disconnect\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <ForgeButton\r\n            size=\"sm\"\r\n            variant=\"ghost\"\r\n            onClick={() => {\r\n              if (type === \"STRAVA\") {\r\n                // HACK: Start Auth Flow immediately\r\n                // Ideally we get this from server\r\n                window.location.href = \"/api/auth/strava/login\"; // Better pattern: API route that redirects.\r\n                // OR:\r\n                // We need to implement the login button logic.\r\n                // I should add `getStravaAuthUrl` to `src / actions / strava.ts`.\r\n                // For now I'll just toggle expand for Hevy/Intervals, but Strava has no form.\r\n              }\r\n              setExpanded(expanded === type ? null : type);\r\n            }}\r\n            className={expanded === type ? \"bg-white/10\" : \"\"}\r\n          >\r\n            {expanded === type ? \"Cancel\" : \"Connect\"}\r\n          </ForgeButton>\r\n        )}\r\n      </div>\r\n\r\n      <AnimatePresence>\r\n        {expanded === type && !isConnected && (\r\n          <motion.div\r\n            initial={{ height: 0, opacity: 0, marginTop: 0 }}\r\n            animate={{ height: \"auto\", opacity: 1, marginTop: 16 }}\r\n            exit={{ height: 0, opacity: 0, marginTop: 0 }}\r\n            className=\"overflow-hidden\"\r\n          >\r\n            <div className=\"space-y-3 pt-3 border-t border-white/10\">\r\n              {type === \"HEVY\" && (\r\n                <>\r\n                  <ForgeInput\r\n                    label=\"API Key\"\r\n                    placeholder=\"Paste your Hevy API Key\"\r\n                    type=\"password\"\r\n                    value={hevyKey}\r\n                    onChange={(e) => setHevyKey(e.target.value)}\r\n                  />\r\n                  <ForgeButton\r\n                    fullWidth\r\n                    variant=\"magma\"\r\n                    onClick={handleConnectHevy}\r\n                    disabled={isPending || !hevyKey}\r\n                  >\r\n                    {isPending ? (\r\n                      <Loader2 className=\"animate-spin w-4 h-4 mx-auto\" />\r\n                    ) : (\r\n                      \"Validate & Connect\"\r\n                    )}\r\n                  </ForgeButton>\r\n                </>\r\n              )}\r\n\r\n              {type === \"INTERVALS\" && (\r\n                <>\r\n                  <ForgeInput\r\n                    label=\"Athlete ID\"\r\n                    placeholder=\"e.g. i12345\"\r\n                    value={intervalsId}\r\n                    onChange={(e) => setIntervalsId(e.target.value)}\r\n                  />\r\n                  <ForgeInput\r\n                    label=\"API Key\"\r\n                    placeholder=\"API_KEY from settings\"\r\n                    type=\"password\"\r\n                    value={intervalsKey}\r\n                    onChange={(e) => setIntervalsKey(e.target.value)}\r\n                  />\r\n                  <ForgeButton\r\n                    fullWidth\r\n                    variant=\"magma\"\r\n                    onClick={handleConnectIntervals}\r\n                    disabled={isPending || !intervalsKey || !intervalsId}\r\n                  >\r\n                    {isPending ? (\r\n                      <Loader2 className=\"animate-spin w-4 h-4 mx-auto\" />\r\n                    ) : (\r\n                      \"Validate & Connect\"\r\n                    )}\r\n                  </ForgeButton>\r\n                </>\r\n              )}\r\n\r\n              {type === \"STRAVA\" && (\r\n                <div className=\"text-center py-2\">\r\n                  <p className=\"text-xs text-zinc-400 mb-3\">\r\n                    Connect your Strava account to sync runs and rides.\r\n                  </p>\r\n                  {/* We need a Link to the Auth URL. \r\n                                          Since I cannot access Env vars easily without exposing them, I'll use a server action or API route.\r\n                                          Let's use a server action to get the URL `getStravaAuthUrl`.\r\n                                          But for this edit, I can't call it inside render easily without async.\r\n                                          I'll use a client-side button that calls server action to get URL then redirects.\r\n                                      */}\r\n                  <ForgeButton\r\n                    fullWidth\r\n                    variant=\"magma\"\r\n                    onClick={() => {\r\n                      startTransition(async () => {\r\n                        try {\r\n                          const url = await getStravaAuthUrlAction();\r\n                          if (url) {\r\n                            window.location.href = url;\r\n                          }\r\n                        } catch (e: any) {\r\n                          console.error(\"Strava Auth Error:\", e);\r\n                          alert(\r\n                            \"Failed to initiate Strava login: \" + e.message,\r\n                          );\r\n                        }\r\n                      });\r\n                    }}\r\n                    disabled={isPending}\r\n                  >\r\n                    <Bike className=\"w-4 h-4 mr-2\" />\r\n                    Launch Strava Login\r\n                  </ForgeButton>\r\n                </div>\r\n              )}\r\n\r\n              {type === \"POCKETCASTS\" && (\r\n                <div className=\"text-center py-2\">\r\n                  <p className=\"text-xs text-zinc-400 mb-3\">\r\n                    Connect your Pocket Casts account to stream podcasts during workouts.\r\n                  </p>\r\n                  <Link href=\"/settings/podcast\" className=\"block\">\r\n                    <ForgeButton fullWidth variant=\"magma\">\r\n                      <Podcast className=\"w-4 h-4 mr-2\" />\r\n                      Go to Podcast Setup\r\n                    </ForgeButton>\r\n                  </Link>\r\n                </div>\r\n              )}\r\n\r\n              {type === \"GARMIN\" && (\r\n                <div className=\"text-center py-2\">\r\n                  <p className=\"text-xs text-zinc-400 mb-3\">\r\n                    Connect your Garmin Fenix 7X via OAuth to sync wellness and recovery data.\r\n                  </p>\r\n                  <ForgeButton\r\n                    fullWidth\r\n                    variant=\"magma\"\r\n                    onClick={() => {\r\n                      alert(\"Garmin OAuth Client pending approval. Please use Intervals.icu aggregator as primary source for now.\");\r\n                    }}\r\n                    disabled={isPending}\r\n                  >\r\n                    <Activity className=\"w-4 h-4 mr-2\" />\r\n                    Launch Garmin Login\r\n                  </ForgeButton>\r\n                </div>\r\n              )}\r\n\r\n              {error && (\r\n                <div className=\"text-red-400 text-xs flex items-center gap-2 bg-red-900/20 p-2 rounded\">\r\n                  <AlertTriangle size={12} />\r\n                  {error}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n\r\n  const renderFactionCard = () => {\r\n    const isAlliance = currentFaction === \"ALLIANCE\";\r\n    return (\r\n      <div\r\n        className={`p - 4 rounded - lg border transition - all ${isAlliance ? \"bg-blue-900/20 border-blue-500/30\" : \"bg-red-900/20 border-red-500/30\"} `}\r\n      >\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div\r\n              className={`p - 2 rounded - full ${isAlliance ? \"bg-blue-500/20 text-blue-400\" : \"bg-red-500/20 text-red-400\"} `}\r\n            >\r\n              {isAlliance ? <Shield size={18} /> : <Swords size={18} />}\r\n            </div>\r\n            <div>\r\n              <h3 className=\"font-bold text-white tracking-wide text-sm\">\r\n                Allegiance\r\n              </h3>\r\n              <p className=\"text-xs text-zinc-400\">\r\n                Current Faction:{\" \"}\r\n                <span className={isAlliance ? \"text-blue-400\" : \"text-red-400\"}>\r\n                  {currentFaction}\r\n                </span>\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          <ForgeButton\r\n            size=\"sm\"\r\n            variant=\"ghost\"\r\n            onClick={() =>\r\n              setExpanded(expanded === \"FACTION\" ? null : \"FACTION\")\r\n            }\r\n            className={expanded === \"FACTION\" ? \"bg-white/10\" : \"\"}\r\n          >\r\n            {expanded === \"FACTION\" ? \"Close\" : \"Change\"}\r\n          </ForgeButton>\r\n        </div>\r\n\r\n        <AnimatePresence>\r\n          {expanded === \"FACTION\" && (\r\n            <motion.div\r\n              initial={{ height: 0, opacity: 0, marginTop: 0 }}\r\n              animate={{ height: \"auto\", opacity: 1, marginTop: 16 }}\r\n              exit={{ height: 0, opacity: 0, marginTop: 0 }}\r\n              className=\"overflow-hidden\"\r\n            >\r\n              <div className=\"pt-3 border-t border-white/10 grid grid-cols-2 gap-4\">\r\n                <button\r\n                  onClick={() => handleFactionChange(\"ALLIANCE\")}\r\n                  disabled={isPending}\r\n                  className={`relative p - 4 rounded - lg border - 2 transition - all flex flex - col items - center gap - 2 group ${isAlliance\r\n                    ? \"bg-blue-900/40 border-blue-500 shadow-[0_0_15px_rgba(59,130,246,0.5)]\"\r\n                    : \"bg-zinc-900/50 border-zinc-700 hover:border-blue-500/50 hover:bg-blue-900/10\"\r\n                    } `}\r\n                >\r\n                  <Shield\r\n                    className={`w - 8 h - 8 ${isAlliance ? \"text-blue-400\" : \"text-zinc-500 group-hover:text-blue-400\"} `}\r\n                  />\r\n                  <div className=\"text-center\">\r\n                    <div\r\n                      className={`font - bold text - sm ${isAlliance ? \"text-blue-400\" : \"text-zinc-400 group-hover:text-blue-300\"} `}\r\n                    >\r\n                      ALLIANCE\r\n                    </div>\r\n                    <div className=\"text-[10px] text-zinc-500\">\r\n                      Private  Grand Marshal\r\n                    </div>\r\n                  </div>\r\n                  {isAlliance && (\r\n                    <div className=\"absolute top-2 right-2 text-blue-400\">\r\n                      <CheckCircle size={14} />\r\n                    </div>\r\n                  )}\r\n                </button>\r\n\r\n                <button\r\n                  onClick={() => handleFactionChange(\"HORDE\")}\r\n                  disabled={isPending}\r\n                  className={`relative p - 4 rounded - lg border - 2 transition - all flex flex - col items - center gap - 2 group ${!isAlliance\r\n                    ? \"bg-red-900/40 border-red-500 shadow-[0_0_15px_rgba(239,68,68,0.5)]\"\r\n                    : \"bg-zinc-900/50 border-zinc-700 hover:border-red-500/50 hover:bg-red-900/10\"\r\n                    } `}\r\n                >\r\n                  <Swords\r\n                    className={`w - 8 h - 8 ${!isAlliance ? \"text-red-400\" : \"text-zinc-500 group-hover:text-red-400\"} `}\r\n                  />\r\n                  <div className=\"text-center\">\r\n                    <div\r\n                      className={`font - bold text - sm ${!isAlliance ? \"text-red-400\" : \"text-zinc-400 group-hover:text-red-300\"} `}\r\n                    >\r\n                      HORDE\r\n                    </div>\r\n                    <div className=\"text-[10px] text-zinc-500\">\r\n                      Scout  High Warlord\r\n                    </div>\r\n                  </div>\r\n                  {!isAlliance && (\r\n                    <div className=\"absolute top-2 right-2 text-red-400\">\r\n                      <CheckCircle size={14} />\r\n                    </div>\r\n                  )}\r\n                </button>\r\n              </div>\r\n              {error && (\r\n                <div className=\"text-red-400 text-xs flex items-center gap-2 bg-red-900/20 p-2 rounded mt-3\">\r\n                  <AlertTriangle size={12} />\r\n                  {error}\r\n                </div>\r\n              )}\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <h3 className=\"font-heading text-xs text-forge-muted uppercase tracking-widest mb-2 px-1\">\r\n        Active Uplinks\r\n      </h3>\r\n      {renderCard(\r\n        \"HEVY\",\r\n        hevyConnected,\r\n        \"Hevy Strength\",\r\n        <Dumbbell size={18} />,\r\n        \"Syncs workouts, sets, and body stats\",\r\n      )}\r\n      {renderCard(\r\n        \"INTERVALS\",\r\n        intervalsConnected,\r\n        \"Intervals.icu\",\r\n        <Activity size={18} />,\r\n        \"Syncs cardio, wellness, and fatigue\",\r\n      )}\r\n      {renderCard(\r\n        \"STRAVA\",\r\n        stravaConnected,\r\n        \"Strava\",\r\n        <Bike size={18} />,\r\n        \"Syncs runs/rides for Kinetic Energy\",\r\n      )}\r\n      {renderCard(\r\n        \"GARMIN\",\r\n        garminConnected,\r\n        \"Garmin Health\",\r\n        <Activity size={18} />,\r\n        \"Direct bio-sync for wellness and recovery\",\r\n      )}\r\n      {renderCard(\r\n        \"POCKETCASTS\",\r\n        pocketCastsConnected,\r\n        \"Pocket Casts\",\r\n        <Podcast size={18} />,\r\n        \"Stream your podcast queue during training\",\r\n      )}\r\n\r\n      <div className=\"border-t border-white/5 my-4\"></div>\r\n\r\n      <h3 className=\"font-heading text-xs text-forge-muted uppercase tracking-widest mb-2 px-1\">\r\n        PvP Identity\r\n      </h3>\r\n      {renderFactionCard()}\r\n\r\n      <div className=\"border-t border-white/5 my-4\"></div>\r\n\r\n      <h3 className=\"font-heading text-xs text-forge-muted uppercase tracking-widest mb-2 px-1\">\r\n        System Overrides\r\n      </h3>\r\n      <div\r\n        className={`p - 4 rounded - lg border transition - all ${isDemoActive ? \"bg-amber-900/20 border-amber-500/30\" : \"bg-white/5 border-white/10\"}`}\r\n      >\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div\r\n              className={`p - 2 rounded - full ${isDemoActive ? \"bg-amber-500/20 text-amber-400\" : \"bg-white/10 text-zinc-400\"}`}\r\n            >\r\n              <TestTube size={18} />\r\n            </div>\r\n            <div>\r\n              <h3 className=\"font-bold text-white tracking-wide text-sm\">\r\n                Demo Protocol\r\n              </h3>\r\n              <p className=\"text-xs text-zinc-400\">\r\n                Inject synthetic data for testing\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <ForgeButton\r\n            size=\"sm\"\r\n            variant={isDemoActive ? \"magma\" : \"ghost\"}\r\n            onClick={handleToggleDemo}\r\n            disabled={isPending}\r\n          >\r\n            {isDemoActive ? \"Disable Demo\" : \"Enable Demo Data\"}\r\n          </ForgeButton>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default IntegrationsPanel;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\settings\\components\\MigrationTool.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\social\\SocialHub.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\social\\components\\FeedCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\social\\components\\ShareableReplayCard.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":60,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":60,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":74,"column":16,"nodeType":"Identifier","messageId":"unusedVar","endLine":74,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { useRef, useState } from \"react\";\nimport { Card, CardContent, CardHeader } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Share2,\n  Copy,\n  Check,\n  Trophy,\n  Flame,\n  Zap,\n} from \"lucide-react\";\nimport { motion } from \"framer-motion\";\nimport { toast } from \"sonner\";\n\ninterface WorkoutSummary {\n  date: string;\n  duration: number; // minutes\n  exerciseCount: number;\n  totalVolume: number; // kg\n  prsHit: number;\n  xpEarned: number;\n  streak?: number;\n  userName: string;\n  userLevel: number;\n}\n\ninterface ShareableReplayCardProps {\n  workout: WorkoutSummary;\n  onShare?: () => void;\n}\n\nexport function ShareableReplayCard({\n  workout,\n  onShare,\n}: ShareableReplayCardProps) {\n  const cardRef = useRef<HTMLDivElement>(null);\n  const [copied, setCopied] = useState(false);\n\n  const formatDuration = (minutes: number) => {\n    const hrs = Math.floor(minutes / 60);\n    const mins = minutes % 60;\n    return hrs > 0 ? `${hrs}h ${mins}m` : `${mins}m`;\n  };\n\n  const formatVolume = (kg: number) => {\n    if (kg >= 1000) return `${(kg / 1000).toFixed(1)}t`;\n    return `${kg.toFixed(0)}kg`;\n  };\n\n  const handleCopyLink = async () => {\n    try {\n      const shareUrl = `${window.location.origin}/replay/${workout.date}`;\n      await navigator.clipboard.writeText(shareUrl);\n      setCopied(true);\n      toast.success(\"Link copied to clipboard!\");\n      setTimeout(() => setCopied(false), 2000);\n    } catch (err) {\n      toast.error(\"Failed to copy link\");\n    }\n  };\n\n  const handleShare = async () => {\n    if (navigator.share) {\n      try {\n        await navigator.share({\n          title: `IronForge Workout - ${workout.date}`,\n          text: ` ${workout.exerciseCount} exercises | ${formatVolume(workout.totalVolume)} lifted | ${workout.prsHit} PRs`,\n          url: `${window.location.origin}/replay/${workout.date}`,\n        });\n        onShare?.();\n      } catch (err) {\n        // User cancelled or share failed\n      }\n    } else {\n      handleCopyLink();\n    }\n  };\n\n  return (\n    <motion.div\n      ref={cardRef}\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      className=\"w-full max-w-md mx-auto\"\n    >\n      <Card className=\"bg-gradient-to-br from-slate-900 via-slate-950 to-black border-slate-800 overflow-hidden relative\">\n        {/* Decorative glow */}\n        <div className=\"absolute inset-0 bg-gradient-to-br from-amber-500/10 via-transparent to-purple-500/10 pointer-events-none\" />\n\n        <CardHeader className=\"relative z-10 pb-2\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h3 className=\"text-xl font-black text-white tracking-tight\">\n                Workout Complete\n              </h3>\n              <p className=\"text-sm text-slate-400 font-mono\">{workout.date}</p>\n            </div>\n            <Badge\n              variant=\"outline\"\n              className=\"border-amber-500/50 text-amber-400 bg-amber-950/30\"\n            >\n              Lvl {workout.userLevel}\n            </Badge>\n          </div>\n        </CardHeader>\n\n        <CardContent className=\"relative z-10 space-y-6\">\n          {/* Hero Stats */}\n          <div className=\"grid grid-cols-3 gap-4 text-center\">\n            <div className=\"space-y-1\">\n              <div className=\"text-3xl font-black text-white\">\n                {formatDuration(workout.duration)}\n              </div>\n              <div className=\"text-xs text-slate-500 uppercase tracking-widest\">\n                Duration\n              </div>\n            </div>\n            <div className=\"space-y-1\">\n              <div className=\"text-3xl font-black text-amber-400\">\n                {formatVolume(workout.totalVolume)}\n              </div>\n              <div className=\"text-xs text-slate-500 uppercase tracking-widest\">\n                Volume\n              </div>\n            </div>\n            <div className=\"space-y-1\">\n              <div className=\"text-3xl font-black text-green-400\">\n                {workout.exerciseCount}\n              </div>\n              <div className=\"text-xs text-slate-500 uppercase tracking-widest\">\n                Exercises\n              </div>\n            </div>\n          </div>\n\n          {/* Achievement Badges */}\n          <div className=\"flex flex-wrap gap-2 justify-center\">\n            {workout.prsHit > 0 && (\n              <Badge className=\"bg-purple-900/50 border-purple-500 text-purple-300 flex items-center gap-1\">\n                <Trophy className=\"w-3 h-3\" />\n                {workout.prsHit} PR{workout.prsHit > 1 ? \"s\" : \"\"}\n              </Badge>\n            )}\n            {workout.streak && workout.streak > 0 && (\n              <Badge className=\"bg-orange-900/50 border-orange-500 text-orange-300 flex items-center gap-1\">\n                <Flame className=\"w-3 h-3\" />\n                {workout.streak} Day Streak\n              </Badge>\n            )}\n            <Badge className=\"bg-blue-900/50 border-blue-500 text-blue-300 flex items-center gap-1\">\n              <Zap className=\"w-3 h-3\" />+{workout.xpEarned} XP\n            </Badge>\n          </div>\n\n          {/* Share Actions */}\n          <div className=\"flex gap-2 pt-4 border-t border-slate-800\">\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              className=\"flex-1 border-slate-700 hover:bg-slate-800\"\n              onClick={handleCopyLink}\n            >\n              {copied ? (\n                <Check className=\"w-4 h-4 mr-2\" />\n              ) : (\n                <Copy className=\"w-4 h-4 mr-2\" />\n              )}\n              {copied ? \"Copied!\" : \"Copy Link\"}\n            </Button>\n            <Button\n              size=\"sm\"\n              className=\"flex-1 bg-amber-600 hover:bg-amber-700 text-white\"\n              onClick={handleShare}\n            >\n              <Share2 className=\"w-4 h-4 mr-2\" />\n              Share\n            </Button>\n          </div>\n\n          {/* Branding */}\n          <div className=\"text-center pt-2\">\n            <span className=\"text-xs text-slate-600 font-mono tracking-widest\">\n              IRONFORGE.GG\n            </span>\n          </div>\n        </CardContent>\n      </Card>\n    </motion.div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\strength\\ExerciseSearch.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\strength\\IronMines.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\strength\\RestTimer.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'initialSeconds' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":14,"column":67,"nodeType":"Identifier","messageId":"unusedVar","endLine":14,"endColumn":81}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { useEffect } from \"react\";\r\nimport { Timer, Play, Pause, RotateCcw, Plus, Minus } from \"lucide-react\";\r\nimport { useRestTimer } from \"@/hooks/useRestTimer\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { playSound } from \"@/utils\"; // Ensure this exists or mock it\r\n\r\ninterface RestTimerProps {\r\n  className?: string;\r\n}\r\n\r\nexport const RestTimer: React.FC<RestTimerProps> = ({ className }) => {\r\n  const { isActive, timeLeft, start, stop, addTime, reset, check, initialSeconds, hasFinished } = useRestTimer();\r\n  const [hasPlayedSound, setHasPlayedSound] = React.useState(false);\r\n\r\n  // Tick effect\r\n  useEffect(() => {\r\n    let interval: NodeJS.Timeout;\r\n    if (isActive) {\r\n      interval = setInterval(() => {\r\n        check();\r\n      }, 1000);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [isActive, check]);\r\n\r\n  // Sound effect on completion\r\n  useEffect(() => {\r\n    if (hasFinished && !hasPlayedSound) {\r\n      playSound(\"ding\");\r\n      setHasPlayedSound(true);\r\n    }\r\n    // Reset flag when timer restarts\r\n    if (!hasFinished && hasPlayedSound) {\r\n      setHasPlayedSound(false);\r\n    }\r\n  }, [hasFinished, hasPlayedSound]);\r\n\r\n  const formatTime = (seconds: number) => {\r\n    const m = Math.floor(seconds / 60);\r\n    const s = seconds % 60;\r\n    return `${m}:${s < 10 ? \"0\" : \"\"}${s}`;\r\n  };\r\n\r\n  if (!isActive && timeLeft === 90) {\r\n    // Minimal state? Or always show?\r\n  }\r\n\r\n  return (\r\n    <div className={cn(\"bg-zinc-900 border border-white/5 rounded-xl p-4 flex flex-col items-center gap-4 shadow-lg\", className)}>\r\n      <div className=\"relative\">\r\n        <div className={cn(\r\n          \"text-6xl font-black font-mono tracking-tighter tabular-nums transition-colors\",\r\n          isActive ? \"text-magma\" : \"text-zinc-600\"\r\n        )}>\r\n          {formatTime(timeLeft)}\r\n        </div>\r\n        <Timer className={cn(\r\n          \"absolute -top-2 -right-6 w-6 h-6\",\r\n          isActive ? \"text-magma animate-pulse\" : \"text-zinc-700\"\r\n        )} />\r\n      </div>\r\n\r\n      <div className=\"flex items-center gap-3 w-full justify-center\">\r\n        <button\r\n          onClick={() => isActive ? stop() : start(timeLeft > 0 ? timeLeft : 90)}\r\n          className={cn(\r\n            \"p-4 rounded-full transition-all shadow-lg active:scale-95\",\r\n            isActive ? \"bg-zinc-800 text-zinc-400 hover:text-white\" : \"bg-magma text-black hover:bg-magma/90\"\r\n          )}\r\n        >\r\n          {isActive ? (\r\n            <Pause className=\"w-6 h-6 fill-current\" />\r\n          ) : (\r\n            <Play className=\"w-6 h-6 fill-current ml-1\" />\r\n          )}\r\n        </button>\r\n\r\n        <button\r\n          onClick={() => reset()}\r\n          className=\"p-4 bg-zinc-800 text-zinc-500 rounded-full hover:bg-zinc-700 hover:text-white transition-colors\"\r\n        >\r\n          <RotateCcw className=\"w-6 h-6\" />\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"flex gap-2\">\r\n        <button\r\n          onClick={() => addTime(-10)}\r\n          className=\"px-3 py-1.5 bg-zinc-800 rounded-lg text-xs font-bold text-zinc-500 hover:text-white flex items-center gap-1 transition-colors\"\r\n        >\r\n          <Minus className=\"w-3 h-3\" /> 10s\r\n        </button>\r\n        <button\r\n          onClick={() => addTime(30)}\r\n          className=\"px-3 py-1.5 bg-zinc-800 rounded-lg text-xs font-bold text-zinc-500 hover:text-white flex items-center gap-1 transition-colors\"\r\n        >\r\n          <Plus className=\"w-3 h-3\" /> 30s\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\strength\\SetRow.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'onDelete' is defined but never used. Allowed unused args must match /^_/u.","line":34,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":34,"endColumn":11}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { SetData } from \"@/actions/training/strength\";\r\nimport { CheckCircle, Circle } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\n// Set types for different training techniques\r\nexport type SetType = \"normal\" | \"failure\" | \"dropset\" | \"warmup\" | \"myoreps\";\r\n\r\nconst SET_TYPE_CONFIG: Record<SetType, { label: string; icon: string; color: string }> = {\r\n  normal: { label: \"Normal\", icon: \"\", color: \"text-zinc-400\" },\r\n  failure: { label: \"Failure\", icon: \"\", color: \"text-orange-500\" },\r\n  dropset: { label: \"Drop\", icon: \"\", color: \"text-blue-500\" },\r\n  warmup: { label: \"Warm\", icon: \"\", color: \"text-yellow-500\" },\r\n  myoreps: { label: \"Myo\", icon: \"\", color: \"text-purple-500\" },\r\n};\r\n\r\ninterface SetRowProps {\r\n  index?: number; // Optional as index might be passed or calculated\r\n  setNumber?: number; // Explicit number from parent\r\n  set: SetData;\r\n  onChange?: (updates: Partial<SetData>) => void; // Optional if read-only or handled differently\r\n  onDelete?: () => void;\r\n  onComplete?: () => void;\r\n  lastPerformance?: { weight: number; reps: number } | null;\r\n}\r\n\r\nexport const SetRow: React.FC<SetRowProps> = ({\r\n  index,\r\n  setNumber,\r\n  set,\r\n  onChange,\r\n  onDelete,\r\n  onComplete,\r\n  lastPerformance,\r\n}) => {\r\n  const displayIndex = setNumber || (index !== undefined ? index + 1 : 1);\r\n\r\n  const [reps, setReps] = useState(set.reps || 0);\r\n  const [weight, setWeight] = useState(set.weight || 0);\r\n  const [rpe, setRpe] = useState(set.rpe || 8);\r\n  const [setType, setSetType] = useState<SetType>((set.setType as SetType) || \"normal\");\r\n  const [showTypeMenu, setShowTypeMenu] = useState(false);\r\n\r\n  // Sync local state if prop changes upstream\r\n  useEffect(() => {\r\n    setReps(set.reps);\r\n    setWeight(set.weight);\r\n    if (set.setType) setSetType(set.setType as SetType);\r\n  }, [set]);\r\n\r\n  // Pre-fill history if empty (Auto-Fill)\r\n  useEffect(() => {\r\n    if (lastPerformance && !set.completedAt && weight === 0) {\r\n      setWeight(lastPerformance.weight);\r\n      setReps(lastPerformance.reps);\r\n    }\r\n  }, [lastPerformance, set.completedAt]); // Run once when history loads or if it changes (rare)\r\n\r\n  const handleComplete = () => {\r\n    onChange?.({ reps, weight, rpe, setType });\r\n    onComplete?.();\r\n  };\r\n\r\n  const handleSetTypeChange = (newType: SetType) => {\r\n    setSetType(newType);\r\n    onChange?.({ setType: newType });\r\n    setShowTypeMenu(false);\r\n  };\r\n\r\n  const currentTypeConfig = SET_TYPE_CONFIG[setType];\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"grid grid-cols-12 gap-2 items-center p-2 rounded-md transition-colors relative\",\r\n        set.completedAt ? \"bg-green-500/10\" : \"bg-black/20\"\r\n      )}\r\n    >\r\n      {/* Set Number + Type Indicator */}\r\n      <div className=\"col-span-1 text-center relative\">\r\n        <button\r\n          onClick={() => setShowTypeMenu(!showTypeMenu)}\r\n          className={cn(\r\n            \"font-bold transition-colors\",\r\n            currentTypeConfig.color\r\n          )}\r\n          title={`Set Type: ${currentTypeConfig.label}`}\r\n        >\r\n          {currentTypeConfig.icon || displayIndex}\r\n          {!currentTypeConfig.icon && (\r\n            <span className=\"text-zinc-500\">{displayIndex}</span>\r\n          )}\r\n        </button>\r\n\r\n        {/* Set Type Dropdown */}\r\n        {showTypeMenu && (\r\n          <div className=\"absolute top-full left-0 z-50 mt-1 bg-zinc-800 border border-zinc-700 rounded-lg shadow-xl py-1 min-w-[100px]\">\r\n            {Object.entries(SET_TYPE_CONFIG).map(([type, config]) => (\r\n              <button\r\n                key={type}\r\n                onClick={() => handleSetTypeChange(type as SetType)}\r\n                className={cn(\r\n                  \"w-full px-3 py-1.5 text-left text-xs hover:bg-zinc-700 transition-colors flex items-center gap-2\",\r\n                  setType === type && \"bg-zinc-700\"\r\n                )}\r\n              >\r\n                <span>{config.icon || \"\"}</span>\r\n                <span className={config.color}>{config.label}</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Weight Input */}\r\n      <div className=\"col-span-3 relative\">\r\n        <input\r\n          type=\"number\"\r\n          value={weight || \"\"}\r\n          onChange={(e) => setWeight(parseFloat(e.target.value) || 0)}\r\n          placeholder={lastPerformance ? `${lastPerformance.weight}kg` : \"kg\"}\r\n          className=\"w-full bg-transparent border-b border-white/10 text-center focus:border-magma focus:outline-none font-mono relative z-10\"\r\n        />\r\n      </div>\r\n\r\n      {/* Reps Input */}\r\n      <div className=\"col-span-3\">\r\n        <input\r\n          type=\"number\"\r\n          value={reps || \"\"}\r\n          onChange={(e) => setReps(parseFloat(e.target.value) || 0)}\r\n          placeholder={lastPerformance ? `${lastPerformance.reps}` : \"reps\"}\r\n          className={cn(\r\n            \"w-full bg-transparent border-b border-white/10 text-center focus:border-magma focus:outline-none font-mono\",\r\n            setType === \"failure\" && \"text-orange-400 font-bold\"\r\n          )}\r\n        />\r\n      </div>\r\n\r\n      {/* RPE Input */}\r\n      <div className=\"col-span-3\">\r\n        <input\r\n          type=\"number\"\r\n          value={rpe || \"\"}\r\n          onChange={(e) => setRpe(parseFloat(e.target.value) || 0)}\r\n          placeholder=\"RPE\"\r\n          className=\"w-full bg-transparent border-b border-white/10 text-center focus:border-magma focus:outline-none font-mono text-xs text-zinc-400\"\r\n        />\r\n      </div>\r\n\r\n      {/* Complete Button */}\r\n      <div className=\"col-span-2 flex items-center justify-end gap-2\">\r\n        <button\r\n          onClick={handleComplete}\r\n          className={cn(\r\n            \"transition-colors\",\r\n            set.completedAt ? \"text-green-500\" : \"text-zinc-500 hover:text-white\"\r\n          )}\r\n        >\r\n          {set.completedAt ? (\r\n            <CheckCircle className=\"w-5 h-5\" />\r\n          ) : (\r\n            <Circle className=\"w-5 h-5\" />\r\n          )}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\strength\\StrengthContainer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\strength\\StrengthLog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\strength\\actions\\custom-exercises.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":60,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":60,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use server';\r\n\r\nimport { createClient } from \"@/utils/supabase/server\";\r\nimport { prisma } from \"@/lib/prisma\";\r\n\r\ninterface CustomExerciseInput {\r\n    name: string;\r\n    muscle: string;\r\n    equipment: string;\r\n}\r\n\r\nexport async function createCustomExercise(data: CustomExerciseInput) {\r\n    const supabase = await createClient();\r\n    const { data: { user } } = await supabase.auth.getUser();\r\n    const userId = user?.id;\r\n\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    try {\r\n        // Use the Exercise model (which supports custom exercises via a createdBy pattern if needed)\r\n        // For now, create in Exercise table directly\r\n        const exercise = await prisma.exercise.create({\r\n            data: {\r\n                id: `custom_${Date.now()}`,\r\n                name: data.name,\r\n                muscleGroup: data.muscle,\r\n                equipment: data.equipment,\r\n                secondaryMuscles: [],\r\n            }\r\n        });\r\n        return { ...exercise, isCustom: true };\r\n    } catch (e) {\r\n        console.error(\"Create custom exercise failed\", e);\r\n        // Fallback for demo\r\n        return {\r\n            id: `custom_${Date.now()}`,\r\n            name: data.name,\r\n            muscle: data.muscle,\r\n            equipment: data.equipment,\r\n            isCustom: true\r\n        };\r\n    }\r\n}\r\n\r\nexport async function getCustomExercises() {\r\n    const supabase = await createClient();\r\n    const { data: { user } } = await supabase.auth.getUser();\r\n    const userId = user?.id;\r\n\r\n    if (!userId) return [];\r\n\r\n    try {\r\n        // Get exercises that start with 'custom_' prefix (our convention)\r\n        const custom = await prisma.exercise.findMany({\r\n            where: {\r\n                id: { startsWith: 'custom_' }\r\n            }\r\n        });\r\n        return custom.map(ex => ({ ...ex, isCustom: true }));\r\n    } catch (e) {\r\n        return [];\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\strength\\actions\\history.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\strength\\components\\BiometricsHUD.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\strength\\components\\CardiacDriftWarning.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\strength\\components\\DungeonSessionView.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\strength\\components\\EquipmentArmory.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\strength\\components\\ExerciseLibrary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\strength\\components\\HRRecoveryDisplay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\strength\\components\\HRZoneBadge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\strength\\components\\PlateVisualizer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\strength\\components\\VolumeProgressBadge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\strength\\components\\armory\\ArmoryClient.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\strength\\components\\armory\\ItemGrid.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\strength\\hooks\\useHRRecoveryTimer.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'duration' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":58,"column":19,"nodeType":"Identifier","messageId":"unusedVar","endLine":58,"endColumn":27}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { create } from \"zustand\";\r\n\r\ninterface HRState {\r\n    currentHR: number;\r\n    maxHR: number;\r\n    restingHR: number;\r\n    recoveryStartTime: number | null;\r\n    recoveryStartHR: number | null;\r\n    recoveryStatus: \"none\" | \"recovering\" | \"recovered\";\r\n    metrics: {\r\n        zone: number; // 1-5\r\n        drift: number; // Percentage drift from baseline\r\n    };\r\n}\r\n\r\ninterface HRStore extends HRState {\r\n    updateHR: (hr: number) => void;\r\n    setZones: (max: number, resting: number) => void;\r\n    startRecovery: () => void;\r\n    stopRecovery: () => void;\r\n    reset: () => void;\r\n}\r\n\r\nconst DEFAULT_STATE: HRState = {\r\n    currentHR: 0,\r\n    maxHR: 190, // Default fallback\r\n    restingHR: 60, // Default fallback\r\n    recoveryStartTime: null,\r\n    recoveryStartHR: null,\r\n    recoveryStatus: \"none\",\r\n    metrics: {\r\n        zone: 0,\r\n        drift: 0,\r\n    }\r\n};\r\n\r\nexport const useHRStore = create<HRStore>((set, get) => ({\r\n    ...DEFAULT_STATE,\r\n\r\n    setZones: (max, resting) => set({ maxHR: max, restingHR: resting }),\r\n\r\n    updateHR: (hr) => {\r\n        const { maxHR, restingHR, recoveryStatus, recoveryStartHR, recoveryStartTime } = get();\r\n\r\n        // Calculate Zone (Karvonen)\r\n        const hrr = maxHR - restingHR;\r\n        const intensity = (hr - restingHR) / hrr;\r\n        let zone = 1;\r\n        if (intensity > 0.6) zone = 2;\r\n        if (intensity > 0.7) zone = 3;\r\n        if (intensity > 0.8) zone = 4;\r\n        if (intensity > 0.9) zone = 5;\r\n\r\n        // Check Recovery\r\n        let newStatus = recoveryStatus;\r\n        if (recoveryStatus === \"recovering\" && recoveryStartHR && recoveryStartTime) {\r\n            const drop = recoveryStartHR - hr;\r\n            const duration = (Date.now() - recoveryStartTime) / 1000;\r\n\r\n            // Simple Logic: If HR drops by 20bpm or falls below 100bpm, considered recovered\r\n            if (drop >= 20 || hr < 100) {\r\n                newStatus = \"recovered\";\r\n            }\r\n        }\r\n\r\n        set({\r\n            currentHR: hr,\r\n            metrics: { ...get().metrics, zone },\r\n            recoveryStatus: newStatus\r\n        });\r\n    },\r\n\r\n    startRecovery: () => set((state) => ({\r\n        recoveryStatus: \"recovering\",\r\n        recoveryStartTime: Date.now(),\r\n        recoveryStartHR: state.currentHR\r\n    })),\r\n\r\n    stopRecovery: () => set({ recoveryStatus: \"none\", recoveryStartTime: null }),\r\n\r\n    reset: () => set(DEFAULT_STATE)\r\n}));\r\n\r\n// Derived hook for use in components\r\nexport const useHRRecoveryTimer = () => {\r\n    const store = useHRStore();\r\n\r\n    // We could add polling logic or simulation here if we don't have a real source\r\n\r\n    return store;\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\strength\\hooks\\useJokerSets.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\strength\\hooks\\useMiningSession.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\strength\\hooks\\useSetHistory.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\strength\\hooks\\useSetLogging.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\strength\\hooks\\useVolumeTracking.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\strength\\services\\HRStrengthService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\territory\\components\\TerritoryLeaderboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\territory\\components\\TerritoryMap.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\territory\\components\\TerritoryStats.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\territory\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\titan\\TitanAvatar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\titan\\components\\AttributeRadar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\titan\\components\\AvatarViewer.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'state' is defined but never used. Allowed unused args must match /^_/u.","line":71,"column":13,"nodeType":"Identifier","messageId":"unusedVar","endLine":71,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useRef } from \"react\";\nimport { Canvas, useFrame } from \"@react-three/fiber\";\nimport {\n  OrbitControls,\n  PerspectiveCamera,\n  Environment,\n} from \"@react-three/drei\";\nimport { TitanAttributes } from \"@/types\";\nimport * as THREE from \"three\";\n\ninterface AvatarViewerProps {\n  attributes: TitanAttributes;\n  isElite: boolean;\n  muscleHeatmap?: Record<string, number>;\n}\n\n// --- HOLOGRAPHIC SHADER MATERIAL ---\n// Creates a sci-fi \"Hard Light\" effect with scanlines\nconst HologramMaterial = ({\n  color,\n  fatigue,\n}: {\n  color: string;\n  fatigue: number;\n}) => {\n  const materialRef = useRef<THREE.MeshStandardMaterial>(null);\n\n  useFrame((state) => {\n    if (materialRef.current) {\n      // Pulse emissive intensity based on time\n      const t = state.clock.getElapsedTime();\n      const pulse = (Math.sin(t * 2) + 1) / 2; // 0 to 1\n\n      // Higher fatigue = Faster/Redder pulse\n      const baseEmissive = new THREE.Color(color);\n      if (fatigue > 0.5) {\n        // Glitchy red flash\n        if (Math.random() > 0.95) materialRef.current.emissiveIntensity = 2;\n        else materialRef.current.emissiveIntensity = 0.5 + pulse;\n      } else {\n        // Calm pulse\n        materialRef.current.emissiveIntensity = 0.2 + pulse * 0.3;\n      }\n      materialRef.current.emissive = baseEmissive;\n    }\n  });\n\n  return (\n    <meshStandardMaterial\n      ref={materialRef}\n      color={color}\n      roughness={0.2}\n      metalness={0.8}\n      transparent={true}\n      opacity={0.9}\n      wireframe={false}\n    />\n  );\n};\n\nconst TitanMesh: React.FC<{\n  attributes: TitanAttributes;\n  isElite: boolean;\n  heatmap: Record<string, number>;\n}> = ({ attributes, isElite, heatmap }) => {\n  const meshRef = useRef<any>(null);\n\n  const chestScale = 1 + attributes.strength / 40;\n  const legScale = 1 + attributes.strength / 40;\n\n  useFrame((state) => {\n    if (meshRef.current) {\n      meshRef.current.rotation.y += 0.005;\n    }\n  });\n\n  const baseColor = isElite ? \"#ffd700\" : \"#c79c6e\";\n\n  const getColor = (muscleName: string) => {\n    const fatigue = heatmap[muscleName] || 0;\n    if (fatigue > 0.8) return \"#ef4444\";\n    if (fatigue > 0.4) return \"#eab308\";\n    return baseColor;\n  };\n\n  const getFatigue = (muscleName: string) => heatmap[muscleName] || 0;\n\n  return (\n    <group ref={meshRef}>\n      {/* Torso */}\n      <mesh position={[0, 1.5, 0]} scale={[chestScale, 1, 0.8]}>\n        <boxGeometry args={[1, 1.5, 0.5]} />\n        <HologramMaterial\n          color={getColor(\"chest\")}\n          fatigue={getFatigue(\"chest\")}\n        />\n      </mesh>\n\n      {/* Head */}\n      <mesh position={[0, 2.5, 0]}>\n        <sphereGeometry args={[0.3, 32, 32]} />\n        <HologramMaterial color={baseColor} fatigue={0} />\n      </mesh>\n\n      {/* Shoulders */}\n      <mesh position={[-0.9 * chestScale, 2.1, 0]}>\n        <sphereGeometry args={[0.35, 16, 16]} />\n        <HologramMaterial\n          color={getColor(\"shoulders\")}\n          fatigue={getFatigue(\"shoulders\")}\n        />\n      </mesh>\n      <mesh position={[0.9 * chestScale, 2.1, 0]}>\n        <sphereGeometry args={[0.35, 16, 16]} />\n        <HologramMaterial\n          color={getColor(\"shoulders\")}\n          fatigue={getFatigue(\"shoulders\")}\n        />\n      </mesh>\n\n      {/* Arms */}\n      <mesh\n        position={[-0.8 * chestScale, 1.5, 0]}\n        scale={[\n          0.3 + attributes.hypertrophy / 50,\n          1.2,\n          0.3 + attributes.hypertrophy / 50,\n        ]}\n      >\n        <capsuleGeometry args={[0.3, 1, 4, 8]} />\n        <HologramMaterial\n          color={getColor(\"triceps\")}\n          fatigue={getFatigue(\"triceps\")}\n        />\n      </mesh>\n      <mesh\n        position={[0.8 * chestScale, 1.5, 0]}\n        scale={[\n          0.3 + attributes.hypertrophy / 50,\n          1.2,\n          0.3 + attributes.hypertrophy / 50,\n        ]}\n      >\n        <capsuleGeometry args={[0.3, 1, 4, 8]} />\n        <HologramMaterial\n          color={getColor(\"triceps\")}\n          fatigue={getFatigue(\"triceps\")}\n        />\n      </mesh>\n\n      {/* Legs */}\n      <mesh position={[-0.3, 0, 0]} scale={[legScale, 1.5, legScale]}>\n        <cylinderGeometry args={[0.25, 0.2, 1.5]} />\n        <HologramMaterial\n          color={getColor(\"quads\")}\n          fatigue={getFatigue(\"quads\")}\n        />\n      </mesh>\n      <mesh position={[0.3, 0, 0]} scale={[legScale, 1.5, legScale]}>\n        <cylinderGeometry args={[0.25, 0.2, 1.5]} />\n        <HologramMaterial\n          color={getColor(\"quads\")}\n          fatigue={getFatigue(\"quads\")}\n        />\n      </mesh>\n    </group>\n  );\n};\n\nconst AvatarViewer: React.FC<AvatarViewerProps> = ({\n  attributes,\n  isElite,\n  muscleHeatmap = {},\n}) => {\n  return (\n    <div className=\"w-full h-full min-h-[400px] bg-gradient-to-b from-zinc-950 to-black rounded-lg overflow-hidden relative border border-zinc-800\">\n      <div className=\"absolute top-4 left-4 z-10\">\n        <h3 className=\"text-[#c79c6e] font-bold uppercase tracking-widest text-xs\">\n          Titan Holo-Projector\n        </h3>\n        <p className=\"text-[10px] text-zinc-500 font-mono\">\n          Rendering Mode: Hard Light Construct\n        </p>\n      </div>\n\n      {/* Legend */}\n      <div className=\"absolute top-4 right-4 z-10 flex flex-col gap-1 text-[9px] font-mono uppercase\">\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-2 h-2 bg-red-500 rounded-full animate-pulse\"></div>\n          <span className=\"text-red-500\">Critical Load</span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-2 h-2 bg-yellow-500 rounded-full\"></div>\n          <span className=\"text-yellow-500\">Accumulating</span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-2 h-2 bg-[#c79c6e] rounded-full\"></div>\n          <span className=\"text-[#c79c6e]\">Optimal</span>\n        </div>\n      </div>\n\n      <Canvas>\n        <PerspectiveCamera makeDefault position={[0, 2, 5]} />\n        <OrbitControls\n          enablePan={false}\n          minPolarAngle={Math.PI / 4}\n          maxPolarAngle={Math.PI / 2}\n        />\n\n        <ambientLight intensity={0.2} />\n        <spotLight\n          position={[10, 10, 10]}\n          angle={0.15}\n          penumbra={1}\n          intensity={2}\n          castShadow\n          color={isElite ? \"#ffd700\" : \"#c79c6e\"}\n        />\n        <pointLight position={[-10, 5, -10]} intensity={1} color=\"#00e5ff\" />\n\n        <TitanMesh\n          attributes={attributes}\n          isElite={isElite}\n          heatmap={muscleHeatmap}\n        />\n\n        {/* Sci-Fi Grid Floor */}\n        <gridHelper\n          args={[20, 20, 0x444444, 0x111111]}\n          position={[0, -0.79, 0]}\n        />\n        <mesh rotation={[-Math.PI / 2, 0, 0]} position={[0, -0.8, 0]}>\n          <circleGeometry args={[2, 32]} />\n          <meshStandardMaterial color=\"#000\" opacity={0.8} transparent />\n        </mesh>\n\n        {/* Environmental Dust/Stars */}\n        <Environment preset=\"night\" />\n      </Canvas>\n    </div>\n  );\n};\n\nexport default AvatarViewer;\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\titan\\components\\CharacterSheet.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\titan\\components\\TitanXPBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\titan\\useTitanReaction.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\training\\CardioStudio.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\training\\ProgramBuilder.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'e' is defined but never used.","line":25,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":25,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport React, { useState } from \"react\";\nimport { createProgramAction } from \"@/actions/training/programs\";\nimport { Calendar, Save } from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface ProgramBuilderProps {\n  userId: string;\n}\n\nexport const ProgramBuilder: React.FC<ProgramBuilderProps> = ({ userId }) => {\n  const [name, setName] = useState(\"\");\n  const [weeks, setWeeks] = useState(4);\n  const { toast } = useToast();\n  const [isCreating, setIsCreating] = useState(false);\n\n  const handleCreate = async () => {\n    setIsCreating(true);\n    try {\n      await createProgramAction(userId, { name, weeks });\n      toast({ title: \"Success\", description: \"Program created!\" });\n      // Redirect or show builder view (simplified for now)\n      setName(\"\");\n    } catch (e) {\n      toast({ title: \"Error\", variant: \"destructive\" });\n    } finally {\n      setIsCreating(false);\n    }\n  };\n\n  return (\n    <div className=\"bg-zinc-900 border border-white/5 rounded-xl p-6 max-w-2xl mx-auto\">\n      <h2 className=\"text-2xl font-bold text-white mb-6 flex items-center gap-2\">\n        <Calendar className=\"w-6 h-6 text-magma\" />\n        Program Builder\n      </h2>\n\n      <div className=\"space-y-4\">\n        <div>\n          <label className=\"block text-xs font-bold text-zinc-500 uppercase mb-1\">\n            Program Name\n          </label>\n          <input\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            className=\"w-full bg-black/40 border border-white/10 p-2 rounded text-white focus:border-magma outline-none\"\n            placeholder=\"e.g. 5/3/1 BBB\"\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-xs font-bold text-zinc-500 uppercase mb-1\">\n            Duration (Weeks)\n          </label>\n          <div className=\"flex gap-2\">\n            {[4, 8, 12].map((w) => (\n              <button\n                key={w}\n                onClick={() => setWeeks(w)}\n                className={`px-4 py-2 rounded border ${weeks === w ? \"bg-magma text-black border-magma\" : \"bg-transparent border-white/10 text-zinc-400 hover:text-white\"}`}\n              >\n                {w} Weeks\n              </button>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"pt-4 border-t border-white/5\">\n          <button\n            onClick={handleCreate}\n            disabled={!name || isCreating}\n            className=\"w-full bg-white text-black font-bold py-3 rounded hover:bg-zinc-200 disabled:opacity-50 flex items-center justify-center gap-2\"\n          >\n            {isCreating ? (\n              \"Creating...\"\n            ) : (\n              <>\n                <Save className=\"w-4 h-4\" /> Create Program\n              </>\n            )}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\training\\RoutineSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\training\\TrainingCenter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\training\\TvMode.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'initialStreak' is assigned a value but never used. Allowed unused args must match /^_/u.","line":80,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":80,"endColumn":24}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport {\r\n  Heart,\r\n  Zap,\r\n  Flame,\r\n  Trophy,\r\n  Bluetooth,\r\n  BluetoothOff,\r\n  X,\r\n} from \"lucide-react\";\r\nimport { useTitanReaction } from \"@/features/titan/useTitanReaction\";\r\nimport { useBluetoothPower } from \"@/features/bio/hooks/useBluetoothPower\";\r\nimport { useBluetoothHeartRate } from \"@/features/bio/hooks/useBluetoothHeartRate\";\r\nimport { SensorManager } from \"./components/SensorManager\";\r\nimport { useCompanionRelay } from \"@/features/companion/useCompanionRelay\";\r\nimport { useGuildContribution } from \"@/features/guild/hooks/useGuildContribution\";\r\nimport { useLiveCombat } from \"@/features/combat/hooks/useLiveCombat\";\r\nimport { useSearchParams } from \"next/navigation\";\r\nimport { QRCodeSVG } from \"qrcode.react\";\r\nimport { Scan, Podcast } from \"lucide-react\";\r\nimport { PocketCastsPlayer } from \"../podcast/components/PocketCastsPlayer\";\r\n\r\ninterface TvModeProps {\r\n  onExit: () => void;\r\n  initialHr?: number;\r\n  initialPower?: number;\r\n  ftp?: number;\r\n  userId?: string;\r\n  pocketCastsConnected?: boolean;\r\n  streak?: number;\r\n  maxHr?: number;\r\n}\r\n\r\ninterface SessionStats {\r\n  elapsedSeconds: number;\r\n  xpEarned: number;\r\n  goldEarned: number;\r\n  kineticEnergy: number;\r\n}\r\n\r\nconst ZONE_COLORS: Record<\r\n  number,\r\n  { bg: string; border: string; text: string }\r\n> = {\r\n  1: { bg: \"bg-zinc-950\", border: \"border-zinc-800\", text: \"text-zinc-400\" },\r\n  2: { bg: \"bg-blue-950/30\", border: \"border-blue-900\", text: \"text-blue-400\" },\r\n  3: {\r\n    bg: \"bg-green-950/30\",\r\n    border: \"border-green-900\",\r\n    text: \"text-green-400\",\r\n  },\r\n  4: {\r\n    bg: \"bg-yellow-950/30\",\r\n    border: \"border-yellow-900\",\r\n    text: \"text-yellow-400\",\r\n  },\r\n  5: { bg: \"bg-red-950/30\", border: \"border-red-900\", text: \"text-red-500\" },\r\n};\r\n\r\nconst getZoneFromHr = (hr: number, maxHr: number = 190) => {\r\n  const pct = (hr / maxHr) * 100;\r\n  if (pct < 60) return 1;\r\n  if (pct < 70) return 2;\r\n  if (pct < 80) return 3;\r\n  if (pct < 90) return 4;\r\n  return 5;\r\n};\r\n\r\nexport const TvMode: React.FC<TvModeProps> = ({\r\n  onExit,\r\n  initialHr = 60,\r\n  initialPower = 100,\r\n  ftp = 200,\r\n  userId,\r\n  pocketCastsConnected,\r\n  streak: initialStreak = 0,\r\n  maxHr = 190,\r\n}) => {\r\n  // Hooks\r\n  const {\r\n    bpm,\r\n    isConnected: isHrConnected,\r\n    connect: connectHr,\r\n    disconnect: disconnectHr,\r\n  } = useBluetoothHeartRate();\r\n\r\n  const {\r\n    data: powerData,\r\n    isConnected: isPowerConnected,\r\n    connect: connectPower,\r\n    disconnect: disconnectPower,\r\n  } = useBluetoothPower();\r\n\r\n  // State\r\n  const [zone, setZone] = useState(1);\r\n  const [hudVisible, setHudVisible] = useState(true);\r\n  const [sensorsMenuOpen, setSensorsMenuOpen] = useState(false);\r\n  const [podcastOpen, setPodcastOpen] = useState(false);\r\n\r\n\r\n  const [sessionStats, setSessionStats] = useState<SessionStats>({\r\n    elapsedSeconds: 0,\r\n    xpEarned: 0,\r\n    goldEarned: 0,\r\n    kineticEnergy: 0,\r\n  });\r\n\r\n  // Session Logic\r\n  const searchParams = useSearchParams();\r\n  // Use existing session from URL or generate new one\r\n  const [sessionId] = useState(\r\n    () => searchParams.get(\"session\") || crypto.randomUUID(),\r\n  );\r\n  const [qrVisible, setQrVisible] = useState(false);\r\n\r\n  // Companion Relay\r\n\r\n  const relayRole = searchParams.get(\"session\") ? \"CONTROLLER\" : \"RECEIVER\"; // If session param exists, we joined\r\n\r\n  const {\r\n    lastEvent,\r\n    isConnected: _isRelayConnected,\r\n  } = useCompanionRelay(relayRole, sessionId);\r\n\r\n  // Handle Companion Events (Receiver Handling)\r\n  useEffect(() => {\r\n    if (!lastEvent || relayRole === \"CONTROLLER\") return;\r\n\r\n    if (lastEvent.type === \"COMMAND\") {\r\n      if (lastEvent.payload === \"PAUSE\" || lastEvent.payload === \"RESUME\") {\r\n        // Logic to toggle pause (currently using local state in TvMode, might need prop or internal state)\r\n        // setPaused(p => !p);\r\n        // For now, simpler:\r\n        setHudVisible(true);\r\n      }\r\n    }\r\n  }, [lastEvent, relayRole]);\r\n\r\n  // Derived State\r\n  const currentHr = bpm || initialHr;\r\n  const currentPower = powerData?.watts || initialPower;\r\n  const currentCadence = powerData?.cadence || 0;\r\n  const sensorsConnected = isPowerConnected || isHrConnected;\r\n\r\n  // Titan Dialogue Hook\r\n  const { thought: titanDialogue } = useTitanReaction({\r\n    heartRate: currentHr,\r\n    power: currentPower,\r\n    cadence: currentCadence,\r\n    ftp: ftp,\r\n    duration: sessionStats.elapsedSeconds,\r\n    isPaused: false,\r\n  });\r\n\r\n  // Guild Wars Hook\r\n  const guildStats = useGuildContribution({\r\n    userId,\r\n    watts: currentPower,\r\n    heartRate: currentHr,\r\n    ftp,\r\n    maxHr,\r\n    isPaused: sensorsMenuOpen,\r\n  });\r\n\r\n  // Live Combat Hook (Solo Boss)\r\n  const { boss: soloBoss, lastDamage } = useLiveCombat({\r\n    watts: currentPower,\r\n    heartRate: currentHr,\r\n    ftp,\r\n    maxHr,\r\n    isPaused: sensorsMenuOpen,\r\n  });\r\n\r\n  // --- EFFECTS ---\r\n\r\n  // Auto-hide HUD after 5 seconds\r\n  useEffect(() => {\r\n    if (!hudVisible) return;\r\n    const timeout = setTimeout(() => setHudVisible(false), 5000);\r\n    return () => clearTimeout(timeout);\r\n  }, [hudVisible, zone, titanDialogue]);\r\n\r\n  // Show HUD on zone change or new thought\r\n  useEffect(() => {\r\n    setHudVisible(true);\r\n  }, [zone, titanDialogue]);\r\n\r\n  // Update zone when HR changes\r\n  useEffect(() => {\r\n    setZone(getZoneFromHr(currentHr, maxHr));\r\n  }, [currentHr, maxHr]);\r\n\r\n  // Session timer\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setSessionStats((prev) => ({\r\n        ...prev,\r\n        elapsedSeconds: prev.elapsedSeconds + 1,\r\n        xpEarned: prev.xpEarned + (zone >= 3 ? 2 : 1),\r\n        goldEarned: prev.goldEarned + (zone >= 4 ? 1 : 0),\r\n        kineticEnergy: prev.kineticEnergy + (zone >= 4 ? 1 : 0),\r\n      }));\r\n    }, 1000);\r\n    return () => clearInterval(interval);\r\n  }, [zone]);\r\n\r\n  // Keyboard shortcuts\r\n  useEffect(() => {\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n      if (e.key === \"Escape\") onExit();\r\n      if (e.key === \" \") setHudVisible((v) => !v);\r\n      if (e.key === \"p\" || e.key === \"P\") setPodcastOpen((v) => !v);\r\n    };\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\r\n  }, [onExit]);\r\n\r\n  // Format time\r\n  const formatTime = (seconds: number) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins.toString().padStart(2, \"0\")}:${secs.toString().padStart(2, \"0\")}`;\r\n  };\r\n\r\n  const zoneStyle = ZONE_COLORS[zone];\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"fixed inset-0 bg-black z-50 flex flex-col\",\r\n        \"transition-shadow duration-500\",\r\n        zoneStyle.border,\r\n        zoneStyle.bg,\r\n      )}\r\n      onClick={() => setHudVisible(true)}\r\n    >\r\n      {/* Sensor Manager Overlay */}\r\n      <SensorManager\r\n        isOpen={sensorsMenuOpen}\r\n        onClose={() => setSensorsMenuOpen(false)}\r\n        hrStatus={{\r\n          connected: isHrConnected,\r\n          bpm: bpm,\r\n          connect: connectHr,\r\n          disconnect: disconnectHr,\r\n        }}\r\n        powerStatus={{\r\n          connected: isPowerConnected,\r\n          watts: powerData?.watts || 0,\r\n          connect: connectPower,\r\n          disconnect: disconnectPower,\r\n        }}\r\n      />\r\n\r\n      {/* --- MOBILE CONTROLLER LAYOUT (Visible on small screens) --- */}\r\n      <div className=\"md:hidden flex-1 flex flex-col p-6\">\r\n        <div className=\"flex justify-between items-center mb-8\">\r\n          <h2 className=\"text-xl font-black text-white italic tracking-tighter\">\r\n            IRON COMPANION\r\n          </h2>\r\n          <div className=\"flex gap-2\">\r\n            <div\r\n              className={cn(\r\n                \"w-2 h-2 rounded-full\",\r\n                isHrConnected ? \"bg-green-500\" : \"bg-red-500\",\r\n              )}\r\n            />\r\n            <div\r\n              className={cn(\r\n                \"w-2 h-2 rounded-full\",\r\n                isPowerConnected ? \"bg-green-500\" : \"bg-red-500\",\r\n              )}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-2 gap-4 mb-auto\">\r\n          <div className=\"bg-zinc-900/80 p-6 rounded-2xl border border-zinc-800 flex flex-col items-center justify-center\">\r\n            <Heart\r\n              className={cn(\r\n                \"w-8 h-8 mb-2\",\r\n                zone >= 4 ? \"text-red-500 animate-pulse\" : \"text-zinc-500\",\r\n              )}\r\n            />\r\n            <span className=\"text-4xl font-black text-white\">{currentHr}</span>\r\n            <span className=\"text-xs text-zinc-500 uppercase\">BPM</span>\r\n          </div>\r\n          <div className=\"bg-zinc-900/80 p-6 rounded-2xl border border-zinc-800 flex flex-col items-center justify-center\">\r\n            <Zap\r\n              className={cn(\r\n                \"w-8 h-8 mb-2\",\r\n                isPowerConnected ? \"text-yellow-400\" : \"text-zinc-500\",\r\n              )}\r\n            />\r\n            <span className=\"text-4xl font-black text-white\">\r\n              {currentPower}\r\n            </span>\r\n            <span className=\"text-xs text-zinc-500 uppercase\">WATTS</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"space-y-4\">\r\n          <button\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              setSensorsMenuOpen(true);\r\n            }}\r\n            className=\"w-full py-4 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-xl flex items-center justify-center gap-2 transition-transform active:scale-95\"\r\n          >\r\n            <Bluetooth className=\"w-5 h-5\" /> Manage Sensors\r\n          </button>\r\n\r\n          <button\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              onExit();\r\n            }}\r\n            className=\"w-full py-4 bg-zinc-800 hover:bg-zinc-700 text-white font-bold rounded-xl flex items-center justify-center gap-2 transition-transform active:scale-95\"\r\n          >\r\n            <X className=\"w-5 h-5\" /> End Session\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* --- TV/DESKTOP LAYOUT (Hidden on mobile) --- */}\r\n      <div className=\"hidden md:block relative w-full h-full\">\r\n        <div\r\n          className={cn(\r\n            \"absolute inset-0 pointer-events-none border-8\",\r\n            zoneStyle.border,\r\n            \"shadow-[inset_0_0_60px_10px]\",\r\n          )}\r\n        />\r\n\r\n        <AnimatePresence>\r\n          {hudVisible && !sensorsMenuOpen && (\r\n            <motion.div\r\n              initial={{ opacity: 0, y: -20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              exit={{ opacity: 0, y: -20 }}\r\n              className=\"absolute top-0 left-0 w-full p-8 flex justify-between items-start z-10\"\r\n            >\r\n              {/* LEFT: Heart Rate & Zone */}\r\n              <div className=\"flex flex-col gap-2\">\r\n                <div className=\"flex items-center gap-4\">\r\n                  <Heart\r\n                    className={cn(\r\n                      \"w-12 h-12 animate-pulse\",\r\n                      zone >= 4 ? \"text-red-500\" : \"text-white\",\r\n                    )}\r\n                  />\r\n                  <div>\r\n                    <div className=\"text-6xl font-black text-white tabular-nums tracking-tighter\">\r\n                      {currentHr}{\" \"}\r\n                      <span className=\"text-2xl text-zinc-400 font-bold\">\r\n                        bpm\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-center gap-2 pl-2\">\r\n                  <div\r\n                    className={cn(\r\n                      \"px-3 py-1 rounded-full font-bold text-sm uppercase tracking-wider bg-black/50 backdrop-blur\",\r\n                      zoneStyle.text,\r\n                    )}\r\n                  >\r\n                    Zone {zone}\r\n                  </div>\r\n                  <div className=\"text-zinc-500 text-sm font-mono\">\r\n                    {sessionStats.xpEarned} XP\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* CENTER: Titan Dialogue (Floating) */}\r\n              <div className=\"absolute top-8 left-1/2 -translate-x-1/2 max-w-2xl text-center\">\r\n                <AnimatePresence mode=\"wait\">\r\n                  {titanDialogue && (\r\n                    <motion.div\r\n                      key={titanDialogue}\r\n                      initial={{ opacity: 0, scale: 0.9, y: 10 }}\r\n                      animate={{ opacity: 1, scale: 1, y: 0 }}\r\n                      exit={{ opacity: 0, scale: 0.9, y: -10 }}\r\n                      className=\"bg-black/60 backdrop-blur px-6 py-3 rounded-2xl border border-white/10\"\r\n                    >\r\n                      <p className=\"text-xl font-medium text-white/90 italic\">\r\n                        &quot;{titanDialogue}&quot;\r\n                      </p>\r\n                    </motion.div>\r\n                  )}\r\n                </AnimatePresence>\r\n              </div>\r\n\r\n              {/* RIGHT: Power & Duration */}\r\n              <div className=\"flex flex-col gap-2 items-end\">\r\n                <div className=\"flex items-center gap-4\">\r\n                  <div>\r\n                    <div className=\"text-6xl font-black text-white tabular-nums tracking-tighter\">\r\n                      {currentPower}{\" \"}\r\n                      <span className=\"text-2xl text-zinc-400 font-bold\">\r\n                        W\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                  <Zap\r\n                    className={cn(\r\n                      \"w-12 h-12\",\r\n                      isPowerConnected\r\n                        ? \"text-yellow-400 fill-yellow-400\"\r\n                        : \"text-zinc-700\",\r\n                    )}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-4\">\r\n                  <div className=\"text-3xl font-bold text-zinc-300 tabular-nums\">\r\n                    {formatTime(sessionStats.elapsedSeconds)}\r\n                  </div>\r\n                  <div className=\"flex gap-2\">\r\n                    <button\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        setQrVisible(!qrVisible);\r\n                      }}\r\n                      className={cn(\r\n                        \"p-2 rounded-lg transition-colors\",\r\n                        qrVisible\r\n                          ? \"bg-white text-black\"\r\n                          : \"bg-zinc-800 hover:bg-zinc-700 text-zinc-400\",\r\n                      )}\r\n                    >\r\n                      <Scan className=\"w-5 h-5\" />\r\n                    </button>\r\n                    <button\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        setSensorsMenuOpen(true);\r\n                      }}\r\n                      className=\"p-2 bg-zinc-800 hover:bg-zinc-700 rounded-lg transition-colors\"\r\n                    >\r\n                      {sensorsConnected ? (\r\n                        <Bluetooth className=\"w-5 h-5 text-blue-400\" />\r\n                      ) : (\r\n                        <BluetoothOff className=\"w-5 h-5 text-zinc-500\" />\r\n                      )}\r\n                    </button>\r\n\r\n                    {/* Podcast Toggle Button */}\r\n                    {pocketCastsConnected && (\r\n                      <button\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          setPodcastOpen((prev) => !prev);\r\n                        }}\r\n                        className={cn(\r\n                          \"p-2 rounded-lg transition-colors\",\r\n                          podcastOpen\r\n                            ? \"bg-magma text-white\"\r\n                            : \"bg-zinc-800 hover:bg-zinc-700 text-zinc-400\"\r\n                        )}\r\n                      >\r\n                        <Podcast className={cn(\"w-5 h-5\", podcastOpen ? \"text-white\" : \"text-zinc-400\")} />\r\n                      </button>\r\n                    )}\r\n\r\n                    <button\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        onExit();\r\n                      }}\r\n                      className=\"p-2 bg-zinc-800 hover:bg-zinc-700 rounded-lg transition-colors\"\r\n                    >\r\n                      <X className=\"w-5 h-5 text-white\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Pocket Casts Player Integration (Floating) */}\r\n              <AnimatePresence>\r\n                {podcastOpen && pocketCastsConnected && (\r\n                  <motion.div\r\n                    initial={{ opacity: 0, x: 50 }}\r\n                    animate={{ opacity: 1, x: 0 }}\r\n                    exit={{ opacity: 0, x: 50 }}\r\n                    className=\"absolute top-32 right-0 w-96 z-50 mr-8\"\r\n                  >\r\n                    <div className=\"bg-zinc-900 border border-zinc-800 rounded-xl overflow-hidden shadow-2xl\">\r\n                      <div className=\"flex justify-between items-center bg-zinc-800 px-3 py-2 border-b border-zinc-700\">\r\n                        <div className=\"flex items-center gap-2 text-zinc-300 text-xs font-bold uppercase tracking-wider\">\r\n                          <Podcast className=\"w-3 h-3\" />\r\n                          Pocket Casts\r\n                        </div>\r\n                        <button onClick={() => setPodcastOpen(false)}>\r\n                          <X className=\"w-3 h-3 text-zinc-400 hover:text-white\" />\r\n                        </button>\r\n                      </div>\r\n                      <PocketCastsPlayer />\r\n                    </div>\r\n                  </motion.div>\r\n                )}\r\n              </AnimatePresence>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n\r\n        {/* Bottom HUD: Guild Raid Boss */}\r\n        {/* Bottom HUD: Live Combat (Solo & Guild) */}\r\n        <AnimatePresence>\r\n          {hudVisible && (\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              exit={{ opacity: 0, y: 20 }}\r\n              className=\"absolute bottom-12 left-1/2 -translate-x-1/2 w-full max-w-5xl px-8 flex gap-4\"\r\n            >\r\n              {/* SOLO BOSS */}\r\n              <div className=\"flex-1 bg-zinc-900/80 backdrop-blur border border-zinc-700 p-4 rounded-xl shadow-2xl relative overflow-hidden\">\r\n                <div className=\"absolute inset-0 z-0\">\r\n                  <div\r\n                    className=\"h-full bg-blue-900/30 transition-all duration-300 ease-out\"\r\n                    style={{\r\n                      width: `${(soloBoss.currentHp / soloBoss.maxHp) * 100}%`,\r\n                    }}\r\n                  />\r\n                </div>\r\n                <div className=\"relative z-10 flex items-center gap-4\">\r\n                  <div className=\"bg-blue-600 p-2 rounded-lg relative\">\r\n                    <Trophy className=\"w-6 h-6 text-white\" />\r\n                    {lastDamage > 0 && (\r\n                      <motion.div\r\n                        initial={{ opacity: 1, y: 0 }}\r\n                        animate={{ opacity: 0, y: -20 }}\r\n                        key={Date.now()}\r\n                        className=\"absolute -top-4 -right-4 text-yellow-400 font-black text-xl drop-shadow-md\"\r\n                      >\r\n                        -{lastDamage}\r\n                      </motion.div>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"text-xs text-blue-400 font-bold uppercase tracking-wider\">\r\n                      Solo Target\r\n                    </div>\r\n                    <div className=\"text-xl font-black text-white\">\r\n                      {soloBoss.name}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    <div className=\"text-sm font-mono text-zinc-300\">\r\n                      {soloBoss.currentHp.toLocaleString()} HP\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* GUILD BOSS */}\r\n              <div className=\"flex-1 bg-zinc-900/80 backdrop-blur border border-zinc-700 p-4 rounded-xl shadow-2xl relative overflow-hidden\">\r\n                <div className=\"absolute inset-0 z-0\">\r\n                  <div\r\n                    className=\"h-full bg-red-900/30 transition-all duration-1000 ease-out\"\r\n                    style={{\r\n                      width: `${(guildStats.bossHp / (guildStats.bossTotalHp || 1)) * 100}%`,\r\n                    }}\r\n                  />\r\n                </div>\r\n                <div className=\"relative z-10 flex items-center gap-4\">\r\n                  <div className=\"bg-red-600 p-2 rounded-lg\">\r\n                    <Flame className=\"w-6 h-6 text-white\" />\r\n                  </div>\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"text-xs text-red-400 font-bold uppercase tracking-wider\">\r\n                      Guild Raid\r\n                    </div>\r\n                    <div className=\"text-xl font-black text-white\">\r\n                      {guildStats.bossName !== \"Unknown\"\r\n                        ? guildStats.bossName\r\n                        : \"Searching...\"}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    <div className=\"text-sm font-mono text-amber-400\">\r\n                      +{guildStats.totalDamage} DMG\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n        {/* QR Code Overlay (Desktop) */}\r\n        <AnimatePresence>\r\n          {qrVisible && (\r\n            <motion.div\r\n              initial={{ opacity: 0, scale: 0.9 }}\r\n              animate={{ opacity: 1, scale: 1 }}\r\n              exit={{ opacity: 0, scale: 0.9 }}\r\n              className=\"fixed inset-0 z-[60] flex items-center justify-center bg-black/80 backdrop-blur-sm\"\r\n              onClick={() => setQrVisible(false)}\r\n            >\r\n              <div\r\n                className=\"bg-white p-8 rounded-3xl shadow-2xl flex flex-col items-center gap-6\"\r\n                onClick={(e) => e.stopPropagation()}\r\n              >\r\n                <div className=\"bg-zinc-100 p-4 rounded-xl\">\r\n                  <QRCodeSVG\r\n                    value={`${typeof window !== \"undefined\" ? window.location.origin : \"\"}/training?mode=tv&session=${sessionId}`}\r\n                    size={256}\r\n                    level=\"H\"\r\n                  />\r\n                </div>\r\n                <div className=\"text-center\">\r\n                  <h3 className=\"text-2xl font-black text-black mb-2\">\r\n                    SCAN TO CONTROL\r\n                  </h3>\r\n                  <p className=\"text-zinc-500 text-sm max-w-xs\">\r\n                    Use your phone&apos;s camera to connect as a Companion\r\n                    Controller.\r\n                  </p>\r\n                </div>\r\n                <button\r\n                  onClick={() => setQrVisible(false)}\r\n                  className=\"px-8 py-3 bg-black text-white font-bold rounded-xl hover:bg-zinc-800 transition-colors\"\r\n                >\r\n                  CLOSE\r\n                </button>\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\training\\__tests__\\TvMode.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\training\\components\\BerserkerChoice.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\training\\components\\BerserkerMode.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\training\\components\\BuffHud.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\training\\components\\ChaseOverlay.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useMemo' is defined but never used. Allowed unused vars must match /^_/u.","line":3,"column":17,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":24,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"useMemo"},"fix":{"range":[29,42],"text":""},"desc":"Remove unused variable \"useMemo\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { useMemo } from \"react\";\r\nimport { motion, AnimatePresence, useAnimation } from \"framer-motion\";\r\nimport { Trophy, Skull, Footprints, Zap } from \"lucide-react\";\r\nimport { ChaseState, ChaseDifficulty } from \"@/types/chase\";\r\nimport { ChaseEngine } from \"@/services/game/ChaseEngine\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { playSound } from \"@/utils/root_utils\";\r\n\r\ninterface ChaseOverlayProps {\r\n    chaseState: ChaseState;\r\n    difficulty: ChaseDifficulty;\r\n    currentPaceKph: number;\r\n    onCaughtConfirm: () => void;\r\n    onEscapedConfirm: () => void;\r\n}\r\n\r\n/**\r\n * ChaseOverlay - Visual HUD for chase mode\r\n *\r\n * Shows:\r\n * - Distance gap progress bar\r\n * - Monster approaching indicator\r\n * - Status messages\r\n * - Victory/defeat states\r\n */\r\nexport function ChaseOverlay({\r\n    chaseState,\r\n    difficulty,\r\n    currentPaceKph,\r\n    onCaughtConfirm,\r\n    onEscapedConfirm,\r\n}: ChaseOverlayProps) {\r\n    const dangerLevel = ChaseEngine.getDangerLevel(chaseState);\r\n    const statusMessage = ChaseEngine.getStatusMessage(chaseState);\r\n    const requiredPace = ChaseEngine.getRequiredPace(chaseState, difficulty);\r\n\r\n    // Color based on danger level\r\n    // Color based on danger level\r\n    // const dangerColor = useMemo(() => { ... });\r\n\r\n    const bgPulse = dangerLevel > 0.7 && !chaseState.isCaught && !chaseState.hasEscaped;\r\n\r\n    // Heartbeat Effect\r\n    React.useEffect(() => {\r\n        if (dangerLevel > 0.8 && !chaseState.isCaught && !chaseState.hasEscaped) {\r\n            const interval = setInterval(() => {\r\n                playSound(\"heartbeat\");\r\n            }, 1000 * (1 - dangerLevel * 0.5)); // Faster heartbeat as danger increases\r\n            return () => clearInterval(interval);\r\n        }\r\n    }, [dangerLevel, chaseState.isCaught, chaseState.hasEscaped]);\r\n\r\n    // Gap percentage for progress bar (0-100)\r\n    const gapPercentage = Math.max(\r\n        0,\r\n        Math.min(100, (chaseState.distanceGapMeters / chaseState.escapeDistanceMeters) * 100)\r\n    );\r\n\r\n    const paceDelta = currentPaceKph - requiredPace;\r\n\r\n    // Screen Shake Animation Control\r\n    const shakeControls = useAnimation();\r\n\r\n    React.useEffect(() => {\r\n        if (dangerLevel > 0.8) {\r\n            shakeControls.start({\r\n                x: [0, -5, 5, -5, 5, 0],\r\n                transition: { duration: 0.5, repeat: Infinity, repeatDelay: 1 }\r\n            });\r\n        } else {\r\n            shakeControls.stop();\r\n            shakeControls.set({ x: 0 });\r\n        }\r\n    }, [dangerLevel, shakeControls]);\r\n\r\n    return (\r\n        <div className=\"absolute inset-0 pointer-events-none overflow-hidden z-50\">\r\n\r\n            {/* 1. Dynamic Vignette (Red/Black gradient on edges) */}\r\n            <div\r\n                className=\"absolute inset-0 transition-opacity duration-1000\"\r\n                style={{\r\n                    background: `radial-gradient(circle, transparent 50%, rgba(0,0,0,${dangerLevel * 0.8}) 90%, rgba(${dangerLevel > 0.8 ? '100,0,0' : '0,0,0'}, ${dangerLevel * 0.6}) 100%)`,\r\n                    opacity: 0.8 + (dangerLevel * 0.2)\r\n                }}\r\n            />\r\n\r\n            {/* 2. Looming Monster Background Presence */}\r\n            <motion.div\r\n                animate={{\r\n                    scale: 1 + (dangerLevel * 0.5),\r\n                    opacity: 0.1 + (dangerLevel * 0.2),\r\n                    y: (1 - dangerLevel) * 100\r\n                }}\r\n                className=\"absolute inset-0 flex items-center justify-center pointer-events-none overflow-hidden\"\r\n            >\r\n                <div className=\"text-[40vh] filter blur-sm transform transition-all duration-1000 select-none opacity-20\">\r\n                    {chaseState.chaser.image}\r\n                </div>\r\n            </motion.div>\r\n\r\n            {/* 3. Main HUD Layer (with Screen Shake) */}\r\n            <motion.div\r\n                animate={shakeControls}\r\n                className={cn(\r\n                    \"relative w-full h-full flex flex-col pt-4\",\r\n                    bgPulse && \"animate-pulse\" // Keep pulse on container if critically low\r\n                )}\r\n            >\r\n                <div className=\"pointer-events-auto mx-auto max-w-2xl px-4 w-full\">\r\n                    <div className=\"bg-black/80 backdrop-blur-sm border border-white/10 rounded-xl p-4 shadow-2xl\">\r\n                        {/* Header: Monster Info */}\r\n                        <div className=\"flex items-center justify-between mb-3\">\r\n                            <div className=\"flex items-center gap-3\">\r\n                                <span className=\"text-3xl\">{chaseState.chaser.image}</span>\r\n                                <div>\r\n                                    <h3 className=\"font-bold text-white text-lg\">\r\n                                        {chaseState.chaser.name}\r\n                                    </h3>\r\n                                    <p className=\"text-xs text-zinc-400 uppercase tracking-wider\">\r\n                                        {chaseState.chaser.type}  Lvl {chaseState.chaser.level}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Required Pace Indicator */}\r\n                            <div className=\"text-right\">\r\n                                <p className=\"text-xs text-zinc-400 uppercase\">Required Pace</p>\r\n                                <p className=\"font-mono text-lg font-bold text-cyan-400\">\r\n                                    {requiredPace.toFixed(1)} km/h\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Status Message */}\r\n                        <motion.div\r\n                            key={statusMessage}\r\n                            initial={{ opacity: 0, y: -10 }}\r\n                            animate={{ opacity: 1, y: 0 }}\r\n                            className={cn(\r\n                                \"text-center py-2 mb-3 rounded-lg font-bold uppercase tracking-wider text-sm\",\r\n                                dangerLevel > 0.85\r\n                                    ? \"bg-red-900/50 text-red-300\"\r\n                                    : dangerLevel > 0.6\r\n                                        ? \"bg-orange-900/50 text-orange-300\"\r\n                                        : \"bg-zinc-800/50 text-zinc-300\"\r\n                            )}\r\n                        >\r\n                            {statusMessage}\r\n                        </motion.div>\r\n\r\n                        {/* Distance Gap Progress */}\r\n                        <div className=\"space-y-2\">\r\n                            <div className=\"flex justify-between text-xs text-zinc-400\">\r\n                                <span className=\"flex items-center gap-1\">\r\n                                    <Skull className=\"w-3 h-3\" />\r\n                                    CAUGHT\r\n                                </span>\r\n                                <span className=\"font-mono text-white\">\r\n                                    {Math.round(chaseState.distanceGapMeters)}m gap\r\n                                </span>\r\n                                <span className=\"flex items-center gap-1\">\r\n                                    ESCAPE\r\n                                    <Trophy className=\"w-3 h-3\" />\r\n                                </span>\r\n                            </div>\r\n\r\n                            {/* Styled Progress Track */}\r\n                            <div className=\"h-6 bg-zinc-950/80 rounded-full overflow-hidden border border-zinc-800 relative shadow-inner\">\r\n                                {/* Danger zone indicator (Gradient) */}\r\n                                <div className=\"absolute inset-y-0 left-0 w-[20%] bg-gradient-to-r from-red-900/60 to-transparent\" />\r\n\r\n                                {/* Track Ticks */}\r\n                                <div className=\"absolute inset-0 flex justify-between px-2 items-center opacity-20\">\r\n                                    {[...Array(10)].map((_, i) => (\r\n                                        <div key={i} className=\"w-px h-2 bg-white\" />\r\n                                    ))}\r\n                                </div>\r\n\r\n                                {/* Monster Position (Left Side / 0%) */}\r\n                                <motion.div\r\n                                    className=\"absolute left-1 top-1/2 -translate-y-1/2 text-lg z-10 filter drop-shadow-md\"\r\n                                    animate={{\r\n                                        scale: dangerLevel > 0.8 ? [1, 1.2, 1] : 1,\r\n                                        rotate: dangerLevel > 0.8 ? [0, -10, 10, 0] : 0\r\n                                    }}\r\n                                    transition={{ repeat: Infinity, duration: 2 }} // Breathing effect\r\n                                >\r\n                                    {chaseState.chaser.image}\r\n                                </motion.div>\r\n\r\n                                {/* Player Position Indicator - Moves Right -> Left as gap shrinks */}\r\n                                {/* Wait, gap percentage: 100% = Safe, 0% = Caught. \r\n                                Visual logic: \r\n                                - Monster is at LEFT (0%). \r\n                                - Player is at RIGHT (100%) if safe?\r\n                                - Usually: Distance Gap. \r\n                                Let's visualize: \r\n                                |[M]---------[P]-------| \r\n                                If gap shrinks, P moves closer to M.\r\n                                Gap % = (CurrentGap / EscapeGap) * 100.\r\n                                100% gap = Max distance (Start).\r\n                                0% gap = Caught.\r\n                                \r\n                                So: \r\n                                Player should be at `GapPercentage` from Left? \r\n                                If Gap=100%, Player at 100% (Right).\r\n                                If Gap=0%, Player at 0% (Left/Caught).\r\n                            */}\r\n\r\n                                <motion.div\r\n                                    className=\"absolute top-0 bottom-0 bg-white/10\"\r\n                                    style={{\r\n                                        left: 0,\r\n                                        right: `${100 - gapPercentage}%`\r\n                                        // This fills the space BETWEEN Monster (0) and Player (gap%)\r\n                                        // Giving visual context to the \"Gap\"\r\n                                    }}\r\n                                />\r\n\r\n                                {/* Player Icon */}\r\n                                <motion.div\r\n                                    className=\"absolute top-1/2 -translate-y-1/2 z-20 flex flex-col items-center\"\r\n                                    style={{ left: `${Math.min(96, Math.max(4, gapPercentage))}%` }}\r\n                                    animate={{ left: `${Math.min(96, Math.max(4, gapPercentage))}%` }}\r\n                                >\r\n                                    <div className=\"relative\">\r\n                                        <Footprints className=\"w-5 h-5 text-cyan-400 drop-shadow-[0_0_8px_rgba(34,211,238,0.8)]\" />\r\n                                        <div className=\"absolute -bottom-1 left-1/2 -translate-x-1/2 w-8 h-1 bg-cyan-500/50 blur-sm rounded-full\" />\r\n                                    </div>\r\n                                </motion.div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Current Pace Display */}\r\n                        <div className=\"mt-3 flex justify-center gap-6 text-center\">\r\n                            <div>\r\n                                <p className=\"text-xs text-zinc-500\">Your Pace</p>\r\n                                <p\r\n                                    className={cn(\r\n                                        \"font-mono text-xl font-bold\",\r\n                                        currentPaceKph >= requiredPace ? \"text-green-400\" : \"text-red-400\"\r\n                                    )}\r\n                                >\r\n                                    {currentPaceKph.toFixed(1)} km/h\r\n                                </p>\r\n                                <p className={cn(\"text-xs font-mono\", paceDelta >= 0 ? \"text-green-500\" : \"text-red-500\")}>\r\n                                    {paceDelta >= 0 ? \"+\" : \"\"}{paceDelta.toFixed(1)}\r\n                                </p>\r\n                            </div>\r\n                            <div className=\"border-l border-zinc-700 pl-6\">\r\n                                <p className=\"text-xs text-zinc-400\">Time</p>\r\n                                <p className=\"font-mono text-xl font-bold text-white\">\r\n                                    {Math.floor(chaseState.elapsedSeconds / 60)}:\r\n                                    {String(Math.floor(chaseState.elapsedSeconds % 60)).padStart(2, \"0\")}\r\n                                </p>\r\n                            </div>\r\n                            <div className=\"border-l border-zinc-700 pl-6\">\r\n                                <p className=\"text-xs text-zinc-400\">Distance</p>\r\n                                <p className=\"font-mono text-xl font-bold text-cyan-400\">\r\n                                    {(chaseState.playerDistanceMeters / 1000).toFixed(2)} km\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </motion.div>\r\n\r\n            {/* Danger Overlay Flash (When damaged/caught imminent) */}\r\n            <div className={cn(\r\n                \"absolute inset-0 z-40 bg-red-500/0 transition-all duration-300 pointer-events-none mix-blend-overlay\",\r\n                dangerLevel > 0.9 && \"animate-pulse bg-red-500/20\"\r\n            )} />\r\n\r\n            {/* Victory/Defeat Overlays */}\r\n            <AnimatePresence>\r\n                {chaseState.hasEscaped && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: 1 }}\r\n                        exit={{ opacity: 0 }}\r\n                        className=\"fixed inset-0 bg-green-900/80 backdrop-blur-sm flex items-center justify-center z-[100] pointer-events-auto\"\r\n                    >\r\n                        <motion.div\r\n                            initial={{ scale: 0.5, opacity: 0 }}\r\n                            animate={{ scale: 1, opacity: 1 }}\r\n                            className=\"text-center p-8\"\r\n                        >\r\n                            <Trophy className=\"w-24 h-24 text-yellow-400 mx-auto mb-4\" />\r\n                            <h2 className=\"text-4xl font-bold text-white mb-2\">ESCAPED!</h2>\r\n                            <p className=\"text-xl text-green-200 mb-6\">\r\n                                You outran {chaseState.chaser.name}!\r\n                            </p>\r\n                            <button\r\n                                onClick={onEscapedConfirm}\r\n                                className=\"px-8 py-3 bg-green-600 hover:bg-green-500 text-white font-bold rounded-lg transition-colors\"\r\n                            >\r\n                                Claim Rewards\r\n                            </button>\r\n                        </motion.div>\r\n                    </motion.div>\r\n                )}\r\n\r\n                {chaseState.isCaught && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: 1 }}\r\n                        exit={{ opacity: 0 }}\r\n                        className=\"fixed inset-0 bg-red-900/80 backdrop-blur-sm flex items-center justify-center z-[100] pointer-events-auto\"\r\n                    >\r\n                        <motion.div\r\n                            initial={{ scale: 0.5, opacity: 0 }}\r\n                            animate={{ scale: 1, opacity: 1 }}\r\n                            className=\"text-center p-8\"\r\n                        >\r\n                            <div className=\"text-6xl mb-4\">{chaseState.chaser.image}</div>\r\n                            <h2 className=\"text-4xl font-bold text-white mb-2\">CAUGHT!</h2>\r\n                            <p className=\"text-xl text-red-200 mb-6\">\r\n                                {chaseState.chaser.name} has caught up!\r\n                            </p>\r\n                            <button\r\n                                onClick={onCaughtConfirm}\r\n                                className=\"px-8 py-3 bg-red-600 hover:bg-red-500 text-white font-bold rounded-lg transition-colors flex items-center gap-2 mx-auto\"\r\n                            >\r\n                                <Zap className=\"w-5 h-5\" />\r\n                                Fight Back!\r\n                            </button>\r\n                        </motion.div>\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\training\\components\\ExerciseView.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\training\\components\\GeminiLiveCoach.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\training\\components\\HevyImportWizard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\training\\components\\OverchargePrompt.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\training\\components\\PreWorkoutCheck.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\training\\components\\ProgramComparisonView.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\training\\components\\ProgramGenerator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\training\\components\\QuestCompletion.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\training\\components\\SensorManager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\training\\components\\SetInput.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\training\\components\\SetRow.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\training\\components\\SupersetView.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\training\\components\\VisionRepCounter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\training\\components\\strava\\StravaUpload.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\training\\logic\\buffs.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\features\\training\\logic\\zones.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\hooks\\use-toast.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\hooks\\useAmbientSound.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\hooks\\useCelebration.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\hooks\\useCountUp.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\hooks\\useGestureNavigation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\hooks\\useHaptic.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\hooks\\useKeyboardShortcuts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\hooks\\useMaxReps.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\hooks\\useNetworkStatus.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\hooks\\useOfflineMode.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\hooks\\usePlatformContext.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\hooks\\usePwaInstall.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\hooks\\useReducedMotion.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\hooks\\useRestTimer.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\hooks\\useSoundProtocol.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\hooks\\useTheme.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\hooks\\useUser.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\hooks\\useVoiceCommand.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\hooks\\useVoiceCommands.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\hooks\\useWeatherEffects.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\instrumentation-client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\instrumentation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\lib\\auth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\lib\\create-safe-action.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\lib\\game\\tier-data.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\lib\\hevy.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\lib\\intervals.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\lib\\leaderboard.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\lib\\logger.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\lib\\metagame.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\lib\\mock-data.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\lib\\powerRating.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\lib\\prisma.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\lib\\pvpRanks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\lib\\sentry-cron.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\lib\\strava.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\lib\\supabase.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\lib\\territory\\tileUtils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\lib\\titles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\middleware.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\scripts\\enrich_exercise_db.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\scripts\\populate_workouts.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\scripts\\seed-bp.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\scripts\\seed-e2e.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\scripts\\stresstest_oracle.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\BluetoothService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\BudgetCalculator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\GoalPriorityEngine.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\MobilityAuditor.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\OracleService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\PushNotificationService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\TerritoryControlService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\WardensService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\analytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\analyticsWorker.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\analytics\\GrowthMetricsService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\api.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\auditorOrchestrator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\bio\\GarminService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\bio\\RecoveryService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\bluetooth-ftms.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\challengeService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\coop\\CoOpService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\data\\TrainingContextService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\game\\AutoSpecEngine.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\game\\ChaseEngine.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\game\\CombatEngine.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\game\\EffortCalculator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\game\\EquipmentService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\game\\GameContextService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\game\\GuildTerritoryService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\game\\LootSystem.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\game\\MaxRepsService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\game\\PowerRatingService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\game\\SeasonService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\game\\TerritoryService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\game\\TrainingService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\gemini.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\integration.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\iot.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\neuro.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\notifications.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\oracle.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\planner.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\pocketcasts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\progression.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\pvp\\DuelRewardsService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\pvp\\PvpCombatService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\pvp\\SeasonService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\raid.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\server\\LogService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\server\\UserService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\storage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\titan-conflict-resolution.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\titan-event-sourcing.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\titan-mutations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\titan-state-recovery.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\titan-state-schema.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\titan-state-validation.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\titan-sync-service.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\trainingMemoryManager.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\valhalla.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\services\\vision.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\stores\\auditorStore.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\types\\auditor.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\types\\chase.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\types\\game.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\types\\global.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\types\\goals.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\types\\hevy.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\types\\hevy_root.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\types\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\types\\ironforge.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\types\\loot.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\types\\lucide-react.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\types\\oracle.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\types\\react-player.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\types\\schemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\types\\skills.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\types\\training.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\utils\\apre.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\utils\\combatCombos.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\utils\\combatMechanics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\utils\\fatigueDebuff.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\utils\\haptics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\utils\\hevyAdapter.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\utils\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\utils\\logger.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\utils\\loot.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\utils\\lootEngine.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\utils\\math.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\utils\\oneRepMaxCalculator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\utils\\root_utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\utils\\sound_simple.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\utils\\supabase\\client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\utils\\supabase\\middleware.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\utils\\supabase\\server.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\utils\\typeMappers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\utils\\untitled.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\utils\\volumeCalculator.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\utils\\volumeCalculatorEnhanced.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\utils\\weaknessAuditor.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\utils\\wilks.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\src\\utils\\workoutMapper.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\e2e\\archetype.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\e2e\\auth.setup.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\e2e\\battle-pass.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\e2e\\cardio-duels.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\e2e\\core-gameplay.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\e2e\\critical-path.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\e2e\\dashboard-interaction.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\e2e\\dashboard-ux.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\e2e\\dashboard-verification.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\e2e\\game-systems.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\e2e\\guild-territories.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\e2e\\iron-mines.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\e2e\\landing.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\e2e\\navigation.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\e2e\\oracle-chat.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\e2e\\podcast.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\e2e\\power-rating.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\e2e\\pvp-seasons.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\e2e\\ranked-arena.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\e2e\\settings-social.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\e2e\\setup\\e2e-seed.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\e2e\\strength-workout.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\e2e\\territory.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\e2e\\titan-duels.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\e2e\\training-flow.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\e2e\\tv-mode.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\e2e\\visual.spec.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\integration\\OracleFlow.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\integration\\strava-webhook.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\mocks\\clerk.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\mocks\\registry.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\actions\\combat\\core.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\actions\\duel.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\actions\\economy\\forge.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\actions\\guild\\core.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\actions\\guild\\raids.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\actions\\integrations\\core.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\actions\\integrations\\hevy.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\actions\\integrations\\hevy_import.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\actions\\integrations\\intervals.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\actions\\integrations\\strava.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\actions\\leaderboards.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\actions\\progression\\achievements.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\actions\\progression\\core.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\actions\\pvp\\core.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\actions\\pvp\\duel.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\actions\\pvp\\ranked.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\actions\\pvp\\segment.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\actions\\social\\core.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\actions\\systems\\battle-pass.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\actions\\systems\\challenges.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\actions\\systems\\world.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\actions\\territory.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\actions\\titan\\core.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\actions\\training\\core.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\actions\\training\\gauntlet.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\actions\\training\\periodization.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\actions\\user\\account.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\actions\\user\\logger.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\actions\\user\\onboarding.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\actions\\validation.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\app\\api\\chat\\route.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\app\\api\\cron\\power-rating\\route.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\app\\api\\health\\route.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\app\\api\\sync\\sync.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\app\\api\\sync\\user\\route.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\components\\marketing\\FeatureGrid.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\components\\marketing\\Hero.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\components\\marketing\\Pricing.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\features\\CardioDuel.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\features\\dashboard\\FeedPanel.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\features\\dashboard\\QuickActions.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\features\\dashboard\\StatsHeader.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\features\\strength\\custom-exercises.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\features\\strength\\history.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\features\\strength\\useSetHistory.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\features\\territory\\territory.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\features\\training\\logic\\buffs.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\features\\training\\logic\\zones.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\hooks\\useSkillEffects.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\lib\\integrations.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\lib\\powerRating.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\lib\\territory\\tileUtils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\lib\\volume.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\lib\\wilks.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\services\\BudgetCalculator.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\services\\GeminiService.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\services\\GoalPriorityEngine.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\services\\MobilityAuditor.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\services\\OracleService.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\services\\TerritoryControlService.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\services\\analytics\\GrowthMetricsService.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\services\\data\\TrainingContextService.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\services\\game\\EffortCalculator.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\services\\game\\GameContextService.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\services\\game\\GuildTerritoryService.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\services\\game\\PowerRatingService.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\services\\integration\\GPE_Fallback.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\services\\oracle.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\services\\planner.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\services\\progression.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\services\\pvp\\DuelRewardsService.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\services\\pvp\\PvpCombatService.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\services\\trainingMemoryManager.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\utils\\apre.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\utils\\combatMechanics.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\utils\\volumeCalculator.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\tests\\unit\\utils\\weaknessAuditor.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\vitest.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\vitest.integration.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\vitest.setup.integration.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\alexa\\Workspaces\\IronForge\\vitest.setup.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
